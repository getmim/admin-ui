/*!
  * Admin UI v0.0.1 (https://github.com/getmim/admin-ui)
  * Copyright 2011-2021 MIM Dev
  * Licensed under MIT (https://github.com/getmim/admin-ui/blob/master/LICENSE)
  */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("jquery")):"function"==typeof define&&define.amd?define(["exports","jquery"],t):t((e=e||self)["bootstrap-plugins"]={},e.jQuery)}(this,function(e,f){"use strict";function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}function r(a){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?Object(arguments[e]):{},t=Object.keys(s);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(s).filter(function(e){return Object.getOwnPropertyDescriptor(s,e).enumerable}))),t.forEach(function(e){var t,i,n;t=a,n=s[i=e],i in t?Object.defineProperty(t,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[i]=n})}return a}f=f&&Object.prototype.hasOwnProperty.call(f,"default")?f.default:f;var t="transitionend";function i(e){var t=this,i=!1;return f(this).one(l.TRANSITION_END,function(){i=!0}),setTimeout(function(){i||l.triggerTransitionEnd(t)},e),this}var l={TRANSITION_END:"bsTransitionEnd",getUID:function(e){for(;e+=~~(1e6*Math.random()),document.getElementById(e););return e},getSelectorFromElement:function(e){var t,i=e.getAttribute("data-target");i&&"#"!==i||(i=(t=e.getAttribute("href"))&&"#"!==t?t.trim():"");try{return document.querySelector(i)?i:null}catch(e){return null}},getTransitionDurationFromElement:function(e){if(!e)return 0;var t=f(e).css("transition-duration"),i=f(e).css("transition-delay"),n=parseFloat(t),a=parseFloat(i);return n||a?(t=t.split(",")[0],i=i.split(",")[0],1e3*(parseFloat(t)+parseFloat(i))):0},reflow:function(e){return e.offsetHeight},triggerTransitionEnd:function(e){f(e).trigger(t)},supportsTransitionEnd:function(){return Boolean(t)},isElement:function(e){return(e[0]||e).nodeType},typeCheckConfig:function(e,t,i){for(var n in i)if(Object.prototype.hasOwnProperty.call(i,n)){var a=i[n],s=t[n],r=s&&l.isElement(s)?"element":(o=s,{}.toString.call(o).match(/\s([a-z]+)/i)[1].toLowerCase());if(!new RegExp(a).test(r))throw new Error(e.toUpperCase()+': Option "'+n+'" provided type "'+r+'" but expected type "'+a+'".')}var o},findShadowRoot:function(e){if(!document.documentElement.attachShadow)return null;if("function"!=typeof e.getRootNode)return e instanceof ShadowRoot?e:e.parentNode?l.findShadowRoot(e.parentNode):null;var t=e.getRootNode();return t instanceof ShadowRoot?t:null}};f.fn.emulateTransitionEnd=i,f.event.special[l.TRANSITION_END]={bindType:t,delegateType:t,handle:function(e){if(f(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}};var o="autocomplete",d="bs.autocomplete",c="."+d,a=".data-api",u=f.fn[o],h={list:null,prefetch:null,filter:null,filterDelay:300,filterMinChars:1,filterRelation:null,maxResult:10,preProcess:null},p={list:"(null|string|element)",prefetch:"(null|string)",filter:"(null|string)",filterDelay:"number",filterMinChars:"number",filterRelation:"(null|object)",maxResult:"number",preProcess:"(null|function)"},m={BLUR_DATA_API:"blur"+c+a,CLICK_DATA_API:"click"+c+a,KEYDOWN_DATA_API:"keydown"+c+a,INPUT_DATA_API:"input"+c+a},g=40,v=38,w=13,b=27,y=function(){function a(e,t){if(this._config=this._getConfig(t),this._element=e,this._items=[],this._labels={},this._isShown=!1,this._dropdown=null,this._spinner=null,this._result=[],this._query="",this._preventClose=!1,this._timer=null,this._relations=null,e.hasAttribute("list")&&(this._config.list="#"+e.getAttribute("list"),e.removeAttribute("list")),!this._config.list&&!this._config.prefetch&&!this._config.filter)throw new TypeError("No data source provided");this._config.filterRelation&&this._handleRelations(),e.setAttribute("autocomplete","off"),this._makeDropdown(),this._makeSpinner(),this._fetchPresetData(),this._addElementListener()}var e=a.prototype;return e.show=function(){this._isShown||this._result.length&&this._showDropdown()},e.hide=function(){this._isShown&&this._hideDropdown()},e.dispose=function(){f(this._element).off(c),f.removeData(this._element,d),this._config=null,this._element=null,this._items=null,this._labels=null,this._isShown=null,this._dropdown=null,this._spinner=null,this._result=null,this._query=null,this._preventClose=null,this._timer&&clearTimeout(this._timer),this._timer=null},e._addElementListener=function(){var n=this;f(this._element).on(m.KEYDOWN_DATA_API,function(e){var t,i=!1;switch(e.keyCode){case g:e.altKey&&!n._isShown?(n._query=n._element.value.trim().toLowerCase(),n._query&&(n._findFromList(),i=!0)):(n._focusNext(),i=!0);break;case v:n._focusPrev(),i=!0;break;case w:n._isShown&&((t=(t=f(n._dropdown).children(".active").get(0))||f(n._dropdown).children(":first-child").get(0))&&(n._element.value=t.innerText),n.hide(),i=!0);break;case b:i=!0,n.hide()}i&&e.preventDefault()}),f(this._element).on(m.INPUT_DATA_API,function(e){n._query=n._element.value.trim().toLowerCase(),n._query?n._findFromList():(n._truncateDropdown(),n.hide())}),f(this._element).on(m.BLUR_DATA_API,function(e){n._preventClose||setTimeout(function(){return n.hide()},150)})},e._fetchPresetData=function(){var e,i=this;this._config.list&&("string"==typeof(e=this._config.list)&&(e=document.querySelector(this._config.list)),e&&Array.from(e.children).forEach(function(e){var t=e.innerHTML.toLowerCase();i._items.includes(t)||(i._items.push(t),i._labels[t]=e.innerHTML)})),this._config.prefetch&&(this._showSpinner(),f.get(this._config.prefetch,function(e){i._hideSpinner(),i._config.preProcess&&(e=i._config.preProcess(e)),e.forEach(function(e){var t=e.toLowerCase();i._items.includes(t)||(i._items.push(t),i._labels[t]=e)})}))},e._findFromAjax=function(){var s,r=this;this._config.filter&&(this._dropdown.children.length>=this._config.maxResult||(this._timer&&clearTimeout(this._timer),s=this._query,this._timer=setTimeout(function(){if(s==r._query){r._showSpinner();var e=r._config.filter.replace(/%23/g,"#").replace("#QUERY#",r._query);if(r._relations){var t,i=e.includes("?")?"&":"?";for(t in r._relations){var n=r._relations[t],a=f(n).val();a&&(e+=""+i+t+"="+a,i="&")}}f.get(e,function(e){r._hideSpinner(),r._config.preProcess&&(e=r._config.preProcess(e));var i=[];e.forEach(function(e){var t=e.toLowerCase();r._items.includes(t)||(r._items.push(t),r._labels[t]=e,i.push(e),r._result.push(e))}),i.length&&r._renderItem(i),r._result.length?r.show():r.hide()})}},this._config.filterDelay)))},e._findFromList=function(){var i=this;this._truncateDropdown(),this._result=[];var n=[];this._items.forEach(function(e){var t;e.includes(i._query)&&(t=i._labels[e],i._result.includes(t)||(n.push(t),i._result.push(t)))}),n.length?(this._renderItem(n),this.show()):this.hide(),this._findFromAjax()},e._focusNext=function(){var e,t=f(this._dropdown).children(":first-child").get(0),i=f(this._dropdown).children(".active").get(0);i&&(i.classList.remove("active"),(e=f(i).next().get(0))&&(t=e)),t&&t.classList.add("active")},e._focusPrev=function(){var e,t=f(this._dropdown).children(":last-child").get(0),i=f(this._dropdown).children(".active").get(0);i&&(i.classList.remove("active"),(e=f(i).prev().get(0))&&(t=e)),t&&t.classList.add("active")},e._getConfig=function(e){return e=r({},h,e),l.typeCheckConfig(o,e,p),e},e._handleRelations=function(){var e,t=this;for(e in this._relations=[],this._config.filterRelation){var i=this._config.filterRelation[e];this._relations[e]=f(i).get(0),f(this._relations[e]).change(function(e){t._element.value="",f(t._element).change(),t._items=[]})}},e._hideDropdown=function(){this._isShown=!1,this._dropdown.classList.remove("show")},e._hideSpinner=function(){this._spinner.style.display="none"},e._makeDropdown=function(){this._element.parentNode.style.position="relative";this._dropdown=f('<div class="dropdown-menu" style="width:100%"></div>').appendTo(this._element.parentNode).get(0)},e._makeSpinner=function(){this._spinner=f('<div class="spinner-border spinner-border-sm text-secondary" role="status"></div>').appendTo(this._element.parentNode).get(0),f(this._spinner).css({position:"absolute",right:f(this._element).css("padding-right"),top:this._element.offsetTop+(this._element.offsetHeight-this._spinner.offsetHeight)/2+"px"}),this._hideSpinner()},e._renderItem=function(e){var t=this;e.forEach(function(e){t._dropdown.children.length>=t._config.maxResult||f('<a class="dropdown-item" href="#"></a>').text(e).appendTo(t._dropdown).on(m.CLICK_DATA_API,function(e){t._preventClose=!0,t._element.value=e.target.innerText,t.hide(),e.preventDefault(),t._preventClose=!1})})},e._showDropdown=function(){this._isShown=!0,this._dropdown.classList.add("show")},e._showSpinner=function(){this._spinner.style.display="inline-block"},e._truncateDropdown=function(){this._dropdown.innerHTML=""},a._jQueryInterface=function(i,n){return this.each(function(){var e=f(this).data(d),t=r({},h,f(this).data(),"object"==typeof i&&i?i:{});if(e||(e=new a(this,t),f(this).data(d,e)),"string"==typeof i){if("undefined"==typeof e[i])throw new TypeError('No method named "'+i+'"');e[i](n)}})},s(a,null,[{key:"VERSION",get:function(){return"0.1.0"}},{key:"Default",get:function(){return h}}]),a}();f.fn[o]=y._jQueryInterface,f.fn[o].Constructor=y,f.fn[o].noConflict=function(){return f.fn[o]=u,y._jQueryInterface},function(S){var c=["sanitize","whiteList","sanitizeFn"],g=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],e={"*":["class","dir","id","lang","role","tabindex","style",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},v=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,w=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+/]+=*$/i;function H(e,t,i){if(i&&"function"==typeof i)return i(e);for(var n=Object.keys(t),a=0,s=e.length;a<s;a++)for(var r=e[a].querySelectorAll("*"),o=0,l=r.length;o<l;o++){var d=r[o],c=d.nodeName.toLowerCase();if(-1!==n.indexOf(c))for(var u=[].slice.call(d.attributes),h=[].concat(t["*"]||[],t[c]||[]),f=0,p=u.length;f<p;f++){var m=u[f];!function(e,t){var i=e.nodeName.toLowerCase();if(-1!==S.inArray(i,t))return-1===S.inArray(i,g)||Boolean(e.nodeValue.match(v)||e.nodeValue.match(w));for(var n=S(t).filter(function(e,t){return t instanceof RegExp}),a=0,s=n.length;a<s;a++)if(i.match(n[a]))return 1}(m,h)&&d.removeAttribute(m.nodeName)}else d.parentNode.removeChild(d)}}"classList"in document.createElement("_")||function(e){if("Element"in e){var t="classList",i="prototype",n=e.Element[i],a=Object,s=function(){var i=S(this);return{add:function(e){return e=Array.prototype.slice.call(arguments).join(" "),i.addClass(e)},remove:function(e){return e=Array.prototype.slice.call(arguments).join(" "),i.removeClass(e)},toggle:function(e,t){return i.toggleClass(e,t)},contains:function(e){return i.hasClass(e)}}};if(a.defineProperty){var r={get:s,enumerable:!0,configurable:!0};try{a.defineProperty(n,t,r)}catch(e){void 0!==e.number&&-2146823252!==e.number||(r.enumerable=!1,a.defineProperty(n,t,r))}}else a[i].__defineGetter__&&n.__defineGetter__(t,s)}}(window);var t,i,n,a,u,s=document.createElement("_");function r(e,t){if(null==this)throw new TypeError;var i=String(this);if(e&&"[object RegExp]"==u.call(e))throw new TypeError;var n=i.length,a=String(e),s=a.length,r=1<arguments.length?t:void 0,o=r?Number(r):0;o!=o&&(o=0);var l=Math.min(Math.max(o,0),n);if(n<s+l)return!1;for(var d=-1;++d<s;)if(i.charCodeAt(l+d)!=a.charCodeAt(d))return!1;return!0}function x(e){var t,i=[],n=e.selectedOptions;if(e.multiple)for(var a=0,s=n.length;a<s;a++)t=n[a],i.push(t.value||t.text);else i=e.value;return i}s.classList.add("c1","c2"),s.classList.contains("c2")||(t=DOMTokenList.prototype.add,i=DOMTokenList.prototype.remove,DOMTokenList.prototype.add=function(){Array.prototype.forEach.call(arguments,t.bind(this))},DOMTokenList.prototype.remove=function(){Array.prototype.forEach.call(arguments,i.bind(this))}),s.classList.toggle("c3",!1),s.classList.contains("c3")&&(n=DOMTokenList.prototype.toggle,DOMTokenList.prototype.toggle=function(e,t){return 1 in arguments&&!this.contains(e)==!t?t:n.call(this,e)}),s=null,String.prototype.startsWith||(a=function(){try{var e={},t=Object.defineProperty,i=t(e,e,e)&&t}catch(e){}return i}(),u={}.toString,a?a(String.prototype,"startsWith",{value:r,configurable:!0,writable:!0}):String.prototype.startsWith=r),Object.keys||(Object.keys=function(e,t,i){for(t in i=[],e)i.hasOwnProperty.call(e,t)&&i.push(t);return i}),HTMLSelectElement&&!HTMLSelectElement.prototype.hasOwnProperty("selectedOptions")&&Object.defineProperty(HTMLSelectElement.prototype,"selectedOptions",{get:function(){return this.querySelectorAll(":checked")}});var o={useDefault:!1,_set:S.valHooks.select.set};S.valHooks.select.set=function(e,t){return t&&!o.useDefault&&S(e).data("selected",!0),o._set.apply(this,arguments)};var E=null,l=function(){try{return new Event("change"),!0}catch(e){return!1}}();function C(e,t,i,n){for(var a=["display","subtext","tokens"],s=!1,r=0;r<a.length;r++){var o=a[r],l=e[o];if(l&&(l=l.toString(),"display"===o&&(l=l.replace(/<[^>]+>/g,"")),n&&(l=m(l)),l=l.toUpperCase(),s="contains"===i?0<=l.indexOf(t):l.startsWith(t)))break}return s}function A(e){return parseInt(e,10)||0}S.fn.triggerNative=function(e){var t,i=this[0];i.dispatchEvent?(l?t=new Event(e,{bubbles:!0}):(t=document.createEvent("Event")).initEvent(e,!0,!1),i.dispatchEvent(t)):i.fireEvent?((t=document.createEventObject()).eventType=e,i.fireEvent("on"+e,t)):this.trigger(e)};var d={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},h=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,f=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\u1ab0-\\u1aff\\u1dc0-\\u1dff]","g");function p(e){return d[e]}function m(e){return(e=e.toString())&&e.replace(h,p).replace(f,"")}var b,y,_,k,I=(b={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},y="(?:"+Object.keys(b).join("|")+")",_=RegExp(y),k=RegExp(y,"g"),function(e){return e=null==e?"":""+e,_.test(e)?e.replace(k,D):e});function D(e){return b[e]}var T={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"},O=27,N=13,L=32,P=9,M=38,R=40,z={success:!1,major:"3"};try{z.full=(S.fn.dropdown.Constructor.VERSION||"").split(" ")[0].split("."),z.major=z.full[0],z.success=!0}catch(e){}var $=0,j=".bs.select",F={DISABLED:"disabled",DIVIDER:"divider",SHOW:"open",DROPUP:"dropup",MENU:"dropdown-menu",MENURIGHT:"dropdown-menu-right",MENULEFT:"dropdown-menu-left",BUTTONCLASS:"btn-default",POPOVERHEADER:"popover-title",ICONBASE:"glyphicon",TICKICON:"glyphicon-ok"},W={MENU:"."+F.MENU},U={span:document.createElement("span"),i:document.createElement("i"),subtext:document.createElement("small"),a:document.createElement("a"),li:document.createElement("li"),whitespace:document.createTextNode(" "),fragment:document.createDocumentFragment()};U.a.setAttribute("role","option"),U.subtext.className="text-muted",U.text=U.span.cloneNode(!1),U.text.className="text",U.checkMark=U.span.cloneNode(!1);function B(e,t){var i=this;o.useDefault||(S.valHooks.select.set=o._set,o.useDefault=!0),this.$element=S(e),this.$newElement=null,this.$button=null,this.$menu=null,this.options=t,this.selectpicker={main:{},current:{},search:{},view:{},keydown:{keyHistory:"",resetKeyHistory:{start:function(){return setTimeout(function(){i.selectpicker.keydown.keyHistory=""},800)}}}},null===this.options.title&&(this.options.title=this.$element.attr("title"));var n=this.options.windowPadding;"number"==typeof n&&(this.options.windowPadding=[n,n,n,n]),this.val=B.prototype.val,this.render=B.prototype.render,this.refresh=B.prototype.refresh,this.setStyle=B.prototype.setStyle,this.selectAll=B.prototype.selectAll,this.deselectAll=B.prototype.deselectAll,this.destroy=B.prototype.destroy,this.remove=B.prototype.remove,this.show=B.prototype.show,this.hide=B.prototype.hide,this.init()}var q=new RegExp(M+"|"+R),Y=new RegExp("^"+P+"$|"+O),V=function(e,t,i){var n=U.li.cloneNode(!1);return e&&(1===e.nodeType||11===e.nodeType?n.appendChild(e):n.innerHTML=e),"undefined"!=typeof t&&""!==t&&(n.className=t),"undefined"!=typeof i&&null!==i&&n.classList.add("optgroup-"+i),n},K=function(e,t,i){var n=U.a.cloneNode(!0);return e&&(11===e.nodeType?n.appendChild(e):n.insertAdjacentHTML("beforeend",e)),"undefined"!=typeof t&&""!==t&&(n.className=t),"4"===z.major&&n.classList.add("dropdown-item"),i&&n.setAttribute("style",i),n},Q=function(e,t){var i,n,a,s=U.text.cloneNode(!1);if(e.content?s.innerHTML=e.content:(s.textContent=e.text,e.icon&&(n=U.whitespace.cloneNode(!1),(a=(!0===t?U.i:U.span).cloneNode(!1)).className=e.iconBase+" "+e.icon,U.fragment.appendChild(a),U.fragment.appendChild(n)),e.subtext&&((i=U.subtext.cloneNode(!1)).textContent=e.subtext,s.appendChild(i))),!0===t)for(;0<s.childNodes.length;)U.fragment.appendChild(s.childNodes[0]);else U.fragment.appendChild(s);return U.fragment},G=function(e){var t,i,n,a=U.text.cloneNode(!1);return a.innerHTML=e.label,e.icon&&(i=U.whitespace.cloneNode(!1),(n=U.span.cloneNode(!1)).className=e.iconBase+" "+e.icon,U.fragment.appendChild(n),U.fragment.appendChild(i)),e.subtext&&((t=U.subtext.cloneNode(!1)).textContent=e.subtext,a.appendChild(t)),U.fragment.appendChild(a),U.fragment};function X(e){var o,l=arguments,d=e;if([].shift.apply(l),!z.success){try{z.full=(S.fn.dropdown.Constructor.VERSION||"").split(" ")[0].split(".")}catch(e){B.BootstrapVersion?z.full=B.BootstrapVersion.split(" ")[0].split("."):(z.full=[z.major,"0","0"],console.warn("There was an issue retrieving Bootstrap's version. Ensure Bootstrap is being loaded before bootstrap-select and there is no namespace collision. If loading Bootstrap asynchronously, the version may need to be manually specified via $.fn.selectpicker.Constructor.BootstrapVersion.",e))}z.major=z.full[0],z.success=!0}if("4"===z.major){var t=[];B.DEFAULTS.style===F.BUTTONCLASS&&t.push({name:"style",className:"BUTTONCLASS"}),B.DEFAULTS.iconBase===F.ICONBASE&&t.push({name:"iconBase",className:"ICONBASE"}),B.DEFAULTS.tickIcon===F.TICKICON&&t.push({name:"tickIcon",className:"TICKICON"}),F.DIVIDER="dropdown-divider",F.SHOW="show",F.BUTTONCLASS="btn-bootstrap-select",F.POPOVERHEADER="popover-header",F.ICONBASE="",F.TICKICON="bs-ok-default";for(var i=0;i<t.length;i++){e=t[i];B.DEFAULTS[e.name]=F[e.className]}}var n=this.each(function(){var e=S(this);if(e.is("select")){var t=e.data("selectpicker"),i="object"==typeof d&&d;if(t){if(i)for(var n in i)i.hasOwnProperty(n)&&(t.options[n]=i[n])}else{var a,s=e.data();for(a in s)s.hasOwnProperty(a)&&-1!==S.inArray(a,c)&&delete s[a];var r=S.extend({},B.DEFAULTS,S.fn.selectpicker.defaults||{},s,i);r.template=S.extend({},B.DEFAULTS.template,S.fn.selectpicker.defaults?S.fn.selectpicker.defaults.template:{},s.template,i.template),e.data("selectpicker",t=new B(this,r))}"string"==typeof d&&(o=t[d]instanceof Function?t[d].apply(t,l):t.options[d])}});return"undefined"!=typeof o?o:n}B.VERSION="1.13.9",B.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(e){return 1==e?"{0} item selected":"{0} items selected"},maxOptionsText:function(e,t){return[1==e?"Limit reached ({n} item max)":"Limit reached ({n} items max)",1==t?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",doneButton:!1,doneButtonText:"Close",multipleSeparator:", ",styleBase:"btn",style:F.BUTTONCLASS,size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,liveSearchPlaceholder:null,liveSearchNormalize:!1,liveSearchStyle:"contains",actionsBox:!1,iconBase:F.ICONBASE,tickIcon:F.TICKICON,showTick:!1,template:{caret:'<span class="caret"></span>'},maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1,windowPadding:0,virtualScroll:600,display:!1,sanitize:!0,sanitizeFn:null,whiteList:e},B.prototype={constructor:B,init:function(){var i=this,e=this.$element.attr("id");this.selectId=$++,this.$element[0].classList.add("bs-select-hidden"),this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),this.options.showTick=this.$element[0].classList.contains("show-tick"),this.$newElement=this.createDropdown(),this.$element.after(this.$newElement).prependTo(this.$newElement),this.$button=this.$newElement.children("button"),this.$menu=this.$newElement.children(W.MENU),this.$menuInner=this.$menu.children(".inner"),this.$searchbox=this.$menu.find("input"),this.$element[0].classList.remove("bs-select-hidden"),!0===this.options.dropdownAlignRight&&this.$menu[0].classList.add(F.MENURIGHT),"undefined"!=typeof e&&this.$button.attr("data-id",e),this.checkDisabled(),this.clickListener(),this.options.liveSearch&&this.liveSearchListener(),this.setStyle(),this.render(),this.setWidth(),this.options.container?this.selectPosition():this.$element.on("hide"+j,function(){var e,t;i.isVirtual()&&(t=(e=i.$menuInner[0]).firstChild.cloneNode(!1),e.replaceChild(t,e.firstChild),e.scrollTop=0)}),this.$menu.data("this",this),this.$newElement.data("this",this),this.options.mobile&&this.mobile(),this.$newElement.on({"hide.bs.dropdown":function(e){i.$menuInner.attr("aria-expanded",!1),i.$element.trigger("hide"+j,e)},"hidden.bs.dropdown":function(e){i.$element.trigger("hidden"+j,e)},"show.bs.dropdown":function(e){i.$menuInner.attr("aria-expanded",!0),i.$element.trigger("show"+j,e)},"shown.bs.dropdown":function(e){i.$element.trigger("shown"+j,e)}}),i.$element[0].hasAttribute("required")&&this.$element.on("invalid"+j,function(){i.$button[0].classList.add("bs-invalid"),i.$element.on("shown"+j+".invalid",function(){i.$element.val(i.$element.val()).off("shown"+j+".invalid")}).on("rendered"+j,function(){this.validity.valid&&i.$button[0].classList.remove("bs-invalid"),i.$element.off("rendered"+j)}),i.$button.on("blur"+j,function(){i.$element.trigger("focus").trigger("blur"),i.$button.off("blur"+j)})}),setTimeout(function(){i.createLi(),i.$element.trigger("loaded"+j)})},createDropdown:function(){var e=this.multiple||this.options.showTick?" show-tick":"",t="",i=this.autofocus?" autofocus":"";z.major<4&&this.$element.parent().hasClass("input-group")&&(t=" input-group-btn");var n,a="",s="",r="",o="";return this.options.header&&(a='<div class="'+F.POPOVERHEADER+'"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>"),this.options.liveSearch&&(s='<div class="bs-searchbox"><input type="text" class="form-control" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+I(this.options.liveSearchPlaceholder)+'"')+' role="textbox" aria-label="Search"></div>'),this.multiple&&this.options.actionsBox&&(r='<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button type="button" class="actions-btn bs-select-all btn '+F.BUTTONCLASS+'">'+this.options.selectAllText+'</button><button type="button" class="actions-btn bs-deselect-all btn '+F.BUTTONCLASS+'">'+this.options.deselectAllText+"</button></div></div>"),this.multiple&&this.options.doneButton&&(o='<div class="bs-donebutton"><div class="btn-group btn-block"><button type="button" class="btn btn-sm '+F.BUTTONCLASS+'">'+this.options.doneButtonText+"</button></div></div>"),n='<div class="dropdown bootstrap-select'+e+t+'"><button type="button" class="'+this.options.styleBase+' dropdown-toggle" '+("static"===this.options.display?'data-display="static"':"")+'data-toggle="dropdown"'+i+' role="button"><div class="filter-option"><div class="filter-option-inner"><div class="filter-option-inner-inner"></div></div> </div>'+("4"===z.major?"":'<span class="bs-caret">'+this.options.template.caret+"</span>")+'</button><div class="'+F.MENU+" "+("4"===z.major?"":F.SHOW)+'" role="combobox">'+a+s+r+'<div class="inner '+F.SHOW+'" role="listbox" aria-expanded="false" tabindex="-1"><ul class="'+F.MENU+" inner "+("4"===z.major?F.SHOW:"")+'"></ul></div>'+o+"</div></div>",S(n)},setPositionData:function(){this.selectpicker.view.canHighlight=[];for(var e=0;e<this.selectpicker.current.data.length;e++){var t=this.selectpicker.current.data[e],i=!0;"divider"===t.type?(i=!1,t.height=this.sizeInfo.dividerHeight):"optgroup-label"===t.type?(i=!1,t.height=this.sizeInfo.dropdownHeaderHeight):t.height=this.sizeInfo.liHeight,t.disabled&&(i=!1),this.selectpicker.view.canHighlight.push(i),t.position=(0===e?0:this.selectpicker.current.data[e-1].position)+t.height}},isVirtual:function(){return!1!==this.options.virtualScroll&&this.selectpicker.main.elements.length>=this.options.virtualScroll||!0===this.options.virtualScroll},createView:function(O,e){e=e||0;var N=this;this.selectpicker.current=O?this.selectpicker.search:this.selectpicker.main;var L,P,M=[];function i(e,t){var i,n,a,s,r,o,l,d,c=N.selectpicker.current.elements.length,u=[],h=!0,f=N.isVirtual();N.selectpicker.view.scrollTop=e,!0===f&&N.sizeInfo.hasScrollBar&&N.$menu[0].offsetWidth>N.sizeInfo.totalMenuWidth&&(N.sizeInfo.menuWidth=N.$menu[0].offsetWidth,N.sizeInfo.totalMenuWidth=N.sizeInfo.menuWidth+N.sizeInfo.scrollBarWidth,N.$menu.css("min-width",N.sizeInfo.menuWidth)),i=Math.ceil(N.sizeInfo.menuInnerHeight/N.sizeInfo.liHeight*1.5),n=Math.round(c/i)||1;for(var p,m,g,v,w=0;w<n;w++){var b=w===n-1?c:(w+1)*i;if(u[w]=[w*i+(w?1:0),b],!c)break;void 0===r&&e<=N.selectpicker.current.data[b-1].position-N.sizeInfo.menuInnerHeight&&(r=w)}if(void 0===r&&(r=0),o=[N.selectpicker.view.position0,N.selectpicker.view.position1],a=Math.max(0,r-1),s=Math.min(n-1,r+1),N.selectpicker.view.position0=!1!==f&&Math.max(0,u[a][0])||0,N.selectpicker.view.position1=!1===f?c:Math.min(c,u[s][1])||0,l=o[0]!==N.selectpicker.view.position0||o[1]!==N.selectpicker.view.position1,void 0!==N.activeIndex&&(P=N.selectpicker.main.elements[N.prevActiveIndex],M=N.selectpicker.main.elements[N.activeIndex],L=N.selectpicker.main.elements[N.selectedIndex],t&&(N.activeIndex!==N.selectedIndex&&M&&M.length&&(M.classList.remove("active"),M.firstChild&&M.firstChild.classList.remove("active")),N.activeIndex=void 0),N.activeIndex&&N.activeIndex!==N.selectedIndex&&L&&L.length&&(L.classList.remove("active"),L.firstChild&&L.firstChild.classList.remove("active"))),void 0!==N.prevActiveIndex&&N.prevActiveIndex!==N.activeIndex&&N.prevActiveIndex!==N.selectedIndex&&P&&P.length&&(P.classList.remove("active"),P.firstChild&&P.firstChild.classList.remove("active")),(t||l)&&(d=N.selectpicker.view.visibleElements?N.selectpicker.view.visibleElements.slice():[],N.selectpicker.view.visibleElements=!1===f?N.selectpicker.current.elements:N.selectpicker.current.elements.slice(N.selectpicker.view.position0,N.selectpicker.view.position1),N.setOptionStatus(),(O||!1===f&&t)&&(p=d,m=N.selectpicker.view.visibleElements,h=!(p.length===m.length&&p.every(function(e,t){return e===m[t]}))),(t||!0===f)&&h)){var y,_,k=N.$menuInner[0],C=document.createDocumentFragment(),I=k.firstChild.cloneNode(!1),D=N.selectpicker.view.visibleElements,x=[];k.replaceChild(I,k.firstChild);for(var w=0,E=D.length;w<E;w++){var T,S,A=D[w];N.options.sanitize&&(T=A.lastChild)&&(S=N.selectpicker.current.data[w+N.selectpicker.view.position0])&&S.content&&!S.sanitized&&(x.push(T),S.sanitized=!0),C.appendChild(A)}N.options.sanitize&&x.length&&H(x,N.options.whiteList,N.options.sanitizeFn),!0===f&&(y=0===N.selectpicker.view.position0?0:N.selectpicker.current.data[N.selectpicker.view.position0-1].position,_=N.selectpicker.view.position1>c-1?0:N.selectpicker.current.data[c-1].position-N.selectpicker.current.data[N.selectpicker.view.position1-1].position,k.firstChild.style.marginTop=y+"px",k.firstChild.style.marginBottom=_+"px"),k.firstChild.appendChild(C)}N.prevActiveIndex=N.activeIndex,N.options.liveSearch?O&&t&&(g=0,N.selectpicker.view.canHighlight[g]||(g=1+N.selectpicker.view.canHighlight.slice(1).indexOf(!0)),v=N.selectpicker.view.visibleElements[g],N.selectpicker.view.currentActive&&(N.selectpicker.view.currentActive.classList.remove("active"),N.selectpicker.view.currentActive.firstChild&&N.selectpicker.view.currentActive.firstChild.classList.remove("active")),v&&(v.classList.add("active"),v.firstChild&&v.firstChild.classList.add("active")),N.activeIndex=(N.selectpicker.current.data[g]||{}).index):N.$menuInner.trigger("focus")}this.setPositionData(),i(e,!0),this.$menuInner.off("scroll.createView").on("scroll.createView",function(e,t){N.noScroll||i(this.scrollTop,t),N.noScroll=!1}),S(window).off("resize"+j+"."+this.selectId+".createView").on("resize"+j+"."+this.selectId+".createView",function(){N.$newElement.hasClass(F.SHOW)&&i(N.$menuInner[0].scrollTop)})},setPlaceholder:function(){var e,t,i,n=!1;return this.options.title&&!this.multiple&&(this.selectpicker.view.titleOption||(this.selectpicker.view.titleOption=document.createElement("option")),n=!0,e=this.$element[0],i=!1,(t=!this.selectpicker.view.titleOption.parentNode)&&(this.selectpicker.view.titleOption.className="bs-title-option",this.selectpicker.view.titleOption.value="",i=void 0===S(e.options[e.selectedIndex]).attr("selected")&&void 0===this.$element.data("selected")),!t&&0===this.selectpicker.view.titleOption.index||e.insertBefore(this.selectpicker.view.titleOption,e.firstChild),i&&(e.selectedIndex=0)),n},createLi:function(){var l=this,p=this.options.iconBase,m=':not([hidden]):not([data-hidden="true"])',g=[],v=[],d=0,w=0,e=this.setPlaceholder()?1:0;this.options.hideDisabled&&(m+=":not(:disabled)"),!l.options.showTick&&!l.multiple||U.checkMark.parentNode||(U.checkMark.className=p+" "+l.options.tickIcon+" check-mark",U.a.appendChild(U.checkMark));var t=this.$element[0].querySelectorAll("select > *"+m);function b(e){var t=v[v.length-1];t&&"divider"===t.type&&(t.optID||e.optID)||((e=e||{}).type="divider",g.push(V(!1,F.DIVIDER,e.optID?e.optID+"div":void 0)),v.push(e))}function y(e,t){var i,n,a,s,r,o;(t=t||{}).divider="true"===e.getAttribute("data-divider"),t.divider?b({optID:t.optID}):(i=v.length,a=(n=e.style.cssText)?I(n):"",s=(e.className||"")+(t.optgroupClass||""),t.optID&&(s="opt "+s),t.text=e.textContent,t.content=e.getAttribute("data-content"),t.tokens=e.getAttribute("data-tokens"),t.subtext=e.getAttribute("data-subtext"),t.icon=e.getAttribute("data-icon"),t.iconBase=p,r=Q(t),g.push(V(K(r,s,a),"",t.optID)),e.liIndex=i,t.display=t.content||t.text,t.type="option",t.index=i,t.option=e,t.disabled=t.disabled||e.disabled,v.push(t),o=0,t.display&&(o+=t.display.length),t.subtext&&(o+=t.subtext.length),t.icon&&(o+=1),d<o&&(d=o,l.selectpicker.view.widestOption=g[g.length-1]))}for(var i=t.length;e<i;e++){var n=t[e];"OPTGROUP"!==n.tagName?y(n,{}):function(e,t){var i=t[e],n=t[e-1],a=t[e+1],s=i.querySelectorAll("option"+m);if(s.length){var r,o,l={label:I(i.label),subtext:i.getAttribute("data-subtext"),icon:i.getAttribute("data-icon"),iconBase:p},d=" "+(i.className||"");w++,n&&b({optID:w});var c=G(l);g.push(V(c,"dropdown-header"+d,w)),v.push({display:l.label,subtext:l.subtext,type:"optgroup-label",optID:w});for(var u=0,h=s.length;u<h;u++){var f=s[u];0===u&&(o=(r=v.length-1)+h),y(f,{headerIndex:r,lastIndex:o,optID:w,optgroupClass:d,disabled:i.disabled})}a&&b({optID:w})}}(e,t)}this.selectpicker.main.elements=g,this.selectpicker.main.data=v,this.selectpicker.current=this.selectpicker.main},findLis:function(){return this.$menuInner.find(".inner > li")},render:function(){this.setPlaceholder();var e,t,i,n=this,a=this.$element[0].selectedOptions,s=a.length,r=this.$button[0],o=r.querySelector(".filter-option-inner-inner"),l=document.createTextNode(this.options.multipleSeparator),d=U.fragment.cloneNode(!1),c=!1;if(this.togglePlaceholder(),this.tabIndex(),"static"===this.options.selectedTextFormat)d=Q({text:this.options.title},!0);else if(!1===(this.multiple&&-1!==this.options.selectedTextFormat.indexOf("count")&&1<s&&(1<(e=this.options.selectedTextFormat.split(">")).length&&s>e[1]||1===e.length&&2<=s))){for(var u=0;u<s&&u<50;u++){var h=a[u],f={},p={content:h.getAttribute("data-content"),subtext:h.getAttribute("data-subtext"),icon:h.getAttribute("data-icon")};this.multiple&&0<u&&d.appendChild(l.cloneNode(!1)),h.title?f.text=h.title:p.content&&n.options.showContent?(f.content=p.content.toString(),c=!0):(n.options.showIcon&&(f.icon=p.icon,f.iconBase=this.options.iconBase),n.options.showSubtext&&!n.multiple&&p.subtext&&(f.subtext=" "+p.subtext),f.text=h.textContent.trim()),d.appendChild(Q(f,!0))}49<s&&d.appendChild(document.createTextNode("..."))}else{var m=':not([hidden]):not([data-hidden="true"]):not([data-divider="true"])';this.options.hideDisabled&&(m+=":not(:disabled)");var g=this.$element[0].querySelectorAll("select > option"+m+", optgroup"+m+" option"+m).length,v="function"==typeof this.options.countSelectedText?this.options.countSelectedText(s,g):this.options.countSelectedText,d=Q({text:v.replace("{0}",s.toString()).replace("{1}",g.toString())},!0)}null==this.options.title&&(this.options.title=this.$element.attr("title")),d.childNodes.length||(d=Q({text:"undefined"!=typeof this.options.title?this.options.title:this.options.noneSelectedText},!0)),r.title=d.textContent.replace(/<[^>]*>?/g,"").trim(),this.options.sanitize&&c&&H([d],n.options.whiteList,n.options.sanitizeFn),o.innerHTML="",o.appendChild(d),z.major<4&&this.$newElement[0].classList.contains("bs3-has-addon")&&(t=r.querySelector(".filter-expand"),(i=o.cloneNode(!0)).className="filter-expand",t?r.replaceChild(i,t):r.appendChild(i)),this.$element.trigger("rendered"+j)},setStyle:function(e,t){var i,n=this.$button[0],a=this.$newElement[0],s=this.options.style.trim();this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,"")),z.major<4&&(a.classList.add("bs3"),a.parentNode.classList.contains("input-group")&&(a.previousElementSibling||a.nextElementSibling)&&(a.previousElementSibling||a.nextElementSibling).classList.contains("input-group-addon")&&a.classList.add("bs3-has-addon")),i=e?e.trim():s,"add"==t?i&&n.classList.add.apply(n.classList,i.split(" ")):"remove"==t?i&&n.classList.remove.apply(n.classList,i.split(" ")):(s&&n.classList.remove.apply(n.classList,s.split(" ")),i&&n.classList.add.apply(n.classList,i.split(" ")))},liHeight:function(e){var t,i,n,a,s,r,o,l,d,c,u,h,f,p,m,g,v,w,b,y,_,k,C,I,D,x,E,T;(e||!1!==this.options.size&&!this.sizeInfo)&&(this.sizeInfo||(this.sizeInfo={}),t=document.createElement("div"),i=document.createElement("div"),n=document.createElement("div"),a=document.createElement("ul"),s=document.createElement("li"),r=document.createElement("li"),o=document.createElement("li"),l=document.createElement("a"),d=document.createElement("span"),c=this.options.header&&0<this.$menu.find("."+F.POPOVERHEADER).length?this.$menu.find("."+F.POPOVERHEADER)[0].cloneNode(!0):null,u=this.options.liveSearch?document.createElement("div"):null,h=this.options.actionsBox&&this.multiple&&0<this.$menu.find(".bs-actionsbox").length?this.$menu.find(".bs-actionsbox")[0].cloneNode(!0):null,f=this.options.doneButton&&this.multiple&&0<this.$menu.find(".bs-donebutton").length?this.$menu.find(".bs-donebutton")[0].cloneNode(!0):null,p=this.$element.find("option")[0],this.sizeInfo.selectWidth=this.$newElement[0].offsetWidth,d.className="text",l.className="dropdown-item "+(p?p.className:""),t.className=this.$menu[0].parentNode.className+" "+F.SHOW,t.style.width=this.sizeInfo.selectWidth+"px","auto"===this.options.width&&(i.style.minWidth=0),i.className=F.MENU+" "+F.SHOW,n.className="inner "+F.SHOW,a.className=F.MENU+" inner "+("4"===z.major?F.SHOW:""),s.className=F.DIVIDER,r.className="dropdown-header",d.appendChild(document.createTextNode("​")),l.appendChild(d),o.appendChild(l),r.appendChild(d.cloneNode(!0)),this.selectpicker.view.widestOption&&a.appendChild(this.selectpicker.view.widestOption.cloneNode(!0)),a.appendChild(o),a.appendChild(s),a.appendChild(r),c&&i.appendChild(c),u&&(m=document.createElement("input"),u.className="bs-searchbox",m.className="form-control",u.appendChild(m),i.appendChild(u)),h&&i.appendChild(h),n.appendChild(a),i.appendChild(n),f&&i.appendChild(f),t.appendChild(i),document.body.appendChild(t),g=o.offsetHeight,v=r?r.offsetHeight:0,w=c?c.offsetHeight:0,b=u?u.offsetHeight:0,y=h?h.offsetHeight:0,_=f?f.offsetHeight:0,k=S(s).outerHeight(!0),C=!!window.getComputedStyle&&window.getComputedStyle(i),I=i.offsetWidth,D=C?null:S(i),E={vert:(x={vert:A(C?C.paddingTop:D.css("paddingTop"))+A(C?C.paddingBottom:D.css("paddingBottom"))+A(C?C.borderTopWidth:D.css("borderTopWidth"))+A(C?C.borderBottomWidth:D.css("borderBottomWidth")),horiz:A(C?C.paddingLeft:D.css("paddingLeft"))+A(C?C.paddingRight:D.css("paddingRight"))+A(C?C.borderLeftWidth:D.css("borderLeftWidth"))+A(C?C.borderRightWidth:D.css("borderRightWidth"))}).vert+A(C?C.marginTop:D.css("marginTop"))+A(C?C.marginBottom:D.css("marginBottom"))+2,horiz:x.horiz+A(C?C.marginLeft:D.css("marginLeft"))+A(C?C.marginRight:D.css("marginRight"))+2},n.style.overflowY="scroll",T=i.offsetWidth-I,document.body.removeChild(t),this.sizeInfo.liHeight=g,this.sizeInfo.dropdownHeaderHeight=v,this.sizeInfo.headerHeight=w,this.sizeInfo.searchHeight=b,this.sizeInfo.actionsHeight=y,this.sizeInfo.doneButtonHeight=_,this.sizeInfo.dividerHeight=k,this.sizeInfo.menuPadding=x,this.sizeInfo.menuExtras=E,this.sizeInfo.menuWidth=I,this.sizeInfo.totalMenuWidth=this.sizeInfo.menuWidth,this.sizeInfo.scrollBarWidth=T,this.sizeInfo.selectHeight=this.$newElement[0].offsetHeight,this.setPositionData())},getSelectPosition:function(){var e,t=S(window),i=this.$newElement.offset(),n=S(this.options.container);this.options.container&&n.length&&!n.is("body")?((e=n.offset()).top+=parseInt(n.css("borderTopWidth")),e.left+=parseInt(n.css("borderLeftWidth"))):e={top:0,left:0};var a=this.options.windowPadding;this.sizeInfo.selectOffsetTop=i.top-e.top-t.scrollTop(),this.sizeInfo.selectOffsetBot=t.height()-this.sizeInfo.selectOffsetTop-this.sizeInfo.selectHeight-e.top-a[2],this.sizeInfo.selectOffsetLeft=i.left-e.left-t.scrollLeft(),this.sizeInfo.selectOffsetRight=t.width()-this.sizeInfo.selectOffsetLeft-this.sizeInfo.selectWidth-e.left-a[1],this.sizeInfo.selectOffsetTop-=a[0],this.sizeInfo.selectOffsetLeft-=a[3]},setMenuSize:function(){this.getSelectPosition();var e,t,i,n,a,s,r,o=this.sizeInfo.selectWidth,l=this.sizeInfo.liHeight,d=this.sizeInfo.headerHeight,c=this.sizeInfo.searchHeight,u=this.sizeInfo.actionsHeight,h=this.sizeInfo.doneButtonHeight,f=this.sizeInfo.dividerHeight,p=this.sizeInfo.menuPadding,m=0;if(this.options.dropupAuto&&(r=l*this.selectpicker.current.elements.length+p.vert,this.$newElement.toggleClass(F.DROPUP,this.sizeInfo.selectOffsetTop-this.sizeInfo.selectOffsetBot>this.sizeInfo.menuExtras.vert&&r+this.sizeInfo.menuExtras.vert+50>this.sizeInfo.selectOffsetBot)),"auto"===this.options.size)n=3<this.selectpicker.current.elements.length?3*this.sizeInfo.liHeight+this.sizeInfo.menuExtras.vert-2:0,t=this.sizeInfo.selectOffsetBot-this.sizeInfo.menuExtras.vert,i=n+d+c+u+h,s=Math.max(n-p.vert,0),this.$newElement.hasClass(F.DROPUP)&&(t=this.sizeInfo.selectOffsetTop-this.sizeInfo.menuExtras.vert),e=(a=t)-d-c-u-h-p.vert;else if(this.options.size&&"auto"!=this.options.size&&this.selectpicker.current.elements.length>this.options.size){for(var g=0;g<this.options.size;g++)"divider"===this.selectpicker.current.data[g].type&&m++;e=(t=l*this.options.size+m*f+p.vert)-p.vert,a=t+d+c+u+h,i=s=""}"auto"===this.options.dropdownAlignRight&&this.$menu.toggleClass(F.MENURIGHT,this.sizeInfo.selectOffsetLeft>this.sizeInfo.selectOffsetRight&&this.sizeInfo.selectOffsetRight<this.sizeInfo.totalMenuWidth-o),this.$menu.css({"max-height":a+"px",overflow:"hidden","min-height":i+"px"}),this.$menuInner.css({"max-height":e+"px","overflow-y":"auto","min-height":s+"px"}),this.sizeInfo.menuInnerHeight=Math.max(e,1),this.selectpicker.current.data.length&&this.selectpicker.current.data[this.selectpicker.current.data.length-1].position>this.sizeInfo.menuInnerHeight&&(this.sizeInfo.hasScrollBar=!0,this.sizeInfo.totalMenuWidth=this.sizeInfo.menuWidth+this.sizeInfo.scrollBarWidth,this.$menu.css("min-width",this.sizeInfo.totalMenuWidth)),this.dropdown&&this.dropdown._popper&&this.dropdown._popper.update()},setSize:function(e){var t,i,n,a,s;this.liHeight(e),this.options.header&&this.$menu.css("padding-top",0),!1!==this.options.size&&(t=this,i=S(window),n=0,this.setMenuSize(),this.options.liveSearch&&this.$searchbox.off("input.setMenuSize propertychange.setMenuSize").on("input.setMenuSize propertychange.setMenuSize",function(){return t.setMenuSize()}),"auto"===this.options.size?i.off("resize"+j+"."+this.selectId+".setMenuSize scroll"+j+"."+this.selectId+".setMenuSize").on("resize"+j+"."+this.selectId+".setMenuSize scroll"+j+"."+this.selectId+".setMenuSize",function(){return t.setMenuSize()}):this.options.size&&"auto"!=this.options.size&&this.selectpicker.current.elements.length>this.options.size&&i.off("resize"+j+"."+this.selectId+".setMenuSize scroll"+j+"."+this.selectId+".setMenuSize"),e?n=this.$menuInner[0].scrollTop:t.multiple||"number"==typeof(s=((a=t.$element[0]).options[a.selectedIndex]||{}).liIndex)&&!1!==t.options.size&&(n=(n=t.sizeInfo.liHeight*s)-t.sizeInfo.menuInnerHeight/2+t.sizeInfo.liHeight/2),t.createView(!1,n))},setWidth:function(){var i=this;"auto"===this.options.width?requestAnimationFrame(function(){i.$menu.css("min-width","0"),i.$element.on("loaded"+j,function(){i.liHeight(),i.setMenuSize();var e=i.$newElement.clone().appendTo("body"),t=e.css("width","auto").children("button").outerWidth();e.remove(),i.sizeInfo.selectWidth=Math.max(i.sizeInfo.totalMenuWidth,t),i.$newElement.css("width",i.sizeInfo.selectWidth+"px")})}):"fit"===this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width","")),this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement[0].classList.remove("fit-width")},selectPosition:function(){this.$bsContainer=S('<div class="bs-container" />');function e(e){var t={},i=r.options.display||!!S.fn.dropdown.Constructor.Default&&S.fn.dropdown.Constructor.Default.display;r.$bsContainer.addClass(e.attr("class").replace(/form-control|fit-width/gi,"")).toggleClass(F.DROPUP,e.hasClass(F.DROPUP)),n=e.offset(),o.is("body")?a={top:0,left:0}:((a=o.offset()).top+=parseInt(o.css("borderTopWidth"))-o.scrollTop(),a.left+=parseInt(o.css("borderLeftWidth"))-o.scrollLeft()),s=e.hasClass(F.DROPUP)?0:e[0].offsetHeight,(z.major<4||"static"===i)&&(t.top=n.top-a.top+s,t.left=n.left-a.left),t.width=e[0].offsetWidth,r.$bsContainer.css(t)}var n,a,s,r=this,o=S(this.options.container);this.$button.on("click.bs.dropdown.data-api",function(){r.isDisabled()||(e(r.$newElement),r.$bsContainer.appendTo(r.options.container).toggleClass(F.SHOW,!r.$button.hasClass(F.SHOW)).append(r.$menu))}),S(window).off("resize"+j+"."+this.selectId+" scroll"+j+"."+this.selectId).on("resize"+j+"."+this.selectId+" scroll"+j+"."+this.selectId,function(){r.$newElement.hasClass(F.SHOW)&&e(r.$newElement)}),this.$element.on("hide"+j,function(){r.$menu.data("height",r.$menu.height()),r.$bsContainer.detach()})},setOptionStatus:function(){var e=this;if(e.noScroll=!1,e.selectpicker.view.visibleElements&&e.selectpicker.view.visibleElements.length)for(var t=0;t<e.selectpicker.view.visibleElements.length;t++){var i=e.selectpicker.current.data[t+e.selectpicker.view.position0],n=i.option;n&&(e.setDisabled(i.index,i.disabled),e.setSelected(i.index,n.selected))}},setSelected:function(e,t){var i,n,a=this.selectpicker.main.elements[e],s=this.selectpicker.main.data[e],r=void 0!==this.activeIndex,o=this.activeIndex===e||t&&!this.multiple&&!r;s.selected=t,n=a.firstChild,t&&(this.selectedIndex=e),a.classList.toggle("selected",t),a.classList.toggle("active",o),o&&(this.selectpicker.view.currentActive=a,this.activeIndex=e),n&&(n.classList.toggle("selected",t),n.classList.toggle("active",o),n.setAttribute("aria-selected",t)),o||!r&&t&&void 0!==this.prevActiveIndex&&((i=this.selectpicker.main.elements[this.prevActiveIndex]).classList.remove("active"),i.firstChild&&i.firstChild.classList.remove("active"))},setDisabled:function(e,t){var i,n=this.selectpicker.main.elements[e];this.selectpicker.main.data[e].disabled=t,i=n.firstChild,n.classList.toggle(F.DISABLED,t),i&&("4"===z.major&&i.classList.toggle(F.DISABLED,t),i.setAttribute("aria-disabled",t),t?i.setAttribute("tabindex",-1):i.setAttribute("tabindex",0))},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){var e=this;this.isDisabled()?(this.$newElement[0].classList.add(F.DISABLED),this.$button.addClass(F.DISABLED).attr("tabindex",-1).attr("aria-disabled",!0)):(this.$button[0].classList.contains(F.DISABLED)&&(this.$newElement[0].classList.remove(F.DISABLED),this.$button.removeClass(F.DISABLED).attr("aria-disabled",!1)),-1!=this.$button.attr("tabindex")||this.$element.data("tabindex")||this.$button.removeAttr("tabindex")),this.$button.on("click",function(){return!e.isDisabled()})},togglePlaceholder:function(){var e=this.$element[0],t=e.selectedIndex,i=-1===t;i||e.options[t].value||(i=!0),this.$button.toggleClass("bs-placeholder",i)},tabIndex:function(){this.$element.data("tabindex")!==this.$element.attr("tabindex")&&-98!==this.$element.attr("tabindex")&&"-98"!==this.$element.attr("tabindex")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex"))),this.$element.attr("tabindex",-98)},clickListener:function(){var D=this,t=S(document);function e(){D.options.liveSearch?D.$searchbox.trigger("focus"):D.$menuInner.trigger("focus")}function i(){D.dropdown&&D.dropdown._popper&&D.dropdown._popper.state.isCreated?e():requestAnimationFrame(i)}t.data("spaceSelect",!1),this.$button.on("keyup",function(e){/(32)/.test(e.keyCode.toString(10))&&t.data("spaceSelect")&&(e.preventDefault(),t.data("spaceSelect",!1))}),this.$newElement.on("show.bs.dropdown",function(){3<z.major&&!D.dropdown&&(D.dropdown=D.$button.data("bs.dropdown"),D.dropdown._menu=D.$menu[0])}),this.$button.on("click.bs.dropdown.data-api",function(){D.$newElement.hasClass(F.SHOW)||D.setSize()}),this.$element.on("shown"+j,function(){D.$menuInner[0].scrollTop!==D.selectpicker.view.scrollTop&&(D.$menuInner[0].scrollTop=D.selectpicker.view.scrollTop),3<z.major?requestAnimationFrame(i):e()}),this.$menuInner.on("click","li a",function(e,t){var i=S(this),n=D.isVirtual()?D.selectpicker.view.position0:0,a=D.selectpicker.current.data[i.parent().index()+n],s=a.index,r=x(D.$element[0]),o=D.$element.prop("selectedIndex"),l=!0;if(D.multiple&&1!==D.options.maxOptions&&e.stopPropagation(),e.preventDefault(),!D.isDisabled()&&!i.parent().hasClass(F.DISABLED)){var d=D.$element.find("option"),c=a.option,u=S(c),h=c.selected,f=u.parent("optgroup"),p=f.find("option"),m=D.options.maxOptions,g=f.data("maxOptions")||!1;if(s===D.activeIndex&&(t=!0),t||(D.prevActiveIndex=D.activeIndex,D.activeIndex=void 0),D.multiple){if(c.selected=!h,D.setSelected(s,!h),i.trigger("blur"),!1!==m||!1!==g){var v=m<d.filter(":selected").length,w=g<f.find("option:selected").length;if(m&&v||g&&w)if(m&&1==m){d.prop("selected",!1),u.prop("selected",!0);for(var b=0;b<d.length;b++)D.setSelected(b,!1);D.setSelected(s,!0)}else if(g&&1==g){f.find("option:selected").prop("selected",!1),u.prop("selected",!0);for(b=0;b<p.length;b++){c=p[b];D.setSelected(d.index(c),!1)}D.setSelected(s,!0)}else{var y="string"==typeof D.options.maxOptionsText?[D.options.maxOptionsText,D.options.maxOptionsText]:D.options.maxOptionsText,_="function"==typeof y?y(m,g):y,k=_[0].replace("{n}",m),C=_[1].replace("{n}",g),I=S('<div class="notify"></div>');_[2]&&(k=k.replace("{var}",_[2][1<m?0:1]),C=C.replace("{var}",_[2][1<g?0:1])),u.prop("selected",!1),D.$menu.append(I),m&&v&&(I.append(S("<div>"+k+"</div>")),l=!1,D.$element.trigger("maxReached"+j)),g&&w&&(I.append(S("<div>"+C+"</div>")),l=!1,D.$element.trigger("maxReachedGrp"+j)),setTimeout(function(){D.setSelected(s,!1)},10),I.delay(750).fadeOut(300,function(){S(this).remove()})}}}else d.prop("selected",!1),c.selected=!0,D.setSelected(s,!0);!D.multiple||D.multiple&&1===D.options.maxOptions?D.$button.trigger("focus"):D.options.liveSearch&&D.$searchbox.trigger("focus"),l&&(r!=x(D.$element[0])&&D.multiple||o!=D.$element.prop("selectedIndex")&&!D.multiple)&&(E=[c.index,u.prop("selected"),r],D.$element.triggerNative("change"))}}),this.$menu.on("click","li."+F.DISABLED+" a, ."+F.POPOVERHEADER+", ."+F.POPOVERHEADER+" :not(.close)",function(e){e.currentTarget==this&&(e.preventDefault(),e.stopPropagation(),D.options.liveSearch&&!S(e.target).hasClass("close")?D.$searchbox.trigger("focus"):D.$button.trigger("focus"))}),this.$menuInner.on("click",".divider, .dropdown-header",function(e){e.preventDefault(),e.stopPropagation(),D.options.liveSearch?D.$searchbox.trigger("focus"):D.$button.trigger("focus")}),this.$menu.on("click","."+F.POPOVERHEADER+" .close",function(){D.$button.trigger("click")}),this.$searchbox.on("click",function(e){e.stopPropagation()}),this.$menu.on("click",".actions-btn",function(e){D.options.liveSearch?D.$searchbox.trigger("focus"):D.$button.trigger("focus"),e.preventDefault(),e.stopPropagation(),S(this).hasClass("bs-select-all")?D.selectAll():D.deselectAll()}),this.$element.on("change"+j,function(){D.render(),D.$element.trigger("changed"+j,E),E=null}).on("focus"+j,function(){D.options.mobile||D.$button.trigger("focus")})},liveSearchListener:function(){var f=this,p=document.createElement("li");this.$button.on("click.bs.dropdown.data-api",function(){f.$searchbox.val()&&f.$searchbox.val("")}),this.$searchbox.on("click.bs.dropdown.data-api focus.bs.dropdown.data-api touchend.bs.dropdown.data-api",function(e){e.stopPropagation()}),this.$searchbox.on("input propertychange",function(){var e=f.$searchbox.val();if(f.selectpicker.search.elements=[],f.selectpicker.search.data=[],e){var t=[],i=e.toUpperCase(),n={},a=[],s=f._searchStyle(),r=f.options.liveSearchNormalize;r&&(i=m(i)),f._$lisSelected=f.$menuInner.find(".selected");for(var o=0;o<f.selectpicker.main.data.length;o++){var l=f.selectpicker.main.data[o];n[o]||(n[o]=C(l,i,s,r)),n[o]&&void 0!==l.headerIndex&&-1===a.indexOf(l.headerIndex)&&(0<l.headerIndex&&(n[l.headerIndex-1]=!0,a.push(l.headerIndex-1)),n[l.headerIndex]=!0,a.push(l.headerIndex),n[l.lastIndex+1]=!0),n[o]&&"optgroup-label"!==l.type&&a.push(o)}for(var o=0,d=a.length;o<d;o++){var c=a[o],u=a[o-1],l=f.selectpicker.main.data[c],h=f.selectpicker.main.data[u];("divider"!==l.type||"divider"===l.type&&h&&"divider"!==h.type&&d-1!==o)&&(f.selectpicker.search.data.push(l),t.push(f.selectpicker.main.elements[c]))}f.activeIndex=void 0,f.noScroll=!0,f.$menuInner.scrollTop(0),f.selectpicker.search.elements=t,f.createView(!0),t.length||(p.className="no-results",p.innerHTML=f.options.noneResultsText.replace("{0}",'"'+I(e)+'"'),f.$menuInner[0].firstChild.appendChild(p))}else f.$menuInner.scrollTop(0),f.createView(!1)})},_searchStyle:function(){return this.options.liveSearchStyle||"contains"},val:function(e){if("undefined"==typeof e)return this.$element.val();var t=x(this.$element[0]);return E=[null,null,t],this.$element.val(e).trigger("changed"+j,E),this.render(),E=null,this.$element},changeAll:function(e){if(this.multiple){"undefined"==typeof e&&(e=!0);var t=this.$element[0],i=0,n=0,a=x(t);t.classList.add("bs-select-hidden");for(var s=0,r=this.selectpicker.current.elements.length;s<r;s++){var o=this.selectpicker.current.data[s],l=o.option;l&&!o.disabled&&"divider"!==o.type&&(o.selected&&i++,(l.selected=e)&&n++)}t.classList.remove("bs-select-hidden"),i!==n&&(this.setOptionStatus(),this.togglePlaceholder(),E=[null,null,a],this.$element.triggerNative("change"))}},selectAll:function(){return this.changeAll(!0)},deselectAll:function(){return this.changeAll(!1)},toggle:function(e){(e=e||window.event)&&e.stopPropagation(),this.$button.trigger("click.bs.dropdown.data-api")},keydown:function(e){var t,i,n,a,s=S(this),r=s.hasClass("dropdown-toggle"),o=(r?s.closest(".dropdown"):s.closest(W.MENU)).data("this"),l=o.findLis(),d=!1,c=e.which===P&&!r&&!o.options.selectOnTab,u=q.test(e.which)||c,h=o.$menuInner[0].scrollTop,f=o.isVirtual(),p=!0===f?o.selectpicker.view.position0:0,m=o.$newElement.hasClass(F.SHOW);if(!m&&(u||48<=e.which&&e.which<=57||96<=e.which&&e.which<=105||65<=e.which&&e.which<=90)&&(o.$button.trigger("click.bs.dropdown.data-api"),o.options.liveSearch))o.$searchbox.trigger("focus");else{if(e.which===O&&m&&(e.preventDefault(),o.$button.trigger("click.bs.dropdown.data-api").trigger("focus")),u){if(!l.length)return;void 0===(t=!0===f?l.index(l.filter(".active")):o.activeIndex)&&(t=-1),-1!==t&&((i=o.selectpicker.current.elements[t+p]).classList.remove("active"),i.firstChild&&i.firstChild.classList.remove("active")),e.which===M?(-1!==t&&t--,t+p<0&&(t+=l.length),o.selectpicker.view.canHighlight[t+p]||-1===(t=o.selectpicker.view.canHighlight.slice(0,t+p).lastIndexOf(!0)-p)&&(t=l.length-1)):e.which!==R&&!c||(++t+p>=o.selectpicker.view.canHighlight.length&&(t=0),o.selectpicker.view.canHighlight[t+p]||(t=t+1+o.selectpicker.view.canHighlight.slice(t+p+1).indexOf(!0))),e.preventDefault();var g=p+t;e.which===M?0===p&&t===l.length-1?(o.$menuInner[0].scrollTop=o.$menuInner[0].scrollHeight,g=o.selectpicker.current.elements.length-1):d=(a=(n=o.selectpicker.current.data[g]).position-n.height)<h:e.which!==R&&!c||(0===t?g=o.$menuInner[0].scrollTop=0:d=h<(a=(n=o.selectpicker.current.data[g]).position-o.sizeInfo.menuInnerHeight)),(i=o.selectpicker.current.elements[g])&&(i.classList.add("active"),i.firstChild&&i.firstChild.classList.add("active")),o.activeIndex=o.selectpicker.current.data[g].index,o.selectpicker.view.currentActive=i,d&&(o.$menuInner[0].scrollTop=a),o.options.liveSearch?o.$searchbox.trigger("focus"):s.trigger("focus")}else if(!s.is("input")&&!Y.test(e.which)||e.which===L&&o.selectpicker.keydown.keyHistory){var v,w,b=[];e.preventDefault(),o.selectpicker.keydown.keyHistory+=T[e.which],o.selectpicker.keydown.resetKeyHistory.cancel&&clearTimeout(o.selectpicker.keydown.resetKeyHistory.cancel),o.selectpicker.keydown.resetKeyHistory.cancel=o.selectpicker.keydown.resetKeyHistory.start(),w=o.selectpicker.keydown.keyHistory,/^(.)\1+$/.test(w)&&(w=w.charAt(0));for(var y,_=0;_<o.selectpicker.current.data.length;_++){var k=o.selectpicker.current.data[_];C(k,w,"startsWith",!0)&&o.selectpicker.view.canHighlight[_]&&b.push(k.index)}b.length&&(y=0,l.removeClass("active").find("a").removeClass("active"),1===w.length&&(-1===(y=b.indexOf(o.activeIndex))||y===b.length-1?y=0:y++),v=b[y],d=0<h-(n=o.selectpicker.main.data[v]).position?(a=n.position-n.height,!0):(a=n.position-o.sizeInfo.menuInnerHeight,n.position>h+o.sizeInfo.menuInnerHeight),(i=o.selectpicker.main.elements[v]).classList.add("active"),i.firstChild&&i.firstChild.classList.add("active"),o.activeIndex=b[y],i.firstChild.focus(),d&&(o.$menuInner[0].scrollTop=a),s.trigger("focus"))}m&&(e.which===L&&!o.selectpicker.keydown.keyHistory||e.which===N||e.which===P&&o.options.selectOnTab)&&(e.which!==L&&e.preventDefault(),o.options.liveSearch&&e.which===L||(o.$menuInner.find(".active a").trigger("click",!0),s.trigger("focus"),o.options.liveSearch||(e.preventDefault(),S(document).data("spaceSelect",!0))))}},mobile:function(){this.$element[0].classList.add("mobile-device")},refresh:function(){var e=S.extend({},this.options,this.$element.data());this.options=e,this.checkDisabled(),this.setStyle(),this.render(),this.createLi(),this.setWidth(),this.setSize(!0),this.$element.trigger("refreshed"+j)},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove(),this.$element.remove()},destroy:function(){this.$newElement.before(this.$element).remove(),this.$bsContainer?this.$bsContainer.remove():this.$menu.remove(),this.$element.off(j).removeData("selectpicker").removeClass("bs-select-hidden selectpicker"),S(window).off(j+"."+this.selectId)}};var Z=S.fn.selectpicker;S.fn.selectpicker=X,S.fn.selectpicker.Constructor=B,S.fn.selectpicker.noConflict=function(){return S.fn.selectpicker=Z,this},S(document).off("keydown.bs.dropdown.data-api").on("keydown"+j,'.bootstrap-select [data-toggle="dropdown"], .bootstrap-select [role="listbox"], .bootstrap-select .bs-searchbox input',B.prototype.keydown).on("focusin.modal",'.bootstrap-select [data-toggle="dropdown"], .bootstrap-select [role="listbox"], .bootstrap-select .bs-searchbox input',function(e){e.stopPropagation()}),S(window).on("load"+j+".data-api",function(){S(".selectpicker").each(function(){var e=S(this);X.call(e,e.data())})})}(jQuery);var _,k;_=jQuery,k={hs:function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")},skipKeys:[9,13,16,17,18,27,37,38,39,40,91],clearSOption:function(e,t){for(var i=e.find("option"),n=0;n<i.length;n++){var a,s=i[n],r=_(s);s.selected||r.hasClass("bs-title-option")||(a=r.parent(),r.remove(),"optgroup"===a.get(0).tagName.toLowerCase()&&(a.children().length||a.remove()))}t&&e.selectpicker("refresh")},callAjax:function(e,t,i,n,a,s){n+=/\?/.test(n)?"&":"?",n+=a+"="+encodeURI(e);var r,o={};for(r in s){var l=s[r],d=l[0];o[r]="#"===d||"."===d?_(l).val():l}_.ajax({url:n,data:o,success:t})},fillSOptions:function(e,t,i){for(var n,a=[],s=e.find("option"),r=0;r<s.length;r++)a.push(s[r].value);for(n in t){var o,l=t[n],d=k.hs(n);if("object"==typeof l){var c,u,h,f=e.children('optgroup[label="'+d+'"]');for(c in f.get(0)||(f=_('<optgroup label="'+d+'"></optgroup>'),e.append(f)),l){~a.indexOf(c)||(u=k.hs(c),h=k.hs(l[c]),f.append('<option value="'+u+'">'+h+"</option>"),a.push(c))}}else{~a.indexOf(n)||(o=k.hs(l),e.append('<option value="'+d+'">'+o+"</option>"),a.push(n))}}i&&e.selectpicker("refresh")},applyAjaxIdentity:function(n,e){n.selectpicker({liveSearch:!0});var a=n.data("selectpicker"),s=null,r="";if(e)if("string"==typeof e)n.data("selectpicker").options.ajax=e;else for(var t in e)n.data("selectpicker").options[t]=e[t];a.options.noneResultsTextOriginal=a.options.noneResultsText,a.options.noneResultsText="",a.options.ajaxBinded||(a.options.ajaxBinded=!0,a.$searchbox.on("keyup paste change",function(e){if(!~k.skipKeys.indexOf(e.keyCode)){var t=_(this).val().trim();if(r!=t){if(s&&clearTimeout(s),!t)return r=t,k.clearSOption(n,!0);r=t;var i=n.data("selectpicker").options.ajaxDelay||300;s=setTimeout(function(t,i,n){var e,a;n==r&&(e=i.options.ajaxQName||"q",a=i.options.data,(i.options.ajaxCallback||k.callAjax)(n,function(e){n==r&&(i.options.ajaxPreProcess&&(e=i.options.ajaxPreProcess(e)),k.clearSOption(t),k.fillSOptions(t,e,!0))},t.get(0),i.options.ajax,e,a))},i,n,a,t)}}}))}},_(".selectpicker[data-ajax]").each(function(){k.applyAjaxIdentity(_(this))}),_.fn.selectpickerAjax=function(e){this.each(function(){k.applyAjaxIdentity(_(this),e)})};var C="confirm",I="bs.confirm",D="."+I,x=".data-api",E=f.fn[C],T={title:"Confirmation",text:"Are you sure want to do the action?",ask:!1,btnConfirm:"Yes",btnType:"primary",btnCancel:"Cancel"},S={title:"string",text:"string",ask:"boolean",btnConfirm:"string",btnType:"string",btnCancel:"string"},A={MODAL_HIDDEN:"hidden.bs.modal",SUBMIT_DATA_API:"submit"+D+x,CLICK_DATA_API:"click"+D+x,ACCEPT_DATA_API:"click.modal."+D+x,FORM_SUBMIT:"submit",A_CLICK:"click"},O='[data-toggle="confirm"]',N='[data-accept="confirm"]',L=function(){function a(e,t){this._config=this._getConfig(t),this._element=e,this._modal=null,this._isConfirmed=null,this._tagName=e.tagName.toUpperCase(),this._eventType="A"==this._tagName?A.CLICK_DATA_API:A.SUBMIT_DATA_API,this._execEvent="A"==this._tagName?A.A_CLICK:A.FORM_SUBMIT,this._isShown=!1,this._addElementListener()}var e=a.prototype;return e.ask=function(e,t){this._isConfirmed||(this._isConfirmed=!1,t&&t.preventDefault(),this._showModal())},e.cancel=function(){this._isConfirmed=!1,this._modal&&f(this._modal).modal("hide")},e.dispose=function(){[window,this._element].forEach(function(e){return f(e).off(D)}),f.removeData(this._element,I),this._config=null,this._element=null,this._modal=null,this._isConfirmed=null,this._tagName=null,this._eventType=null,this._isShown=null},e._addElementListener=function(){var t=this;"FORM"!==this._tagName&&this._element.dataset.toggle||f(this._element).on(this._eventType,function(e){t.ask(t,e)})},e._getConfig=function(e){return e=r({},T,e),l.typeCheckConfig(C,e,S),e},e._showModal=function(){var e=this,t='\n            <div class="modal fade" tabindex="-1" role="dialog">\n                <div class="modal-dialog" role="document">\n                    <div class="modal-content">\n                        <div class="modal-header">\n                            <h5 class="modal-title">'+this._config.title+'</h5>\n                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n                                <span aria-hidden="true">&times;</span>\n                            </button>\n                        </div>\n                        <div class="modal-body">\n                            <p>'+this._config.text+'</p>\n                        </div>\n                        <div class="modal-footer">\n                            <button type="button" class="btn btn-secondary" data-dismiss="modal">'+this._config.btnCancel+'</button>\n                            <button type="button" class="btn btn-'+this._config.btnType+'" data-accept="confirm">'+this._config.btnConfirm+"</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        ";this._modal=f(t).appendTo(document.body).get(0),f(this._modal).on(A.MODAL_HIDDEN,function(){e._isConfirmed=!1,f(e._modal).remove()}),f(this._modal).on(A.ACCEPT_DATA_API,N,function(){e._isConfirmed=!0,e._element[e._execEvent](),e.cancel()}),f(this._modal).modal("show")},a._jQueryInterface=function(i,n){return this.each(function(){var e=f(this).data(I),t=r({},T,f(this).data(),"object"==typeof i&&i?i:{});if(e||(e=new a(this,t),f(this).data(I,e)),"string"==typeof i){if("undefined"==typeof e[i])throw new TypeError('No method named "'+i+'"');e[i](n)}else t.ask&&e.ask(n)})},s(a,null,[{key:"VERSION",get:function(){return"0.0.1"}},{key:"Default",get:function(){return T}}]),a}();f(document).on(A.CLICK_DATA_API,O,function(e){var t,i=f(this).data(I);i?i.ask(this,e):(t=f(this).data(I)?"ask":r({},f(this).data(),f(this).data(),{ask:!0}),e.preventDefault(),L._jQueryInterface.call(f(this),t,this))}),f.fn[C]=L._jQueryInterface,f.fn[C].Constructor=L,f.fn[C].noConflict=function(){return f.fn[C]=E,L._jQueryInterface},function(pe,me){if(!me){throw new Error("bootstrap-datetimepicker requires Moment.js to be loaded first")}var e=function(r,u){var h={},c,f,l=true,n,o=false,p=false,d,a=0,s,m,g,i=[{clsName:"days",navFnc:"M",navStep:1},{clsName:"months",navFnc:"y",navStep:1},{clsName:"years",navFnc:"y",navStep:10},{clsName:"decades",navFnc:"y",navStep:100}],t=["days","months","years","decades"],v=["top","bottom","auto"],w=["left","right","auto"],b=["default","top","bottom"],y={up:38,38:"up",down:40,40:"down",left:37,37:"left",right:39,39:"right",tab:9,9:"tab",escape:27,27:"escape",enter:13,13:"enter",pageUp:33,33:"pageUp",pageDown:34,34:"pageDown",shift:16,16:"shift",control:17,17:"control",space:32,32:"space",t:84,84:"t",delete:46,46:"delete"},_={},k=function e(){return me.tz!==undefined&&u.timeZone!==undefined&&u.timeZone!==null&&u.timeZone!==""},C=function e(t){var i;if(t===undefined||t===null){i=me()}else if(me.isDate(t)||me.isMoment(t)){i=me(t)}else if(k()){i=me.tz(t,m,u.useStrict,u.timeZone)}else{i=me(t,m,u.useStrict)}if(k()){i.tz(u.timeZone)}return i},I=function e(t){if(typeof t!=="string"||t.length>1){throw new TypeError("isEnabled expects a single character string parameter")}switch(t){case"y":return s.indexOf("Y")!==-1;case"M":return s.indexOf("M")!==-1;case"d":return s.toLowerCase().indexOf("d")!==-1;case"h":case"H":return s.toLowerCase().indexOf("h")!==-1;case"m":return s.indexOf("m")!==-1;case"s":return s.indexOf("s")!==-1;default:return false}},D=function e(){return I("h")||I("m")||I("s")},x=function e(){return I("y")||I("M")||I("d")},E=function e(){var t=pe("<thead>").append(pe("<tr>").append(pe("<th>").addClass("prev").attr("data-action","previous").append(pe("<i>").addClass(u.icons.previous))).append(pe("<th>").addClass("picker-switch").attr("data-action","pickerSwitch").attr("colspan",u.calendarWeeks?"6":"5")).append(pe("<th>").addClass("next").attr("data-action","next").append(pe("<i>").addClass(u.icons.next)))),i=pe("<tbody>").append(pe("<tr>").append(pe("<td>").attr("colspan",u.calendarWeeks?"8":"7")));return[pe("<div>").addClass("datepicker-days").append(pe("<table>").addClass("table-condensed").append(t).append(pe("<tbody>"))),pe("<div>").addClass("datepicker-months").append(pe("<table>").addClass("table-condensed").append(t.clone()).append(i.clone())),pe("<div>").addClass("datepicker-years").append(pe("<table>").addClass("table-condensed").append(t.clone()).append(i.clone())),pe("<div>").addClass("datepicker-decades").append(pe("<table>").addClass("table-condensed").append(t.clone()).append(i.clone()))]},T=function e(){var t=pe("<tr>"),i=pe("<tr>"),n=pe("<tr>");if(I("h")){t.append(pe("<td>").append(pe("<a>").attr({href:"#",tabindex:"-1",title:u.tooltips.incrementHour}).addClass("btn").attr("data-action","incrementHours").append(pe("<i>").addClass(u.icons.up))));i.append(pe("<td>").append(pe("<span>").addClass("timepicker-hour").attr({"data-time-component":"hours",title:u.tooltips.pickHour}).attr("data-action","showHours")));n.append(pe("<td>").append(pe("<a>").attr({href:"#",tabindex:"-1",title:u.tooltips.decrementHour}).addClass("btn").attr("data-action","decrementHours").append(pe("<i>").addClass(u.icons.down))))}if(I("m")){if(I("h")){t.append(pe("<td>").addClass("separator"));i.append(pe("<td>").addClass("separator").html(":"));n.append(pe("<td>").addClass("separator"))}t.append(pe("<td>").append(pe("<a>").attr({href:"#",tabindex:"-1",title:u.tooltips.incrementMinute}).addClass("btn").attr("data-action","incrementMinutes").append(pe("<i>").addClass(u.icons.up))));i.append(pe("<td>").append(pe("<span>").addClass("timepicker-minute").attr({"data-time-component":"minutes",title:u.tooltips.pickMinute}).attr("data-action","showMinutes")));n.append(pe("<td>").append(pe("<a>").attr({href:"#",tabindex:"-1",title:u.tooltips.decrementMinute}).addClass("btn").attr("data-action","decrementMinutes").append(pe("<i>").addClass(u.icons.down))))}if(I("s")){if(I("m")){t.append(pe("<td>").addClass("separator"));i.append(pe("<td>").addClass("separator").html(":"));n.append(pe("<td>").addClass("separator"))}t.append(pe("<td>").append(pe("<a>").attr({href:"#",tabindex:"-1",title:u.tooltips.incrementSecond}).addClass("btn").attr("data-action","incrementSeconds").append(pe("<i>").addClass(u.icons.up))));i.append(pe("<td>").append(pe("<span>").addClass("timepicker-second").attr({"data-time-component":"seconds",title:u.tooltips.pickSecond}).attr("data-action","showSeconds")));n.append(pe("<td>").append(pe("<a>").attr({href:"#",tabindex:"-1",title:u.tooltips.decrementSecond}).addClass("btn").attr("data-action","decrementSeconds").append(pe("<i>").addClass(u.icons.down))))}if(!d){t.append(pe("<td>").addClass("separator"));i.append(pe("<td>").append(pe("<button>").addClass("btn btn-primary").attr({"data-action":"togglePeriod",tabindex:"-1",title:u.tooltips.togglePeriod})));n.append(pe("<td>").addClass("separator"))}return pe("<div>").addClass("timepicker-picker").append(pe("<table>").addClass("table-condensed").append([t,i,n]))},S=function e(){var t=pe("<div>").addClass("timepicker-hours").append(pe("<table>").addClass("table-condensed")),i=pe("<div>").addClass("timepicker-minutes").append(pe("<table>").addClass("table-condensed")),n=pe("<div>").addClass("timepicker-seconds").append(pe("<table>").addClass("table-condensed")),a=[T()];if(I("h")){a.push(t)}if(I("m")){a.push(i)}if(I("s")){a.push(n)}return a},A=function e(){var t=[];if(u.showTodayButton){t.push(pe("<td>").append(pe("<a>").attr({"data-action":"today",title:u.tooltips.today}).append(pe("<i>").addClass(u.icons.today))))}if(!u.sideBySide&&x()&&D()){t.push(pe("<td>").append(pe("<a>").attr({"data-action":"togglePicker",title:u.tooltips.selectTime}).append(pe("<i>").addClass(u.icons.time))))}if(u.showClear){t.push(pe("<td>").append(pe("<a>").attr({"data-action":"clear",title:u.tooltips.clear}).append(pe("<i>").addClass(u.icons.clear))))}if(u.showClose){t.push(pe("<td>").append(pe("<a>").attr({"data-action":"close",title:u.tooltips.close}).append(pe("<i>").addClass(u.icons.close))))}return pe("<table>").addClass("table-condensed").append(pe("<tbody>").append(pe("<tr>").append(t)))},O=function e(){var t=pe("<div>").addClass("bootstrap-datetimepicker-widget dropdown-menu"),i=pe("<div>").addClass("datepicker").append(E()),n=pe("<div>").addClass("timepicker").append(S()),a=pe("<ul>").addClass("list-unstyled"),s=pe("<li>").addClass("picker-switch"+(u.collapse?" accordion-toggle":"")).append(A());if(u.inline){t.removeClass("dropdown-menu")}if(d){t.addClass("usetwentyfour")}if(I("s")&&!d){t.addClass("wider")}if(u.sideBySide&&x()&&D()){t.addClass("timepicker-sbs");if(u.toolbarPlacement==="top"){t.append(s)}t.append(pe("<div>").addClass("row").append(i.addClass("col-md-6")).append(n.addClass("col-md-6")));if(u.toolbarPlacement==="bottom"){t.append(s)}return t}if(u.toolbarPlacement==="top"){a.append(s)}if(x()){a.append(pe("<li>").addClass(u.collapse&&D()?"collapse show":"").append(i))}if(u.toolbarPlacement==="default"){a.append(s)}if(D()){a.append(pe("<li>").addClass(u.collapse&&x()?"collapse":"").append(n))}if(u.toolbarPlacement==="bottom"){a.append(s)}return t.append(a)},e=function e(){var i,n={};if(r.is("input")||u.inline){i=r.data()}else{i=r.find("input").data()}if(i.dateOptions&&i.dateOptions instanceof Object){n=pe.extend(true,n,i.dateOptions)}pe.each(u,function(e){var t="date"+e.charAt(0).toUpperCase()+e.slice(1);if(i[t]!==undefined){n[e]=i[t]}});return n},N=function e(){var t=(o||r).position(),i=(o||r).offset(),n=u.widgetPositioning.vertical,a=u.widgetPositioning.horizontal,s;if(u.widgetParent){s=u.widgetParent.append(p)}else if(r.is("input")){s=r.after(p).parent()}else if(u.inline){s=r.append(p);return}else{s=r;r.children().first().after(p)}if(n==="auto"){if(i.top+p.height()*1.5>=pe(window).height()+pe(window).scrollTop()&&p.height()+r.outerHeight()<i.top){n="top"}else{n="bottom"}}if(a==="auto"){if(s.width()<i.left+p.outerWidth()/2&&i.left+p.outerWidth()>pe(window).width()){a="right"}else{a="left"}}if(n==="top"){p.addClass("top").removeClass("bottom")}else{p.addClass("bottom").removeClass("top")}if(a==="right"){p.addClass("pull-right")}else{p.removeClass("pull-right")}if(s.css("position")==="static"){s=s.parents().filter(function(){return pe(this).css("position")!=="static"}).first()}if(s.length===0){throw new Error("datetimepicker component should be placed within a non-static positioned container")}p.css({top:n==="top"?"auto":t.top+r.outerHeight(),bottom:n==="top"?s.outerHeight()-(s===r?0:t.top):"auto",left:a==="left"?s===r?0:t.left:"auto",right:a==="left"?"auto":s.outerWidth()-r.outerWidth()-(s===r?0:t.left)})},L=function e(t){if(t.type==="dp.change"&&(t.date&&t.date.isSame(t.oldDate)||!t.date&&!t.oldDate)){return}r.trigger(t)},P=function e(t){if(t==="y"){t="YYYY"}L({type:"dp.update",change:t,viewDate:f.clone()})},M=function e(t){if(!p){return}if(t){g=Math.max(a,Math.min(3,g+t))}p.find(".datepicker > div").hide().filter(".datepicker-"+i[g].clsName).show()},H=function e(){var t=pe("<tr>"),i=f.clone().startOf("w").startOf("d");if(u.calendarWeeks===true){t.append(pe("<th>").addClass("cw").text("#"))}while(i.isBefore(f.clone().endOf("w"))){t.append(pe("<th>").addClass("dow").text(i.format("dd")));i.add(1,"d")}p.find(".datepicker-days thead").append(t)},R=function e(t){return u.disabledDates[t.format("YYYY-MM-DD")]===true},z=function e(t){return u.enabledDates[t.format("YYYY-MM-DD")]===true},$=function e(t){return u.disabledHours[t.format("H")]===true},j=function e(t){return u.enabledHours[t.format("H")]===true},F=function e(t,i){if(!t.isValid()){return false}if(u.disabledDates&&i==="d"&&R(t)){return false}if(u.enabledDates&&i==="d"&&!z(t)){return false}if(u.minDate&&t.isBefore(u.minDate,i)){return false}if(u.maxDate&&t.isAfter(u.maxDate,i)){return false}if(u.daysOfWeekDisabled&&i==="d"&&u.daysOfWeekDisabled.indexOf(t.day())!==-1){return false}if(u.disabledHours&&(i==="h"||i==="m"||i==="s")&&$(t)){return false}if(u.enabledHours&&(i==="h"||i==="m"||i==="s")&&!j(t)){return false}if(u.disabledTimeIntervals&&(i==="h"||i==="m"||i==="s")){var n=false;pe.each(u.disabledTimeIntervals,function(){if(t.isBetween(this[0],this[1])){n=true;return false}});if(n){return false}}return true},W=function e(){var t=[],i=f.clone().startOf("y").startOf("d");while(i.isSame(f,"y")){t.push(pe("<span>").attr("data-action","selectMonth").addClass("month").text(i.format("MMM")));i.add(1,"M")}p.find(".datepicker-months td").empty().append(t)},U=function e(){var t=p.find(".datepicker-months"),i=t.find("th"),n=t.find("tbody").find("span");i.eq(0).find("span").attr("title",u.tooltips.prevYear);i.eq(1).attr("title",u.tooltips.selectYear);i.eq(2).find("span").attr("title",u.tooltips.nextYear);t.find(".disabled").removeClass("disabled");if(!F(f.clone().subtract(1,"y"),"y")){i.eq(0).addClass("disabled")}i.eq(1).text(f.year());if(!F(f.clone().add(1,"y"),"y")){i.eq(2).addClass("disabled")}n.removeClass("active");if(c.isSame(f,"y")&&!l){n.eq(c.month()).addClass("active")}n.each(function(e){if(!F(f.clone().month(e),"M")){pe(this).addClass("disabled")}})},B=function e(){var t=p.find(".datepicker-years"),i=t.find("th"),n=f.clone().subtract(5,"y"),a=f.clone().add(6,"y"),s="";i.eq(0).find("span").attr("title",u.tooltips.prevDecade);i.eq(1).attr("title",u.tooltips.selectDecade);i.eq(2).find("span").attr("title",u.tooltips.nextDecade);t.find(".disabled").removeClass("disabled");if(u.minDate&&u.minDate.isAfter(n,"y")){i.eq(0).addClass("disabled")}i.eq(1).text(n.year()+"-"+a.year());if(u.maxDate&&u.maxDate.isBefore(a,"y")){i.eq(2).addClass("disabled")}while(!n.isAfter(a,"y")){s+='<span data-action="selectYear" class="year'+(n.isSame(c,"y")&&!l?" active":"")+(!F(n,"y")?" disabled":"")+'">'+n.year()+"</span>";n.add(1,"y")}t.find("td").html(s)},q=function e(){var t=p.find(".datepicker-decades"),i=t.find("th"),n=me({y:f.year()-f.year()%100-1}),a=n.clone().add(100,"y"),s=n.clone(),r=false,o=false,l,d="";i.eq(0).find("span").attr("title",u.tooltips.prevCentury);i.eq(2).find("span").attr("title",u.tooltips.nextCentury);t.find(".disabled").removeClass("disabled");if(n.isSame(me({y:1900}))||u.minDate&&u.minDate.isAfter(n,"y")){i.eq(0).addClass("disabled")}i.eq(1).text(n.year()+"-"+a.year());if(n.isSame(me({y:2e3}))||u.maxDate&&u.maxDate.isBefore(a,"y")){i.eq(2).addClass("disabled")}while(!n.isAfter(a,"y")){l=n.year()+12;r=u.minDate&&u.minDate.isAfter(n,"y")&&u.minDate.year()<=l;o=u.maxDate&&u.maxDate.isAfter(n,"y")&&u.maxDate.year()<=l;d+='<span data-action="selectDecade" class="decade'+(c.isAfter(n)&&c.year()<=l?" active":"")+(!F(n,"y")&&!r&&!o?" disabled":"")+'" data-selection="'+(n.year()+6)+'">'+(n.year()+1)+" - "+(n.year()+12)+"</span>";n.add(12,"y")}d+="<span></span><span></span><span></span>";t.find("td").html(d);i.eq(1).text(s.year()+1+"-"+n.year())},Y=function e(){var t=p.find(".datepicker-days"),i=t.find("th"),n,a=[],s,r=[],o;if(!x()){return}i.eq(0).find("span").attr("title",u.tooltips.prevMonth);i.eq(1).attr("title",u.tooltips.selectMonth);i.eq(2).find("span").attr("title",u.tooltips.nextMonth);t.find(".disabled").removeClass("disabled");i.eq(1).text(f.format(u.dayViewHeaderFormat));if(!F(f.clone().subtract(1,"M"),"M")){i.eq(0).addClass("disabled")}if(!F(f.clone().add(1,"M"),"M")){i.eq(2).addClass("disabled")}n=f.clone().startOf("M").startOf("w").startOf("d");for(o=0;o<42;o++){if(n.weekday()===0){s=pe("<tr>");if(u.calendarWeeks){s.append('<td class="cw">'+n.week()+"</td>")}a.push(s)}r=["day"];if(n.isBefore(f,"M")){r.push("old")}if(n.isAfter(f,"M")){r.push("new")}if(n.isSame(c,"d")&&!l){r.push("active")}if(!F(n,"d")){r.push("disabled")}if(n.isSame(C(),"d")){r.push("today")}if(n.day()===0||n.day()===6){r.push("weekend")}L({type:"dp.classify",date:n,classNames:r});s.append('<td data-action="selectDay" data-day="'+n.format("L")+'" class="'+r.join(" ")+'">'+n.date()+"</td>");n.add(1,"d")}t.find("tbody").empty().append(a);U();B();q()},V=function e(){var t=p.find(".timepicker-hours table"),i=f.clone().startOf("d"),n=[],a=pe("<tr>");if(f.hour()>11&&!d){i.hour(12)}while(i.isSame(f,"d")&&(d||f.hour()<12&&i.hour()<12||f.hour()>11)){if(i.hour()%4===0){a=pe("<tr>");n.push(a)}a.append('<td data-action="selectHour" class="hour'+(!F(i,"h")?" disabled":"")+'">'+i.format(d?"HH":"hh")+"</td>");i.add(1,"h")}t.empty().append(n)},K=function e(){var t=p.find(".timepicker-minutes table"),i=f.clone().startOf("h"),n=[],a=pe("<tr>"),s=u.stepping===1?5:u.stepping;while(f.isSame(i,"h")){if(i.minute()%(s*4)===0){a=pe("<tr>");n.push(a)}a.append('<td data-action="selectMinute" class="minute'+(!F(i,"m")?" disabled":"")+'">'+i.format("mm")+"</td>");i.add(s,"m")}t.empty().append(n)},Q=function e(){var t=p.find(".timepicker-seconds table"),i=f.clone().startOf("m"),n=[],a=pe("<tr>");while(f.isSame(i,"m")){if(i.second()%20===0){a=pe("<tr>");n.push(a)}a.append('<td data-action="selectSecond" class="second'+(!F(i,"s")?" disabled":"")+'">'+i.format("ss")+"</td>");i.add(5,"s")}t.empty().append(n)},G=function e(){var t,i,n=p.find(".timepicker span[data-time-component]");if(!d){t=p.find(".timepicker [data-action=togglePeriod]");i=c.clone().add(c.hours()>=12?-12:12,"h");t.text(c.format("A"));if(F(i,"h")){t.removeClass("disabled")}else{t.addClass("disabled")}}n.filter("[data-time-component=hours]").text(c.format(d?"HH":"hh"));n.filter("[data-time-component=minutes]").text(c.format("mm"));n.filter("[data-time-component=seconds]").text(c.format("ss"));V();K();Q()},X=function e(){if(!p){return}Y();G()},Z=function e(t){var i=l?null:c;if(!t){l=true;n.val("");r.data("date","");L({type:"dp.change",date:false,oldDate:i});X();return}t=t.clone().locale(u.locale);if(k()){t.tz(u.timeZone)}if(u.stepping!==1){t.minutes(Math.round(t.minutes()/u.stepping)*u.stepping).seconds(0);while(u.minDate&&t.isBefore(u.minDate)){t.add(u.stepping,"minutes")}}if(F(t)){c=t;f=c.clone();n.val(c.format(s));r.data("date",c.format(s));l=false;X();L({type:"dp.change",date:c.clone(),oldDate:i})}else{if(!u.keepInvalid){n.val(l?"":c.format(s))}else{L({type:"dp.change",date:t,oldDate:i})}L({type:"dp.error",date:t,oldDate:i})}},J=function e(){var t=false;if(!p){return h}p.find(".collapse").each(function(){var e=pe(this).data("collapse");if(e&&e.transitioning){t=true;return false}return true});if(t){return h}if(o&&o.hasClass("btn")){o.toggleClass("active")}p.hide();pe(window).off("resize",N);p.off("click","[data-action]");p.off("mousedown",false);p.remove();p=false;L({type:"dp.hide",date:c.clone()});n.blur();f=c.clone();return h},ee=function e(){Z(null)},te=function e(t){if(u.parseInputDate===undefined){if(!me.isMoment(t)||t instanceof Date){t=C(t)}}else{t=u.parseInputDate(t)}return t},ie={next:function e(){var t=i[g].navFnc;f.add(i[g].navStep,t);Y();P(t)},previous:function e(){var t=i[g].navFnc;f.subtract(i[g].navStep,t);Y();P(t)},pickerSwitch:function e(){M(1)},selectMonth:function e(t){var i=pe(t.target).closest("tbody").find("span").index(pe(t.target));f.month(i);if(g===a){Z(c.clone().year(f.year()).month(f.month()));if(!u.inline){J()}}else{M(-1);Y()}P("M")},selectYear:function e(t){var i=parseInt(pe(t.target).text(),10)||0;f.year(i);if(g===a){Z(c.clone().year(f.year()));if(!u.inline){J()}}else{M(-1);Y()}P("YYYY")},selectDecade:function e(t){var i=parseInt(pe(t.target).data("selection"),10)||0;f.year(i);if(g===a){Z(c.clone().year(f.year()));if(!u.inline){J()}}else{M(-1);Y()}P("YYYY")},selectDay:function e(t){var i=f.clone();if(pe(t.target).is(".old")){i.subtract(1,"M")}if(pe(t.target).is(".new")){i.add(1,"M")}Z(i.date(parseInt(pe(t.target).text(),10)));if(!D()&&!u.keepOpen&&!u.inline){J()}},incrementHours:function e(){var t=c.clone().add(1,"h");if(F(t,"h")){Z(t)}},incrementMinutes:function e(){var t=c.clone().add(u.stepping,"m");if(F(t,"m")){Z(t)}},incrementSeconds:function e(){var t=c.clone().add(1,"s");if(F(t,"s")){Z(t)}},decrementHours:function e(){var t=c.clone().subtract(1,"h");if(F(t,"h")){Z(t)}},decrementMinutes:function e(){var t=c.clone().subtract(u.stepping,"m");if(F(t,"m")){Z(t)}},decrementSeconds:function e(){var t=c.clone().subtract(1,"s");if(F(t,"s")){Z(t)}},togglePeriod:function e(){Z(c.clone().add(c.hours()>=12?-12:12,"h"))},togglePicker:function e(t){var i=pe(t.target),n=i.closest("ul"),a=n.find(".show"),s=n.find(".collapse:not(.show)"),r;if(a&&a.length){r=a.data("collapse");if(r&&r.transitioning){return}if(a.collapse){a.collapse("hide");s.collapse("show")}else{a.removeClass("show");s.addClass("show")}if(i.is("i")){i.toggleClass(u.icons.time+" "+u.icons.date)}else{i.find("i").toggleClass(u.icons.time+" "+u.icons.date)}}},showPicker:function e(){p.find(".timepicker > div:not(.timepicker-picker)").hide();p.find(".timepicker .timepicker-picker").show()},showHours:function e(){p.find(".timepicker .timepicker-picker").hide();p.find(".timepicker .timepicker-hours").show()},showMinutes:function e(){p.find(".timepicker .timepicker-picker").hide();p.find(".timepicker .timepicker-minutes").show()},showSeconds:function e(){p.find(".timepicker .timepicker-picker").hide();p.find(".timepicker .timepicker-seconds").show()},selectHour:function e(t){var i=parseInt(pe(t.target).text(),10);if(!d){if(c.hours()>=12){if(i!==12){i+=12}}else{if(i===12){i=0}}}Z(c.clone().hours(i));ie.showPicker.call(h)},selectMinute:function e(t){Z(c.clone().minutes(parseInt(pe(t.target).text(),10)));ie.showPicker.call(h)},selectSecond:function e(t){Z(c.clone().seconds(parseInt(pe(t.target).text(),10)));ie.showPicker.call(h)},clear:ee,today:function e(){var t=C();if(F(t,"d")){Z(t)}},close:J},ne=function e(t){if(pe(t.currentTarget).is(".disabled")){return false}ie[pe(t.currentTarget).data("action")].apply(h,arguments);return false},ae=function e(){var t,i={year:function e(t){return t.month(0).date(1).hours(0).seconds(0).minutes(0)},month:function e(t){return t.date(1).hours(0).seconds(0).minutes(0)},day:function e(t){return t.hours(0).seconds(0).minutes(0)},hour:function e(t){return t.seconds(0).minutes(0)},minute:function e(t){return t.seconds(0)}};if(n.prop("disabled")||!u.ignoreReadonly&&n.prop("readonly")||p){return h}if(n.val()!==undefined&&n.val().trim().length!==0){Z(te(n.val().trim()))}else if(l&&u.useCurrent&&(u.inline||n.is("input")&&n.val().trim().length===0)){t=C();if(typeof u.useCurrent==="string"){t=i[u.useCurrent](t)}Z(t)}p=O();H();W();p.find(".timepicker-hours").hide();p.find(".timepicker-minutes").hide();p.find(".timepicker-seconds").hide();X();M();pe(window).on("resize",N);p.on("click","[data-action]",ne);p.on("mousedown",false);if(o&&o.hasClass("btn")){o.toggleClass("active")}N();p.show();if(u.focusOnShow&&!n.is(":focus")){n.focus()}L({type:"dp.show"});return h},se=function e(){return p?J():ae()},re=function e(t){var i=null,n,a,s=[],r={},o=t.which,l,d,c="p";_[o]=c;for(n in _){if(_.hasOwnProperty(n)&&_[n]===c){s.push(n);if(parseInt(n,10)!==o){r[n]=true}}}for(n in u.keyBinds){if(u.keyBinds.hasOwnProperty(n)&&typeof u.keyBinds[n]==="function"){l=n.split(" ");if(l.length===s.length&&y[o]===l[l.length-1]){d=true;for(a=l.length-2;a>=0;a--){if(!(y[l[a]]in r)){d=false;break}}if(d){i=u.keyBinds[n];break}}}}if(i){i.call(h,p);t.stopPropagation();t.preventDefault()}},oe=function e(t){_[t.which]="r";t.stopPropagation();t.preventDefault()},le=function e(t){var i=pe(t.target).val().trim(),n=i?te(i):null;Z(n);t.stopImmediatePropagation();return false},de=function e(){n.on({change:le,blur:u.debug?"":J,keydown:re,keyup:oe,focus:u.allowInputToggle?ae:""});if(r.is("input")){n.on({focus:ae})}else if(o){o.on("click",se);o.on("mousedown",false)}},ce=function e(){n.off({change:le,blur:blur,keydown:re,keyup:oe,focus:u.allowInputToggle?J:""});if(r.is("input")){n.off({focus:ae})}else if(o){o.off("click",se);o.off("mousedown",false)}},ue=function e(t){var i={};pe.each(t,function(){var e=te(this);if(e.isValid()){i[e.format("YYYY-MM-DD")]=true}});return Object.keys(i).length?i:false},he=function e(t){var i={};pe.each(t,function(){i[this]=true});return Object.keys(i).length?i:false},fe=function e(){var t=u.format||"L LT";s=t.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(e){var t=c.localeData().longDateFormat(e)||e;return t.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(e){return c.localeData().longDateFormat(e)||e})});m=u.extraFormats?u.extraFormats.slice():[];if(m.indexOf(t)<0&&m.indexOf(s)<0){m.push(s)}d=s.toLowerCase().indexOf("a")<1&&s.replace(/\[.*?\]/g,"").indexOf("h")<1;if(I("y")){a=2}if(I("M")){a=1}if(I("d")){a=0}g=Math.max(a,g);if(!l){Z(c)}};if(h.destroy=function(){J();ce();r.removeData("DateTimePicker");r.removeData("date")},h.toggle=se,h.show=ae,h.hide=J,h.disable=function(){J();if(o&&o.hasClass("btn")){o.addClass("disabled")}n.prop("disabled",true);return h},h.enable=function(){if(o&&o.hasClass("btn")){o.removeClass("disabled")}n.prop("disabled",false);return h},h.ignoreReadonly=function(e){if(arguments.length===0){return u.ignoreReadonly}if(typeof e!=="boolean"){throw new TypeError("ignoreReadonly () expects a boolean parameter")}u.ignoreReadonly=e;return h},h.options=function(e){if(arguments.length===0){return pe.extend(true,{},u)}if(!(e instanceof Object)){throw new TypeError("options() options parameter should be an object")}pe.extend(true,u,e);pe.each(u,function(e,t){if(h[e]!==undefined){h[e](t)}else{throw new TypeError("option "+e+" is not recognized!")}});return h},h.date=function(e){if(arguments.length===0){if(l){return null}return c.clone()}if(e!==null&&typeof e!=="string"&&!me.isMoment(e)&&!(e instanceof Date)){throw new TypeError("date() parameter must be one of [null, string, moment or Date]")}Z(e===null?null:te(e));return h},h.format=function(e){if(arguments.length===0){return u.format}if(typeof e!=="string"&&(typeof e!=="boolean"||e!==false)){throw new TypeError("format() expects a string or boolean:false parameter "+e)}u.format=e;if(s){fe()}return h},h.timeZone=function(e){if(arguments.length===0){return u.timeZone}if(typeof e!=="string"){throw new TypeError("newZone() expects a string parameter")}u.timeZone=e;return h},h.dayViewHeaderFormat=function(e){if(arguments.length===0){return u.dayViewHeaderFormat}if(typeof e!=="string"){throw new TypeError("dayViewHeaderFormat() expects a string parameter")}u.dayViewHeaderFormat=e;return h},h.extraFormats=function(e){if(arguments.length===0){return u.extraFormats}if(e!==false&&!(e instanceof Array)){throw new TypeError("extraFormats() expects an array or false parameter")}u.extraFormats=e;if(m){fe()}return h},h.disabledDates=function(e){if(arguments.length===0){return u.disabledDates?pe.extend({},u.disabledDates):u.disabledDates}if(!e){u.disabledDates=false;X();return h}if(!(e instanceof Array)){throw new TypeError("disabledDates() expects an array parameter")}u.disabledDates=ue(e);u.enabledDates=false;X();return h},h.enabledDates=function(e){if(arguments.length===0){return u.enabledDates?pe.extend({},u.enabledDates):u.enabledDates}if(!e){u.enabledDates=false;X();return h}if(!(e instanceof Array)){throw new TypeError("enabledDates() expects an array parameter")}u.enabledDates=ue(e);u.disabledDates=false;X();return h},h.daysOfWeekDisabled=function(e){if(arguments.length===0){return u.daysOfWeekDisabled.splice(0)}if(typeof e==="boolean"&&!e){u.daysOfWeekDisabled=false;X();return h}if(!(e instanceof Array)){throw new TypeError("daysOfWeekDisabled() expects an array parameter")}u.daysOfWeekDisabled=e.reduce(function(e,t){t=parseInt(t,10);if(t>6||t<0||isNaN(t)){return e}if(e.indexOf(t)===-1){e.push(t)}return e},[]).sort();if(u.useCurrent&&!u.keepInvalid){var t=0;while(!F(c,"d")){c.add(1,"d");if(t===31){throw"Tried 31 times to find a valid date"}t++}Z(c)}X();return h},h.maxDate=function(e){if(arguments.length===0){return u.maxDate?u.maxDate.clone():u.maxDate}if(typeof e==="boolean"&&e===false){u.maxDate=false;X();return h}if(typeof e==="string"){if(e==="now"||e==="moment"){e=C()}}var t=te(e);if(!t.isValid()){throw new TypeError("maxDate() Could not parse date parameter: "+e)}if(u.minDate&&t.isBefore(u.minDate)){throw new TypeError("maxDate() date parameter is before options.minDate: "+t.format(s))}u.maxDate=t;if(u.useCurrent&&!u.keepInvalid&&c.isAfter(e)){Z(u.maxDate)}if(f.isAfter(t)){f=t.clone().subtract(u.stepping,"m")}X();return h},h.minDate=function(e){if(arguments.length===0){return u.minDate?u.minDate.clone():u.minDate}if(typeof e==="boolean"&&e===false){u.minDate=false;X();return h}if(typeof e==="string"){if(e==="now"||e==="moment"){e=C()}}var t=te(e);if(!t.isValid()){throw new TypeError("minDate() Could not parse date parameter: "+e)}if(u.maxDate&&t.isAfter(u.maxDate)){throw new TypeError("minDate() date parameter is after options.maxDate: "+t.format(s))}u.minDate=t;if(u.useCurrent&&!u.keepInvalid&&c.isBefore(e)){Z(u.minDate)}if(f.isBefore(t)){f=t.clone().add(u.stepping,"m")}X();return h},h.defaultDate=function(e){if(arguments.length===0){return u.defaultDate?u.defaultDate.clone():u.defaultDate}if(!e){u.defaultDate=false;return h}if(typeof e==="string"){if(e==="now"||e==="moment"){e=C()}else{e=C(e)}}var t=te(e);if(!t.isValid()){throw new TypeError("defaultDate() Could not parse date parameter: "+e)}if(!F(t)){throw new TypeError("defaultDate() date passed is invalid according to component setup validations")}u.defaultDate=t;if(u.defaultDate&&u.inline||n.val().trim()===""){Z(u.defaultDate)}return h},h.locale=function(e){if(arguments.length===0){return u.locale}if(!me.localeData(e)){throw new TypeError("locale() locale "+e+" is not loaded from moment locales!")}u.locale=e;c.locale(u.locale);f.locale(u.locale);if(s){fe()}if(p){J();ae()}return h},h.stepping=function(e){if(arguments.length===0){return u.stepping}e=parseInt(e,10);if(isNaN(e)||e<1){e=1}u.stepping=e;return h},h.useCurrent=function(e){var t=["year","month","day","hour","minute"];if(arguments.length===0){return u.useCurrent}if(typeof e!=="boolean"&&typeof e!=="string"){throw new TypeError("useCurrent() expects a boolean or string parameter")}if(typeof e==="string"&&t.indexOf(e.toLowerCase())===-1){throw new TypeError("useCurrent() expects a string parameter of "+t.join(", "))}u.useCurrent=e;return h},h.collapse=function(e){if(arguments.length===0){return u.collapse}if(typeof e!=="boolean"){throw new TypeError("collapse() expects a boolean parameter")}if(u.collapse===e){return h}u.collapse=e;if(p){J();ae()}return h},h.icons=function(e){if(arguments.length===0){return pe.extend({},u.icons)}if(!(e instanceof Object)){throw new TypeError("icons() expects parameter to be an Object")}pe.extend(u.icons,e);if(p){J();ae()}return h},h.tooltips=function(e){if(arguments.length===0){return pe.extend({},u.tooltips)}if(!(e instanceof Object)){throw new TypeError("tooltips() expects parameter to be an Object")}pe.extend(u.tooltips,e);if(p){J();ae()}return h},h.useStrict=function(e){if(arguments.length===0){return u.useStrict}if(typeof e!=="boolean"){throw new TypeError("useStrict() expects a boolean parameter")}u.useStrict=e;return h},h.sideBySide=function(e){if(arguments.length===0){return u.sideBySide}if(typeof e!=="boolean"){throw new TypeError("sideBySide() expects a boolean parameter")}u.sideBySide=e;if(p){J();ae()}return h},h.viewMode=function(e){if(arguments.length===0){return u.viewMode}if(typeof e!=="string"){throw new TypeError("viewMode() expects a string parameter")}if(t.indexOf(e)===-1){throw new TypeError("viewMode() parameter must be one of ("+t.join(", ")+") value")}u.viewMode=e;g=Math.max(t.indexOf(e),a);M();return h},h.toolbarPlacement=function(e){if(arguments.length===0){return u.toolbarPlacement}if(typeof e!=="string"){throw new TypeError("toolbarPlacement() expects a string parameter")}if(b.indexOf(e)===-1){throw new TypeError("toolbarPlacement() parameter must be one of ("+b.join(", ")+") value")}u.toolbarPlacement=e;if(p){J();ae()}return h},h.widgetPositioning=function(e){if(arguments.length===0){return pe.extend({},u.widgetPositioning)}if({}.toString.call(e)!=="[object Object]"){throw new TypeError("widgetPositioning() expects an object variable")}if(e.horizontal){if(typeof e.horizontal!=="string"){throw new TypeError("widgetPositioning() horizontal variable must be a string")}e.horizontal=e.horizontal.toLowerCase();if(w.indexOf(e.horizontal)===-1){throw new TypeError("widgetPositioning() expects horizontal parameter to be one of ("+w.join(", ")+")")}u.widgetPositioning.horizontal=e.horizontal}if(e.vertical){if(typeof e.vertical!=="string"){throw new TypeError("widgetPositioning() vertical variable must be a string")}e.vertical=e.vertical.toLowerCase();if(v.indexOf(e.vertical)===-1){throw new TypeError("widgetPositioning() expects vertical parameter to be one of ("+v.join(", ")+")")}u.widgetPositioning.vertical=e.vertical}X();return h},h.calendarWeeks=function(e){if(arguments.length===0){return u.calendarWeeks}if(typeof e!=="boolean"){throw new TypeError("calendarWeeks() expects parameter to be a boolean value")}u.calendarWeeks=e;X();return h},h.showTodayButton=function(e){if(arguments.length===0){return u.showTodayButton}if(typeof e!=="boolean"){throw new TypeError("showTodayButton() expects a boolean parameter")}u.showTodayButton=e;if(p){J();ae()}return h},h.showClear=function(e){if(arguments.length===0){return u.showClear}if(typeof e!=="boolean"){throw new TypeError("showClear() expects a boolean parameter")}u.showClear=e;if(p){J();ae()}return h},h.widgetParent=function(e){if(arguments.length===0){return u.widgetParent}if(typeof e==="string"){e=pe(e)}if(e!==null&&typeof e!=="string"&&!(e instanceof pe)){throw new TypeError("widgetParent() expects a string or a jQuery object parameter")}u.widgetParent=e;if(p){J();ae()}return h},h.keepOpen=function(e){if(arguments.length===0){return u.keepOpen}if(typeof e!=="boolean"){throw new TypeError("keepOpen() expects a boolean parameter")}u.keepOpen=e;return h},h.focusOnShow=function(e){if(arguments.length===0){return u.focusOnShow}if(typeof e!=="boolean"){throw new TypeError("focusOnShow() expects a boolean parameter")}u.focusOnShow=e;return h},h.inline=function(e){if(arguments.length===0){return u.inline}if(typeof e!=="boolean"){throw new TypeError("inline() expects a boolean parameter")}u.inline=e;return h},h.clear=function(){ee();return h},h.keyBinds=function(e){if(arguments.length===0){return u.keyBinds}u.keyBinds=e;return h},h.getMoment=function(e){return C(e)},h.debug=function(e){if(typeof e!=="boolean"){throw new TypeError("debug() expects a boolean parameter")}u.debug=e;return h},h.allowInputToggle=function(e){if(arguments.length===0){return u.allowInputToggle}if(typeof e!=="boolean"){throw new TypeError("allowInputToggle() expects a boolean parameter")}u.allowInputToggle=e;return h},h.showClose=function(e){if(arguments.length===0){return u.showClose}if(typeof e!=="boolean"){throw new TypeError("showClose() expects a boolean parameter")}u.showClose=e;return h},h.keepInvalid=function(e){if(arguments.length===0){return u.keepInvalid}if(typeof e!=="boolean"){throw new TypeError("keepInvalid() expects a boolean parameter")}u.keepInvalid=e;return h},h.datepickerInput=function(e){if(arguments.length===0){return u.datepickerInput}if(typeof e!=="string"){throw new TypeError("datepickerInput() expects a string parameter")}u.datepickerInput=e;return h},h.parseInputDate=function(e){if(arguments.length===0){return u.parseInputDate}if(typeof e!=="function"){throw new TypeError("parseInputDate() sholud be as function")}u.parseInputDate=e;return h},h.disabledTimeIntervals=function(e){if(arguments.length===0){return u.disabledTimeIntervals?pe.extend({},u.disabledTimeIntervals):u.disabledTimeIntervals}if(!e){u.disabledTimeIntervals=false;X();return h}if(!(e instanceof Array)){throw new TypeError("disabledTimeIntervals() expects an array parameter")}u.disabledTimeIntervals=e;X();return h},h.disabledHours=function(e){if(arguments.length===0){return u.disabledHours?pe.extend({},u.disabledHours):u.disabledHours}if(!e){u.disabledHours=false;X();return h}if(!(e instanceof Array)){throw new TypeError("disabledHours() expects an array parameter")}u.disabledHours=he(e);u.enabledHours=false;if(u.useCurrent&&!u.keepInvalid){var t=0;while(!F(c,"h")){c.add(1,"h");if(t===24){throw"Tried 24 times to find a valid date"}t++}Z(c)}X();return h},h.enabledHours=function(e){if(arguments.length===0){return u.enabledHours?pe.extend({},u.enabledHours):u.enabledHours}if(!e){u.enabledHours=false;X();return h}if(!(e instanceof Array)){throw new TypeError("enabledHours() expects an array parameter")}u.enabledHours=he(e);u.disabledHours=false;if(u.useCurrent&&!u.keepInvalid){var t=0;while(!F(c,"h")){c.add(1,"h");if(t===24){throw"Tried 24 times to find a valid date"}t++}Z(c)}X();return h},h.viewDate=function(e){if(arguments.length===0){return f.clone()}if(!e){f=c.clone();return h}if(typeof e!=="string"&&!me.isMoment(e)&&!(e instanceof Date)){throw new TypeError("viewDate() parameter must be one of [string, moment or Date]")}f=te(e);P();return h},r.is("input")){n=r}else{n=r.find(u.datepickerInput);if(n.length===0){n=r.find("input")}else if(!n.is("input")){throw new Error('CSS class "'+u.datepickerInput+'" cannot be applied to non input element')}}if(r.hasClass("input-group")){if(r.find(".datepickerbutton").length===0){o=r.find(".input-group-append")}else{o=r.find(".datepickerbutton")}}if(!u.inline&&!n.is("input")){throw new Error("Could not initialize DateTimePicker without an input element")}if(c=C(),f=c.clone(),pe.extend(true,u,e()),h.options(u),fe(),de(),n.prop("disabled")){h.disable()}if(n.is("input")&&n.val().trim().length!==0){Z(te(n.val().trim()))}else if(u.defaultDate&&n.attr("placeholder")===undefined){Z(u.defaultDate)}if(u.inline){ae()}return h};pe.fn.datetimepicker=function(i){i=i||{};var t,n=Array.prototype.slice.call(arguments,1),a=!0;if("object"==typeof i)return this.each(function(){var e,t=pe(this);t.data("DateTimePicker")||(e=pe.extend(!0,{},pe.fn.datetimepicker.defaults,i),t.data("DateTimePicker",function(r,u){var h={},c,f,l=true,n,o=false,p=false,d,a=0,s,m,g,i=[{clsName:"days",navFnc:"M",navStep:1},{clsName:"months",navFnc:"y",navStep:1},{clsName:"years",navFnc:"y",navStep:10},{clsName:"decades",navFnc:"y",navStep:100}],t=["days","months","years","decades"],v=["top","bottom","auto"],w=["left","right","auto"],b=["default","top","bottom"],y={up:38,38:"up",down:40,40:"down",left:37,37:"left",right:39,39:"right",tab:9,9:"tab",escape:27,27:"escape",enter:13,13:"enter",pageUp:33,33:"pageUp",pageDown:34,34:"pageDown",shift:16,16:"shift",control:17,17:"control",space:32,32:"space",t:84,84:"t",delete:46,46:"delete"},_={},k=function e(){return me.tz!==undefined&&u.timeZone!==undefined&&u.timeZone!==null&&u.timeZone!==""},C=function e(t){var i;if(t===undefined||t===null){i=me()}else if(me.isDate(t)||me.isMoment(t)){i=me(t)}else if(k()){i=me.tz(t,m,u.useStrict,u.timeZone)}else{i=me(t,m,u.useStrict)}if(k()){i.tz(u.timeZone)}return i},I=function e(t){if(typeof t!=="string"||t.length>1){throw new TypeError("isEnabled expects a single character string parameter")}switch(t){case"y":return s.indexOf("Y")!==-1;case"M":return s.indexOf("M")!==-1;case"d":return s.toLowerCase().indexOf("d")!==-1;case"h":case"H":return s.toLowerCase().indexOf("h")!==-1;case"m":return s.indexOf("m")!==-1;case"s":return s.indexOf("s")!==-1;default:return false}},D=function e(){return I("h")||I("m")||I("s")},x=function e(){return I("y")||I("M")||I("d")},E=function e(){var t=pe("<thead>").append(pe("<tr>").append(pe("<th>").addClass("prev").attr("data-action","previous").append(pe("<i>").addClass(u.icons.previous))).append(pe("<th>").addClass("picker-switch").attr("data-action","pickerSwitch").attr("colspan",u.calendarWeeks?"6":"5")).append(pe("<th>").addClass("next").attr("data-action","next").append(pe("<i>").addClass(u.icons.next)))),i=pe("<tbody>").append(pe("<tr>").append(pe("<td>").attr("colspan",u.calendarWeeks?"8":"7")));return[pe("<div>").addClass("datepicker-days").append(pe("<table>").addClass("table-condensed").append(t).append(pe("<tbody>"))),pe("<div>").addClass("datepicker-months").append(pe("<table>").addClass("table-condensed").append(t.clone()).append(i.clone())),pe("<div>").addClass("datepicker-years").append(pe("<table>").addClass("table-condensed").append(t.clone()).append(i.clone())),pe("<div>").addClass("datepicker-decades").append(pe("<table>").addClass("table-condensed").append(t.clone()).append(i.clone()))]},T=function e(){var t=pe("<tr>"),i=pe("<tr>"),n=pe("<tr>");if(I("h")){t.append(pe("<td>").append(pe("<a>").attr({href:"#",tabindex:"-1",title:u.tooltips.incrementHour}).addClass("btn").attr("data-action","incrementHours").append(pe("<i>").addClass(u.icons.up))));i.append(pe("<td>").append(pe("<span>").addClass("timepicker-hour").attr({"data-time-component":"hours",title:u.tooltips.pickHour}).attr("data-action","showHours")));n.append(pe("<td>").append(pe("<a>").attr({href:"#",tabindex:"-1",title:u.tooltips.decrementHour}).addClass("btn").attr("data-action","decrementHours").append(pe("<i>").addClass(u.icons.down))))}if(I("m")){if(I("h")){t.append(pe("<td>").addClass("separator"));i.append(pe("<td>").addClass("separator").html(":"));n.append(pe("<td>").addClass("separator"))}t.append(pe("<td>").append(pe("<a>").attr({href:"#",tabindex:"-1",title:u.tooltips.incrementMinute}).addClass("btn").attr("data-action","incrementMinutes").append(pe("<i>").addClass(u.icons.up))));i.append(pe("<td>").append(pe("<span>").addClass("timepicker-minute").attr({"data-time-component":"minutes",title:u.tooltips.pickMinute}).attr("data-action","showMinutes")));n.append(pe("<td>").append(pe("<a>").attr({href:"#",tabindex:"-1",title:u.tooltips.decrementMinute}).addClass("btn").attr("data-action","decrementMinutes").append(pe("<i>").addClass(u.icons.down))))}if(I("s")){if(I("m")){t.append(pe("<td>").addClass("separator"));i.append(pe("<td>").addClass("separator").html(":"));n.append(pe("<td>").addClass("separator"))}t.append(pe("<td>").append(pe("<a>").attr({href:"#",tabindex:"-1",title:u.tooltips.incrementSecond}).addClass("btn").attr("data-action","incrementSeconds").append(pe("<i>").addClass(u.icons.up))));i.append(pe("<td>").append(pe("<span>").addClass("timepicker-second").attr({"data-time-component":"seconds",title:u.tooltips.pickSecond}).attr("data-action","showSeconds")));n.append(pe("<td>").append(pe("<a>").attr({href:"#",tabindex:"-1",title:u.tooltips.decrementSecond}).addClass("btn").attr("data-action","decrementSeconds").append(pe("<i>").addClass(u.icons.down))))}if(!d){t.append(pe("<td>").addClass("separator"));i.append(pe("<td>").append(pe("<button>").addClass("btn btn-primary").attr({"data-action":"togglePeriod",tabindex:"-1",title:u.tooltips.togglePeriod})));n.append(pe("<td>").addClass("separator"))}return pe("<div>").addClass("timepicker-picker").append(pe("<table>").addClass("table-condensed").append([t,i,n]))},S=function e(){var t=pe("<div>").addClass("timepicker-hours").append(pe("<table>").addClass("table-condensed")),i=pe("<div>").addClass("timepicker-minutes").append(pe("<table>").addClass("table-condensed")),n=pe("<div>").addClass("timepicker-seconds").append(pe("<table>").addClass("table-condensed")),a=[T()];if(I("h")){a.push(t)}if(I("m")){a.push(i)}if(I("s")){a.push(n)}return a},A=function e(){var t=[];if(u.showTodayButton){t.push(pe("<td>").append(pe("<a>").attr({"data-action":"today",title:u.tooltips.today}).append(pe("<i>").addClass(u.icons.today))))}if(!u.sideBySide&&x()&&D()){t.push(pe("<td>").append(pe("<a>").attr({"data-action":"togglePicker",title:u.tooltips.selectTime}).append(pe("<i>").addClass(u.icons.time))))}if(u.showClear){t.push(pe("<td>").append(pe("<a>").attr({"data-action":"clear",title:u.tooltips.clear}).append(pe("<i>").addClass(u.icons.clear))))}if(u.showClose){t.push(pe("<td>").append(pe("<a>").attr({"data-action":"close",title:u.tooltips.close}).append(pe("<i>").addClass(u.icons.close))))}return pe("<table>").addClass("table-condensed").append(pe("<tbody>").append(pe("<tr>").append(t)))},O=function e(){var t=pe("<div>").addClass("bootstrap-datetimepicker-widget dropdown-menu"),i=pe("<div>").addClass("datepicker").append(E()),n=pe("<div>").addClass("timepicker").append(S()),a=pe("<ul>").addClass("list-unstyled"),s=pe("<li>").addClass("picker-switch"+(u.collapse?" accordion-toggle":"")).append(A());if(u.inline){t.removeClass("dropdown-menu")}if(d){t.addClass("usetwentyfour")}if(I("s")&&!d){t.addClass("wider")}if(u.sideBySide&&x()&&D()){t.addClass("timepicker-sbs");if(u.toolbarPlacement==="top"){t.append(s)}t.append(pe("<div>").addClass("row").append(i.addClass("col-md-6")).append(n.addClass("col-md-6")));if(u.toolbarPlacement==="bottom"){t.append(s)}return t}if(u.toolbarPlacement==="top"){a.append(s)}if(x()){a.append(pe("<li>").addClass(u.collapse&&D()?"collapse show":"").append(i))}if(u.toolbarPlacement==="default"){a.append(s)}if(D()){a.append(pe("<li>").addClass(u.collapse&&x()?"collapse":"").append(n))}if(u.toolbarPlacement==="bottom"){a.append(s)}return t.append(a)},e=function e(){var i,n={};if(r.is("input")||u.inline){i=r.data()}else{i=r.find("input").data()}if(i.dateOptions&&i.dateOptions instanceof Object){n=pe.extend(true,n,i.dateOptions)}pe.each(u,function(e){var t="date"+e.charAt(0).toUpperCase()+e.slice(1);if(i[t]!==undefined){n[e]=i[t]}});return n},N=function e(){var t=(o||r).position(),i=(o||r).offset(),n=u.widgetPositioning.vertical,a=u.widgetPositioning.horizontal,s;if(u.widgetParent){s=u.widgetParent.append(p)}else if(r.is("input")){s=r.after(p).parent()}else if(u.inline){s=r.append(p);return}else{s=r;r.children().first().after(p)}if(n==="auto"){if(i.top+p.height()*1.5>=pe(window).height()+pe(window).scrollTop()&&p.height()+r.outerHeight()<i.top){n="top"}else{n="bottom"}}if(a==="auto"){if(s.width()<i.left+p.outerWidth()/2&&i.left+p.outerWidth()>pe(window).width()){a="right"}else{a="left"}}if(n==="top"){p.addClass("top").removeClass("bottom")}else{p.addClass("bottom").removeClass("top")}if(a==="right"){p.addClass("pull-right")}else{p.removeClass("pull-right")}if(s.css("position")==="static"){s=s.parents().filter(function(){return pe(this).css("position")!=="static"}).first()}if(s.length===0){throw new Error("datetimepicker component should be placed within a non-static positioned container")}p.css({top:n==="top"?"auto":t.top+r.outerHeight(),bottom:n==="top"?s.outerHeight()-(s===r?0:t.top):"auto",left:a==="left"?s===r?0:t.left:"auto",right:a==="left"?"auto":s.outerWidth()-r.outerWidth()-(s===r?0:t.left)})},L=function e(t){if(t.type==="dp.change"&&(t.date&&t.date.isSame(t.oldDate)||!t.date&&!t.oldDate)){return}r.trigger(t)},P=function e(t){if(t==="y"){t="YYYY"}L({type:"dp.update",change:t,viewDate:f.clone()})},M=function e(t){if(!p){return}if(t){g=Math.max(a,Math.min(3,g+t))}p.find(".datepicker > div").hide().filter(".datepicker-"+i[g].clsName).show()},H=function e(){var t=pe("<tr>"),i=f.clone().startOf("w").startOf("d");if(u.calendarWeeks===true){t.append(pe("<th>").addClass("cw").text("#"))}while(i.isBefore(f.clone().endOf("w"))){t.append(pe("<th>").addClass("dow").text(i.format("dd")));i.add(1,"d")}p.find(".datepicker-days thead").append(t)},R=function e(t){return u.disabledDates[t.format("YYYY-MM-DD")]===true},z=function e(t){return u.enabledDates[t.format("YYYY-MM-DD")]===true},$=function e(t){return u.disabledHours[t.format("H")]===true},j=function e(t){return u.enabledHours[t.format("H")]===true},F=function e(t,i){if(!t.isValid()){return false}if(u.disabledDates&&i==="d"&&R(t)){return false}if(u.enabledDates&&i==="d"&&!z(t)){return false}if(u.minDate&&t.isBefore(u.minDate,i)){return false}if(u.maxDate&&t.isAfter(u.maxDate,i)){return false}if(u.daysOfWeekDisabled&&i==="d"&&u.daysOfWeekDisabled.indexOf(t.day())!==-1){return false}if(u.disabledHours&&(i==="h"||i==="m"||i==="s")&&$(t)){return false}if(u.enabledHours&&(i==="h"||i==="m"||i==="s")&&!j(t)){return false}if(u.disabledTimeIntervals&&(i==="h"||i==="m"||i==="s")){var n=false;pe.each(u.disabledTimeIntervals,function(){if(t.isBetween(this[0],this[1])){n=true;return false}});if(n){return false}}return true},W=function e(){var t=[],i=f.clone().startOf("y").startOf("d");while(i.isSame(f,"y")){t.push(pe("<span>").attr("data-action","selectMonth").addClass("month").text(i.format("MMM")));i.add(1,"M")}p.find(".datepicker-months td").empty().append(t)},U=function e(){var t=p.find(".datepicker-months"),i=t.find("th"),n=t.find("tbody").find("span");i.eq(0).find("span").attr("title",u.tooltips.prevYear);i.eq(1).attr("title",u.tooltips.selectYear);i.eq(2).find("span").attr("title",u.tooltips.nextYear);t.find(".disabled").removeClass("disabled");if(!F(f.clone().subtract(1,"y"),"y")){i.eq(0).addClass("disabled")}i.eq(1).text(f.year());if(!F(f.clone().add(1,"y"),"y")){i.eq(2).addClass("disabled")}n.removeClass("active");if(c.isSame(f,"y")&&!l){n.eq(c.month()).addClass("active")}n.each(function(e){if(!F(f.clone().month(e),"M")){pe(this).addClass("disabled")}})},B=function e(){var t=p.find(".datepicker-years"),i=t.find("th"),n=f.clone().subtract(5,"y"),a=f.clone().add(6,"y"),s="";i.eq(0).find("span").attr("title",u.tooltips.prevDecade);i.eq(1).attr("title",u.tooltips.selectDecade);i.eq(2).find("span").attr("title",u.tooltips.nextDecade);t.find(".disabled").removeClass("disabled");if(u.minDate&&u.minDate.isAfter(n,"y")){i.eq(0).addClass("disabled")}i.eq(1).text(n.year()+"-"+a.year());if(u.maxDate&&u.maxDate.isBefore(a,"y")){i.eq(2).addClass("disabled")}while(!n.isAfter(a,"y")){s+='<span data-action="selectYear" class="year'+(n.isSame(c,"y")&&!l?" active":"")+(!F(n,"y")?" disabled":"")+'">'+n.year()+"</span>";n.add(1,"y")}t.find("td").html(s)},q=function e(){var t=p.find(".datepicker-decades"),i=t.find("th"),n=me({y:f.year()-f.year()%100-1}),a=n.clone().add(100,"y"),s=n.clone(),r=false,o=false,l,d="";i.eq(0).find("span").attr("title",u.tooltips.prevCentury);i.eq(2).find("span").attr("title",u.tooltips.nextCentury);t.find(".disabled").removeClass("disabled");if(n.isSame(me({y:1900}))||u.minDate&&u.minDate.isAfter(n,"y")){i.eq(0).addClass("disabled")}i.eq(1).text(n.year()+"-"+a.year());if(n.isSame(me({y:2e3}))||u.maxDate&&u.maxDate.isBefore(a,"y")){i.eq(2).addClass("disabled")}while(!n.isAfter(a,"y")){l=n.year()+12;r=u.minDate&&u.minDate.isAfter(n,"y")&&u.minDate.year()<=l;o=u.maxDate&&u.maxDate.isAfter(n,"y")&&u.maxDate.year()<=l;d+='<span data-action="selectDecade" class="decade'+(c.isAfter(n)&&c.year()<=l?" active":"")+(!F(n,"y")&&!r&&!o?" disabled":"")+'" data-selection="'+(n.year()+6)+'">'+(n.year()+1)+" - "+(n.year()+12)+"</span>";n.add(12,"y")}d+="<span></span><span></span><span></span>";t.find("td").html(d);i.eq(1).text(s.year()+1+"-"+n.year())},Y=function e(){var t=p.find(".datepicker-days"),i=t.find("th"),n,a=[],s,r=[],o;if(!x()){return}i.eq(0).find("span").attr("title",u.tooltips.prevMonth);i.eq(1).attr("title",u.tooltips.selectMonth);i.eq(2).find("span").attr("title",u.tooltips.nextMonth);t.find(".disabled").removeClass("disabled");i.eq(1).text(f.format(u.dayViewHeaderFormat));if(!F(f.clone().subtract(1,"M"),"M")){i.eq(0).addClass("disabled")}if(!F(f.clone().add(1,"M"),"M")){i.eq(2).addClass("disabled")}n=f.clone().startOf("M").startOf("w").startOf("d");for(o=0;o<42;o++){if(n.weekday()===0){s=pe("<tr>");if(u.calendarWeeks){s.append('<td class="cw">'+n.week()+"</td>")}a.push(s)}r=["day"];if(n.isBefore(f,"M")){r.push("old")}if(n.isAfter(f,"M")){r.push("new")}if(n.isSame(c,"d")&&!l){r.push("active")}if(!F(n,"d")){r.push("disabled")}if(n.isSame(C(),"d")){r.push("today")}if(n.day()===0||n.day()===6){r.push("weekend")}L({type:"dp.classify",date:n,classNames:r});s.append('<td data-action="selectDay" data-day="'+n.format("L")+'" class="'+r.join(" ")+'">'+n.date()+"</td>");n.add(1,"d")}t.find("tbody").empty().append(a);U();B();q()},V=function e(){var t=p.find(".timepicker-hours table"),i=f.clone().startOf("d"),n=[],a=pe("<tr>");if(f.hour()>11&&!d){i.hour(12)}while(i.isSame(f,"d")&&(d||f.hour()<12&&i.hour()<12||f.hour()>11)){if(i.hour()%4===0){a=pe("<tr>");n.push(a)}a.append('<td data-action="selectHour" class="hour'+(!F(i,"h")?" disabled":"")+'">'+i.format(d?"HH":"hh")+"</td>");i.add(1,"h")}t.empty().append(n)},K=function e(){var t=p.find(".timepicker-minutes table"),i=f.clone().startOf("h"),n=[],a=pe("<tr>"),s=u.stepping===1?5:u.stepping;while(f.isSame(i,"h")){if(i.minute()%(s*4)===0){a=pe("<tr>");n.push(a)}a.append('<td data-action="selectMinute" class="minute'+(!F(i,"m")?" disabled":"")+'">'+i.format("mm")+"</td>");i.add(s,"m")}t.empty().append(n)},Q=function e(){var t=p.find(".timepicker-seconds table"),i=f.clone().startOf("m"),n=[],a=pe("<tr>");while(f.isSame(i,"m")){if(i.second()%20===0){a=pe("<tr>");n.push(a)}a.append('<td data-action="selectSecond" class="second'+(!F(i,"s")?" disabled":"")+'">'+i.format("ss")+"</td>");i.add(5,"s")}t.empty().append(n)},G=function e(){var t,i,n=p.find(".timepicker span[data-time-component]");if(!d){t=p.find(".timepicker [data-action=togglePeriod]");i=c.clone().add(c.hours()>=12?-12:12,"h");t.text(c.format("A"));if(F(i,"h")){t.removeClass("disabled")}else{t.addClass("disabled")}}n.filter("[data-time-component=hours]").text(c.format(d?"HH":"hh"));n.filter("[data-time-component=minutes]").text(c.format("mm"));n.filter("[data-time-component=seconds]").text(c.format("ss"));V();K();Q()},X=function e(){if(!p){return}Y();G()},Z=function e(t){var i=l?null:c;if(!t){l=true;n.val("");r.data("date","");L({type:"dp.change",date:false,oldDate:i});X();return}t=t.clone().locale(u.locale);if(k()){t.tz(u.timeZone)}if(u.stepping!==1){t.minutes(Math.round(t.minutes()/u.stepping)*u.stepping).seconds(0);while(u.minDate&&t.isBefore(u.minDate)){t.add(u.stepping,"minutes")}}if(F(t)){c=t;f=c.clone();n.val(c.format(s));r.data("date",c.format(s));l=false;X();L({type:"dp.change",date:c.clone(),oldDate:i})}else{if(!u.keepInvalid){n.val(l?"":c.format(s))}else{L({type:"dp.change",date:t,oldDate:i})}L({type:"dp.error",date:t,oldDate:i})}},J=function e(){var t=false;if(!p){return h}p.find(".collapse").each(function(){var e=pe(this).data("collapse");if(e&&e.transitioning){t=true;return false}return true});if(t){return h}if(o&&o.hasClass("btn")){o.toggleClass("active")}p.hide();pe(window).off("resize",N);p.off("click","[data-action]");p.off("mousedown",false);p.remove();p=false;L({type:"dp.hide",date:c.clone()});n.blur();f=c.clone();return h},ee=function e(){Z(null)},te=function e(t){if(u.parseInputDate===undefined){if(!me.isMoment(t)||t instanceof Date){t=C(t)}}else{t=u.parseInputDate(t)}return t},ie={next:function e(){var t=i[g].navFnc;f.add(i[g].navStep,t);Y();P(t)},previous:function e(){var t=i[g].navFnc;f.subtract(i[g].navStep,t);Y();P(t)},pickerSwitch:function e(){M(1)},selectMonth:function e(t){var i=pe(t.target).closest("tbody").find("span").index(pe(t.target));f.month(i);if(g===a){Z(c.clone().year(f.year()).month(f.month()));if(!u.inline){J()}}else{M(-1);Y()}P("M")},selectYear:function e(t){var i=parseInt(pe(t.target).text(),10)||0;f.year(i);if(g===a){Z(c.clone().year(f.year()));if(!u.inline){J()}}else{M(-1);Y()}P("YYYY")},selectDecade:function e(t){var i=parseInt(pe(t.target).data("selection"),10)||0;f.year(i);if(g===a){Z(c.clone().year(f.year()));if(!u.inline){J()}}else{M(-1);Y()}P("YYYY")},selectDay:function e(t){var i=f.clone();if(pe(t.target).is(".old")){i.subtract(1,"M")}if(pe(t.target).is(".new")){i.add(1,"M")}Z(i.date(parseInt(pe(t.target).text(),10)));if(!D()&&!u.keepOpen&&!u.inline){J()}},incrementHours:function e(){var t=c.clone().add(1,"h");if(F(t,"h")){Z(t)}},incrementMinutes:function e(){var t=c.clone().add(u.stepping,"m");if(F(t,"m")){Z(t)}},incrementSeconds:function e(){var t=c.clone().add(1,"s");if(F(t,"s")){Z(t)}},decrementHours:function e(){var t=c.clone().subtract(1,"h");if(F(t,"h")){Z(t)}},decrementMinutes:function e(){var t=c.clone().subtract(u.stepping,"m");if(F(t,"m")){Z(t)}},decrementSeconds:function e(){var t=c.clone().subtract(1,"s");if(F(t,"s")){Z(t)}},togglePeriod:function e(){Z(c.clone().add(c.hours()>=12?-12:12,"h"))},togglePicker:function e(t){var i=pe(t.target),n=i.closest("ul"),a=n.find(".show"),s=n.find(".collapse:not(.show)"),r;if(a&&a.length){r=a.data("collapse");if(r&&r.transitioning){return}if(a.collapse){a.collapse("hide");s.collapse("show")}else{a.removeClass("show");s.addClass("show")}if(i.is("i")){i.toggleClass(u.icons.time+" "+u.icons.date)}else{i.find("i").toggleClass(u.icons.time+" "+u.icons.date)}}},showPicker:function e(){p.find(".timepicker > div:not(.timepicker-picker)").hide();p.find(".timepicker .timepicker-picker").show()},showHours:function e(){p.find(".timepicker .timepicker-picker").hide();p.find(".timepicker .timepicker-hours").show()},showMinutes:function e(){p.find(".timepicker .timepicker-picker").hide();p.find(".timepicker .timepicker-minutes").show()},showSeconds:function e(){p.find(".timepicker .timepicker-picker").hide();p.find(".timepicker .timepicker-seconds").show()},selectHour:function e(t){var i=parseInt(pe(t.target).text(),10);if(!d){if(c.hours()>=12){if(i!==12){i+=12}}else{if(i===12){i=0}}}Z(c.clone().hours(i));ie.showPicker.call(h)},selectMinute:function e(t){Z(c.clone().minutes(parseInt(pe(t.target).text(),10)));ie.showPicker.call(h)},selectSecond:function e(t){Z(c.clone().seconds(parseInt(pe(t.target).text(),10)));ie.showPicker.call(h)},clear:ee,today:function e(){var t=C();if(F(t,"d")){Z(t)}},close:J},ne=function e(t){if(pe(t.currentTarget).is(".disabled")){return false}ie[pe(t.currentTarget).data("action")].apply(h,arguments);return false},ae=function e(){var t,i={year:function e(t){return t.month(0).date(1).hours(0).seconds(0).minutes(0)},month:function e(t){return t.date(1).hours(0).seconds(0).minutes(0)},day:function e(t){return t.hours(0).seconds(0).minutes(0)},hour:function e(t){return t.seconds(0).minutes(0)},minute:function e(t){return t.seconds(0)}};if(n.prop("disabled")||!u.ignoreReadonly&&n.prop("readonly")||p){return h}if(n.val()!==undefined&&n.val().trim().length!==0){Z(te(n.val().trim()))}else if(l&&u.useCurrent&&(u.inline||n.is("input")&&n.val().trim().length===0)){t=C();if(typeof u.useCurrent==="string"){t=i[u.useCurrent](t)}Z(t)}p=O();H();W();p.find(".timepicker-hours").hide();p.find(".timepicker-minutes").hide();p.find(".timepicker-seconds").hide();X();M();pe(window).on("resize",N);p.on("click","[data-action]",ne);p.on("mousedown",false);if(o&&o.hasClass("btn")){o.toggleClass("active")}N();p.show();if(u.focusOnShow&&!n.is(":focus")){n.focus()}L({type:"dp.show"});return h},se=function e(){return p?J():ae()},re=function e(t){var i=null,n,a,s=[],r={},o=t.which,l,d,c="p";_[o]=c;for(n in _){if(_.hasOwnProperty(n)&&_[n]===c){s.push(n);if(parseInt(n,10)!==o){r[n]=true}}}for(n in u.keyBinds){if(u.keyBinds.hasOwnProperty(n)&&typeof u.keyBinds[n]==="function"){l=n.split(" ");if(l.length===s.length&&y[o]===l[l.length-1]){d=true;for(a=l.length-2;a>=0;a--){if(!(y[l[a]]in r)){d=false;break}}if(d){i=u.keyBinds[n];break}}}}if(i){i.call(h,p);t.stopPropagation();t.preventDefault()}},oe=function e(t){_[t.which]="r";t.stopPropagation();t.preventDefault()},le=function e(t){var i=pe(t.target).val().trim(),n=i?te(i):null;Z(n);t.stopImmediatePropagation();return false},de=function e(){n.on({change:le,blur:u.debug?"":J,keydown:re,keyup:oe,focus:u.allowInputToggle?ae:""});if(r.is("input")){n.on({focus:ae})}else if(o){o.on("click",se);o.on("mousedown",false)}},ce=function e(){n.off({change:le,blur:blur,keydown:re,keyup:oe,focus:u.allowInputToggle?J:""});if(r.is("input")){n.off({focus:ae})}else if(o){o.off("click",se);o.off("mousedown",false)}},ue=function e(t){var i={};pe.each(t,function(){var e=te(this);if(e.isValid()){i[e.format("YYYY-MM-DD")]=true}});return Object.keys(i).length?i:false},he=function e(t){var i={};pe.each(t,function(){i[this]=true});return Object.keys(i).length?i:false},fe=function e(){var t=u.format||"L LT";s=t.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(e){var t=c.localeData().longDateFormat(e)||e;return t.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(e){return c.localeData().longDateFormat(e)||e})});m=u.extraFormats?u.extraFormats.slice():[];if(m.indexOf(t)<0&&m.indexOf(s)<0){m.push(s)}d=s.toLowerCase().indexOf("a")<1&&s.replace(/\[.*?\]/g,"").indexOf("h")<1;if(I("y")){a=2}if(I("M")){a=1}if(I("d")){a=0}g=Math.max(a,g);if(!l){Z(c)}};if(h.destroy=function(){J();ce();r.removeData("DateTimePicker");r.removeData("date")},h.toggle=se,h.show=ae,h.hide=J,h.disable=function(){J();if(o&&o.hasClass("btn")){o.addClass("disabled")}n.prop("disabled",true);return h},h.enable=function(){if(o&&o.hasClass("btn")){o.removeClass("disabled")}n.prop("disabled",false);return h},h.ignoreReadonly=function(e){if(arguments.length===0){return u.ignoreReadonly}if(typeof e!=="boolean"){throw new TypeError("ignoreReadonly () expects a boolean parameter")}u.ignoreReadonly=e;return h},h.options=function(e){if(arguments.length===0){return pe.extend(true,{},u)}if(!(e instanceof Object)){throw new TypeError("options() options parameter should be an object")}pe.extend(true,u,e);pe.each(u,function(e,t){if(h[e]!==undefined){h[e](t)}else{throw new TypeError("option "+e+" is not recognized!")}});return h},h.date=function(e){if(arguments.length===0){if(l){return null}return c.clone()}if(e!==null&&typeof e!=="string"&&!me.isMoment(e)&&!(e instanceof Date)){throw new TypeError("date() parameter must be one of [null, string, moment or Date]")}Z(e===null?null:te(e));return h},h.format=function(e){if(arguments.length===0){return u.format}if(typeof e!=="string"&&(typeof e!=="boolean"||e!==false)){throw new TypeError("format() expects a string or boolean:false parameter "+e)}u.format=e;if(s){fe()}return h},h.timeZone=function(e){if(arguments.length===0){return u.timeZone}if(typeof e!=="string"){throw new TypeError("newZone() expects a string parameter")}u.timeZone=e;return h},h.dayViewHeaderFormat=function(e){if(arguments.length===0){return u.dayViewHeaderFormat}if(typeof e!=="string"){throw new TypeError("dayViewHeaderFormat() expects a string parameter")}u.dayViewHeaderFormat=e;return h},h.extraFormats=function(e){if(arguments.length===0){return u.extraFormats}if(e!==false&&!(e instanceof Array)){throw new TypeError("extraFormats() expects an array or false parameter")}u.extraFormats=e;if(m){fe()}return h},h.disabledDates=function(e){if(arguments.length===0){return u.disabledDates?pe.extend({},u.disabledDates):u.disabledDates}if(!e){u.disabledDates=false;X();return h}if(!(e instanceof Array)){throw new TypeError("disabledDates() expects an array parameter")}u.disabledDates=ue(e);u.enabledDates=false;X();return h},h.enabledDates=function(e){if(arguments.length===0){return u.enabledDates?pe.extend({},u.enabledDates):u.enabledDates}if(!e){u.enabledDates=false;X();return h}if(!(e instanceof Array)){throw new TypeError("enabledDates() expects an array parameter")}u.enabledDates=ue(e);u.disabledDates=false;X();return h},h.daysOfWeekDisabled=function(e){if(arguments.length===0){return u.daysOfWeekDisabled.splice(0)}if(typeof e==="boolean"&&!e){u.daysOfWeekDisabled=false;X();return h}if(!(e instanceof Array)){throw new TypeError("daysOfWeekDisabled() expects an array parameter")}u.daysOfWeekDisabled=e.reduce(function(e,t){t=parseInt(t,10);if(t>6||t<0||isNaN(t)){return e}if(e.indexOf(t)===-1){e.push(t)}return e},[]).sort();if(u.useCurrent&&!u.keepInvalid){var t=0;while(!F(c,"d")){c.add(1,"d");if(t===31){throw"Tried 31 times to find a valid date"}t++}Z(c)}X();return h},h.maxDate=function(e){if(arguments.length===0){return u.maxDate?u.maxDate.clone():u.maxDate}if(typeof e==="boolean"&&e===false){u.maxDate=false;X();return h}if(typeof e==="string"){if(e==="now"||e==="moment"){e=C()}}var t=te(e);if(!t.isValid()){throw new TypeError("maxDate() Could not parse date parameter: "+e)}if(u.minDate&&t.isBefore(u.minDate)){throw new TypeError("maxDate() date parameter is before options.minDate: "+t.format(s))}u.maxDate=t;if(u.useCurrent&&!u.keepInvalid&&c.isAfter(e)){Z(u.maxDate)}if(f.isAfter(t)){f=t.clone().subtract(u.stepping,"m")}X();return h},h.minDate=function(e){if(arguments.length===0){return u.minDate?u.minDate.clone():u.minDate}if(typeof e==="boolean"&&e===false){u.minDate=false;X();return h}if(typeof e==="string"){if(e==="now"||e==="moment"){e=C()}}var t=te(e);if(!t.isValid()){throw new TypeError("minDate() Could not parse date parameter: "+e)}if(u.maxDate&&t.isAfter(u.maxDate)){throw new TypeError("minDate() date parameter is after options.maxDate: "+t.format(s))}u.minDate=t;if(u.useCurrent&&!u.keepInvalid&&c.isBefore(e)){Z(u.minDate)}if(f.isBefore(t)){f=t.clone().add(u.stepping,"m")}X();return h},h.defaultDate=function(e){if(arguments.length===0){return u.defaultDate?u.defaultDate.clone():u.defaultDate}if(!e){u.defaultDate=false;return h}if(typeof e==="string"){if(e==="now"||e==="moment"){e=C()}else{e=C(e)}}var t=te(e);if(!t.isValid()){throw new TypeError("defaultDate() Could not parse date parameter: "+e)}if(!F(t)){throw new TypeError("defaultDate() date passed is invalid according to component setup validations")}u.defaultDate=t;if(u.defaultDate&&u.inline||n.val().trim()===""){Z(u.defaultDate)}return h},h.locale=function(e){if(arguments.length===0){return u.locale}if(!me.localeData(e)){throw new TypeError("locale() locale "+e+" is not loaded from moment locales!")}u.locale=e;c.locale(u.locale);f.locale(u.locale);if(s){fe()}if(p){J();ae()}return h},h.stepping=function(e){if(arguments.length===0){return u.stepping}e=parseInt(e,10);if(isNaN(e)||e<1){e=1}u.stepping=e;return h},h.useCurrent=function(e){var t=["year","month","day","hour","minute"];if(arguments.length===0){return u.useCurrent}if(typeof e!=="boolean"&&typeof e!=="string"){throw new TypeError("useCurrent() expects a boolean or string parameter")}if(typeof e==="string"&&t.indexOf(e.toLowerCase())===-1){throw new TypeError("useCurrent() expects a string parameter of "+t.join(", "))}u.useCurrent=e;return h},h.collapse=function(e){if(arguments.length===0){return u.collapse}if(typeof e!=="boolean"){throw new TypeError("collapse() expects a boolean parameter")}if(u.collapse===e){return h}u.collapse=e;if(p){J();ae()}return h},h.icons=function(e){if(arguments.length===0){return pe.extend({},u.icons)}if(!(e instanceof Object)){throw new TypeError("icons() expects parameter to be an Object")}pe.extend(u.icons,e);if(p){J();ae()}return h},h.tooltips=function(e){if(arguments.length===0){return pe.extend({},u.tooltips)}if(!(e instanceof Object)){throw new TypeError("tooltips() expects parameter to be an Object")}pe.extend(u.tooltips,e);if(p){J();ae()}return h},h.useStrict=function(e){if(arguments.length===0){return u.useStrict}if(typeof e!=="boolean"){throw new TypeError("useStrict() expects a boolean parameter")}u.useStrict=e;return h},h.sideBySide=function(e){if(arguments.length===0){return u.sideBySide}if(typeof e!=="boolean"){throw new TypeError("sideBySide() expects a boolean parameter")}u.sideBySide=e;if(p){J();ae()}return h},h.viewMode=function(e){if(arguments.length===0){return u.viewMode}if(typeof e!=="string"){throw new TypeError("viewMode() expects a string parameter")}if(t.indexOf(e)===-1){throw new TypeError("viewMode() parameter must be one of ("+t.join(", ")+") value")}u.viewMode=e;g=Math.max(t.indexOf(e),a);M();return h},h.toolbarPlacement=function(e){if(arguments.length===0){return u.toolbarPlacement}if(typeof e!=="string"){throw new TypeError("toolbarPlacement() expects a string parameter")}if(b.indexOf(e)===-1){throw new TypeError("toolbarPlacement() parameter must be one of ("+b.join(", ")+") value")}u.toolbarPlacement=e;if(p){J();ae()}return h},h.widgetPositioning=function(e){if(arguments.length===0){return pe.extend({},u.widgetPositioning)}if({}.toString.call(e)!=="[object Object]"){throw new TypeError("widgetPositioning() expects an object variable")}if(e.horizontal){if(typeof e.horizontal!=="string"){throw new TypeError("widgetPositioning() horizontal variable must be a string")}e.horizontal=e.horizontal.toLowerCase();if(w.indexOf(e.horizontal)===-1){throw new TypeError("widgetPositioning() expects horizontal parameter to be one of ("+w.join(", ")+")")}u.widgetPositioning.horizontal=e.horizontal}if(e.vertical){if(typeof e.vertical!=="string"){throw new TypeError("widgetPositioning() vertical variable must be a string")}e.vertical=e.vertical.toLowerCase();if(v.indexOf(e.vertical)===-1){throw new TypeError("widgetPositioning() expects vertical parameter to be one of ("+v.join(", ")+")")}u.widgetPositioning.vertical=e.vertical}X();return h},h.calendarWeeks=function(e){if(arguments.length===0){return u.calendarWeeks}if(typeof e!=="boolean"){throw new TypeError("calendarWeeks() expects parameter to be a boolean value")}u.calendarWeeks=e;X();return h},h.showTodayButton=function(e){if(arguments.length===0){return u.showTodayButton}if(typeof e!=="boolean"){throw new TypeError("showTodayButton() expects a boolean parameter")}u.showTodayButton=e;if(p){J();ae()}return h},h.showClear=function(e){if(arguments.length===0){return u.showClear}if(typeof e!=="boolean"){throw new TypeError("showClear() expects a boolean parameter")}u.showClear=e;if(p){J();ae()}return h},h.widgetParent=function(e){if(arguments.length===0){return u.widgetParent}if(typeof e==="string"){e=pe(e)}if(e!==null&&typeof e!=="string"&&!(e instanceof pe)){throw new TypeError("widgetParent() expects a string or a jQuery object parameter")}u.widgetParent=e;if(p){J();ae()}return h},h.keepOpen=function(e){if(arguments.length===0){return u.keepOpen}if(typeof e!=="boolean"){throw new TypeError("keepOpen() expects a boolean parameter")}u.keepOpen=e;return h},h.focusOnShow=function(e){if(arguments.length===0){return u.focusOnShow}if(typeof e!=="boolean"){throw new TypeError("focusOnShow() expects a boolean parameter")}u.focusOnShow=e;return h},h.inline=function(e){if(arguments.length===0){return u.inline}if(typeof e!=="boolean"){throw new TypeError("inline() expects a boolean parameter")}u.inline=e;return h},h.clear=function(){ee();return h},h.keyBinds=function(e){if(arguments.length===0){return u.keyBinds}u.keyBinds=e;return h},h.getMoment=function(e){return C(e)},h.debug=function(e){if(typeof e!=="boolean"){throw new TypeError("debug() expects a boolean parameter")}u.debug=e;return h},h.allowInputToggle=function(e){if(arguments.length===0){return u.allowInputToggle}if(typeof e!=="boolean"){throw new TypeError("allowInputToggle() expects a boolean parameter")}u.allowInputToggle=e;return h},h.showClose=function(e){if(arguments.length===0){return u.showClose}if(typeof e!=="boolean"){throw new TypeError("showClose() expects a boolean parameter")}u.showClose=e;return h},h.keepInvalid=function(e){if(arguments.length===0){return u.keepInvalid}if(typeof e!=="boolean"){throw new TypeError("keepInvalid() expects a boolean parameter")}u.keepInvalid=e;return h},h.datepickerInput=function(e){if(arguments.length===0){return u.datepickerInput}if(typeof e!=="string"){throw new TypeError("datepickerInput() expects a string parameter")}u.datepickerInput=e;return h},h.parseInputDate=function(e){if(arguments.length===0){return u.parseInputDate}if(typeof e!=="function"){throw new TypeError("parseInputDate() sholud be as function")}u.parseInputDate=e;return h},h.disabledTimeIntervals=function(e){if(arguments.length===0){return u.disabledTimeIntervals?pe.extend({},u.disabledTimeIntervals):u.disabledTimeIntervals}if(!e){u.disabledTimeIntervals=false;X();return h}if(!(e instanceof Array)){throw new TypeError("disabledTimeIntervals() expects an array parameter")}u.disabledTimeIntervals=e;X();return h},h.disabledHours=function(e){if(arguments.length===0){return u.disabledHours?pe.extend({},u.disabledHours):u.disabledHours}if(!e){u.disabledHours=false;X();return h}if(!(e instanceof Array)){throw new TypeError("disabledHours() expects an array parameter")}u.disabledHours=he(e);u.enabledHours=false;if(u.useCurrent&&!u.keepInvalid){var t=0;while(!F(c,"h")){c.add(1,"h");if(t===24){throw"Tried 24 times to find a valid date"}t++}Z(c)}X();return h},h.enabledHours=function(e){if(arguments.length===0){return u.enabledHours?pe.extend({},u.enabledHours):u.enabledHours}if(!e){u.enabledHours=false;X();return h}if(!(e instanceof Array)){throw new TypeError("enabledHours() expects an array parameter")}u.enabledHours=he(e);u.disabledHours=false;if(u.useCurrent&&!u.keepInvalid){var t=0;while(!F(c,"h")){c.add(1,"h");if(t===24){throw"Tried 24 times to find a valid date"}t++}Z(c)}X();return h},h.viewDate=function(e){if(arguments.length===0){return f.clone()}if(!e){f=c.clone();return h}if(typeof e!=="string"&&!me.isMoment(e)&&!(e instanceof Date)){throw new TypeError("viewDate() parameter must be one of [string, moment or Date]")}f=te(e);P();return h},r.is("input")){n=r}else{n=r.find(u.datepickerInput);if(n.length===0){n=r.find("input")}else if(!n.is("input")){throw new Error('CSS class "'+u.datepickerInput+'" cannot be applied to non input element')}}if(r.hasClass("input-group")){if(r.find(".datepickerbutton").length===0){o=r.find(".input-group-append")}else{o=r.find(".datepickerbutton")}}if(!u.inline&&!n.is("input")){throw new Error("Could not initialize DateTimePicker without an input element")}if(c=C(),f=c.clone(),pe.extend(true,u,e()),h.options(u),fe(),de(),n.prop("disabled")){h.disable()}if(n.is("input")&&n.val().trim().length!==0){Z(te(n.val().trim()))}else if(u.defaultDate&&n.attr("placeholder")===undefined){Z(u.defaultDate)}if(u.inline){ae()}return h}(t,e)))});if("string"==typeof i)return this.each(function(){var e=pe(this).data("DateTimePicker");if(!e)throw new Error('bootstrap-datetimepicker("'+i+'") method was called on an element that is not using DateTimePicker');t=e[i].apply(e,n),a=t===e}),a||-1<pe.inArray(i,["destroy","hide","show","toggle"])?this:t;throw new TypeError("Invalid arguments for DateTimePicker: "+i)},pe.fn.datetimepicker.defaults={timeZone:"",format:!1,dayViewHeaderFormat:"MMMM YYYY",extraFormats:!1,stepping:1,minDate:!1,maxDate:!1,useCurrent:!0,collapse:!0,locale:me.locale(),defaultDate:!1,disabledDates:!1,enabledDates:!1,icons:{time:"far fa-clock",date:"far fa-calendar",up:"fas fa-arrow-up",down:"fas fa-arrow-down",previous:"fas fa-chevron-left",next:"fas fa-chevron-right",today:"fas fa-calendar-check",clear:"far fa-trash-alt",close:"far fa-times-circle"},tooltips:{today:"Go to today",clear:"Clear selection",close:"Close the picker",selectMonth:"Select Month",prevMonth:"Previous Month",nextMonth:"Next Month",selectYear:"Select Year",prevYear:"Previous Year",nextYear:"Next Year",selectDecade:"Select Decade",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevCentury:"Previous Century",nextCentury:"Next Century",pickHour:"Pick Hour",incrementHour:"Increment Hour",decrementHour:"Decrement Hour",pickMinute:"Pick Minute",incrementMinute:"Increment Minute",decrementMinute:"Decrement Minute",pickSecond:"Pick Second",incrementSecond:"Increment Second",decrementSecond:"Decrement Second",togglePeriod:"Toggle Period",selectTime:"Select Time"},useStrict:!1,sideBySide:!1,daysOfWeekDisabled:!1,calendarWeeks:!1,viewMode:"days",toolbarPlacement:"default",showTodayButton:!1,showClear:!1,showClose:!1,widgetPositioning:{horizontal:"auto",vertical:"auto"},widgetParent:null,ignoreReadonly:!1,keepOpen:!1,focusOnShow:!0,inline:!1,keepInvalid:!1,datepickerInput:".datepickerinput",keyBinds:{up:function(e){var t;e&&(t=this.date()||this.getMoment(),e.find(".datepicker").is(":visible")?this.date(t.clone().subtract(7,"d")):this.date(t.clone().add(this.stepping(),"m")))},down:function(e){var t;e?(t=this.date()||this.getMoment(),e.find(".datepicker").is(":visible")?this.date(t.clone().add(7,"d")):this.date(t.clone().subtract(this.stepping(),"m"))):this.show()},"control up":function(e){var t;e&&(t=this.date()||this.getMoment(),e.find(".datepicker").is(":visible")?this.date(t.clone().subtract(1,"y")):this.date(t.clone().add(1,"h")))},"control down":function(e){var t;e&&(t=this.date()||this.getMoment(),e.find(".datepicker").is(":visible")?this.date(t.clone().add(1,"y")):this.date(t.clone().subtract(1,"h")))},left:function(e){var t;e&&(t=this.date()||this.getMoment(),e.find(".datepicker").is(":visible")&&this.date(t.clone().subtract(1,"d")))},right:function(e){var t;e&&(t=this.date()||this.getMoment(),e.find(".datepicker").is(":visible")&&this.date(t.clone().add(1,"d")))},pageUp:function(e){var t;e&&(t=this.date()||this.getMoment(),e.find(".datepicker").is(":visible")&&this.date(t.clone().subtract(1,"M")))},pageDown:function(e){var t;e&&(t=this.date()||this.getMoment(),e.find(".datepicker").is(":visible")&&this.date(t.clone().add(1,"M")))},enter:function(){this.hide()},escape:function(){this.hide()},"control space":function(e){e&&e.find(".timepicker").is(":visible")&&e.find('.btn[data-action="togglePeriod"]').click()},t:function(){this.date(this.getMoment())},delete:function(){this.clear()}},debug:!1,allowInputToggle:!1,disabledTimeIntervals:!1,disabledHours:!1,enabledHours:!1,viewDate:!1},pe.fn.datetimepicker}(f,moment);var P=f.fn.datetimepicker,M={button:{type:"light",label:"Cancel",dismiss:!1,focus:!1}},H=function(){function a(e){this._confirmed=!1,this._options=e,this._makeModal(),this._showModal()}var e=a.prototype;return e._btnOptions=function(e){var t,i=M.button;for(t in i)"undefined"==typeof e[t]&&(e[t]=i[t]);return e},e._getInputValue=function(){if(this._options.input)return this._options.val?this._options.val.call(this,this._input):f(this._input).val()},e._makeInput=function(){var e="",t=this._options.input;switch(t.type){case"textarea":e='<textarea class="form-control bs-dialog-input" id="bs-dialog-input" rows="3" placeholder="'+t.label+'"></textarea>';break;case"select":var i,n="";for(i in t)n+='<option value="'+i+'">'+t[i]+"</option>";e='<select class="custom-select my-1 mr-sm-2" id="bs-dialog-input">'+n+"</select>";break;default:e='<input type="'+t.type+'" class="form-control bs-dialog-input" id="bs-dialog-input" placeholder="'+t.label+'">'}var a='\n            <div class="form-group">\n                <label for="bs-dialog-input">'+t.label+"</label>\n            </div>";return this._input=f(e).get(0),f(a).append(this._input)},e._makeModal=function(){var n=this,e="";this._options.title&&(e='\n                <div class="modal-header">\n                    <h5 class="modal-title">'+this._options.title+'</h5>\n                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n                        <span aria-hidden="true">&times;</span>\n                    </button>\n                </div>');var t="";this._options.message&&(t="<p>"+this._options.message+"</p>");var a="";this._options.buttons.forEach(function(e){var t=(e=n._btnOptions(e)).dismiss?' data-dismiss="modal"':' data-confirm="true"',i=e.focus?" btn-focus-first":"";a+='<button type="button" class="btn btn-'+e.type+i+'"'+t+">"+e.label+"</button>"});var i,s='\n            <div class="modal fade" tabindex="-1" role="dialog">\n                <div class="modal-dialog" role="document">\n                    <div class="modal-content">\n                        '+e+'\n                        <div class="modal-body">\n                            '+t+'\n                        </div>\n                        <div class="modal-footer">\n                            '+a+"\n                        </div>\n                    </div>\n                </div>\n            </div>";this._modal=f(s).appendTo(document.body),this._options.input&&(i=this._makeInput(),f(this._modal).find(".modal-body").append(i)),f(this._modal).on("click","[data-confirm]",function(e){n._confirmed=!0,f(n._modal).modal("hide")}),f(this._modal).on("hidden.bs.modal",function(e){var t;setTimeout(function(e){return f(n._modal).remove()},1e3),n._options.callback&&(t=n._confirmed,n._confirmed&&n._options.input&&(t=n._getInputValue()),n._options.callback.call(n,t))}),f(this._modal).on("shown.bs.modal",function(e){n._input?f(n._input).focus():f(n._modal).find(".btn-focus-first").focus()})},e._showModal=function(){f(this._modal).modal("show")},a.alert=function(e,t,i){new a({title:e,message:t,callback:i,input:null,buttons:[{type:"primary",focus:!0,label:"Ok"}]})},a.confirm=function(e,t,i){new a({title:e,message:t,callback:i,input:null,buttons:[{type:"light",label:"Cancel",dismiss:!0},{type:"primary",focus:!0,label:"Ok"}]})},a.prompt=function(e,t,i,n){new a({title:e,message:t,callback:n,input:i,buttons:[{type:"light",label:"Cancel",dismiss:!0},{type:"primary",focus:!0,label:"Ok"}]})},s(a,null,[{key:"VERSION",get:function(){return"0.0.1"}},{key:"Default",get:function(){return M}}]),a}();f.dialog=H;var R="drawer",z="bs.drawer",j="."+z,F=f.fn[R],W={backdrop:!0,keyboard:!0,focus:!0,show:!0},U={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},B={HIDE:"hide"+j,HIDDEN:"hidden"+j,SHOW:"show"+j,SHOWN:"shown"+j,FOCUSIN:"focusin"+j,RESIZE:"resize"+j,CLICK_DISMISS:"click.dismiss"+j,KEYDOWN_DISMISS:"keydown.dismiss"+j,MOUSEUP_DISMISS:"mouseup.dismiss"+j,MOUSEDOWN_DISMISS:"mousedown.dismiss"+j,CLICK_DATA_API:"click"+j+".data-api"},q="drawer-content-scrollable",Y="drawer-scrollbar-measure",V="drawer-backdrop",K="slide",Q="fade",G="show",X="drawer-open",Z=".drawer-content",J=".drawer-body",ee='[data-toggle="drawer"]',te='[data-dismiss="drawer"]',ie=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",ne=".sticky-top",ae=function(){function a(e,t){this._config=this._getConfig(t),this._element=e,this._content=e.querySelector(Z),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollbarWidth=0}var e=a.prototype;return e.toggle=function(e){return this._isShown?this.hide():this.show(e)},e.show=function(e){var t,i=this;this._isShown||this._isTransitioning||(f(this._element).hasClass(K)&&(this._isTransitioning=!0),t=f.Event(B.SHOW,{relatedTarget:e}),f(this._element).trigger(t),this._isShown||t.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._setEscapeEvent(),f(this._element).on(B.CLICK_DISMISS,te,function(e){return i.hide(e)}),f(this._content).on(B.MOUSEDOWN_DISMISS,function(){f(i._element).one(B.MOUSEUP_DISMISS,function(e){f(e.target).is(i._element)&&(i._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return i._showElement(e)})))},e.hide=function(e){var t,i,n,a=this;e&&e.preventDefault(),this._isShown&&!this._isTransitioning&&(t=f.Event(B.HIDE),f(this._element).trigger(t),this._isShown&&!t.isDefaultPrevented()&&(this._isShown=!1,(i=f(this._element).hasClass(K))&&(this._isTransitioning=!0),this._setEscapeEvent(),f(document).off(B.FOCUSIN),f(this._element).removeClass(G),f(this._element).off(B.CLICK_DISMISS),f(this._content).off(B.MOUSEDOWN_DISMISS),i?(n=l.getTransitionDurationFromElement(this._element),f(this._element).one(l.TRANSITION_END,function(e){return a._hideDrawer(e)}).emulateTransitionEnd(n)):this._hideDrawer()))},e.dispose=function(){[window,this._element,this._content].forEach(function(e){return f(e).off(j)}),f(document).off(B.FOCUSIN),f.removeData(this._element,z),this._config=null,this._element=null,this._content=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._isTransitioning=null,this._scrollbarWidth=null},e._getConfig=function(e){return e=r({},W,e),l.typeCheckConfig(R,e,U),e},e._showElement=function(e){var t=this,i=f(this._element).hasClass(K);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),f(this._content).hasClass(q)?(this._content.querySelector(J)||{}).scrollTop=0:this._element.scrollTop=0,i&&l.reflow(this._element),f(this._element).addClass(G),this._config.focus&&this._enforceFocus();function n(){t._config.focus&&t._element.focus(),t._isTransitioning=!1,f(t._element).trigger(s)}var a,s=f.Event(B.SHOWN,{relatedTarget:e});i?(a=l.getTransitionDurationFromElement(this._element),f(this._element).one(l.TRANSITION_END,n).emulateTransitionEnd(a)):n()},e._enforceFocus=function(){var t=this;f(document).off(B.FOCUSIN).on(B.FOCUSIN,function(e){document!==e.target&&t._element!==e.target&&0===f(t._element).has(e.target).length&&t._element.focus()})},e._setEscapeEvent=function(){var t=this;this._isShown&&this._config.keyboard?f(document.body).on(B.KEYDOWN_DISMISS,function(e){27===e.which&&(e.preventDefault(),t.hide())}):this._isShown||f(document.body).off(B.KEYDOWN_DISMISS)},e._hideDrawer=function(){var e=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._isTransitioning=!1,this._showBackdrop(function(){f(document.body).removeClass(X),e._resetAdjustments(),e._resetScrollbar(),f(e._element).trigger(B.HIDDEN)})},e._removeBackdrop=function(){this._backdrop&&(f(this._backdrop).remove(),this._backdrop=null)},e._showBackdrop=function(e){var t,i,n=this,a=f(this._element).hasClass(K)?Q:"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className=V,a&&this._backdrop.classList.add(a),f(this._backdrop).appendTo(document.body),f(this._backdrop).on(B.CLICK_DISMISS,function(e){n._ignoreBackdropClick?n._ignoreBackdropClick=!1:e.target===e.currentTarget&&("static"===n._config.backdrop?n._element.focus():n.hide())}),a&&l.reflow(this._backdrop),f(this._backdrop).addClass(G),!e)return;if(!a)return e();var s=l.getTransitionDurationFromElement(this._backdrop);f(this._backdrop).one(l.TRANSITION_END,e).emulateTransitionEnd(s)}else{!this._isShown&&this._backdrop?(f(this._backdrop).removeClass(G),t=function(){n._removeBackdrop(),e&&e()},f(this._element).hasClass(K)?(i=l.getTransitionDurationFromElement(this._backdrop),f(this._backdrop).one(l.TRANSITION_END,t).emulateTransitionEnd(i)):t()):e&&e()}},e._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},e._checkScrollbar=function(){var e=document.body.getBoundingClientRect();this._isBodyOverflowing=e.left+e.right<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},e._setScrollbar=function(){var e,t,i,n,a=this;this._isBodyOverflowing&&(e=[].slice.call(document.querySelectorAll(ie)),t=[].slice.call(document.querySelectorAll(ne)),f(e).each(function(e,t){var i=t.style.paddingRight,n=f(t).css("padding-right");f(t).data("padding-right",i).css("padding-right",parseFloat(n)+a._scrollbarWidth+"px")}),f(t).each(function(e,t){var i=t.style.marginRight,n=f(t).css("margin-right");f(t).data("margin-right",i).css("margin-right",parseFloat(n)-a._scrollbarWidth+"px")}),i=document.body.style.paddingRight,n=f(document.body).css("padding-right"),f(document.body).data("padding-right",i).css("padding-right",parseFloat(n)+this._scrollbarWidth+"px")),f(document.body).addClass(X)},e._resetScrollbar=function(){var e=[].slice.call(document.querySelectorAll(ie));f(e).each(function(e,t){var i=f(t).data("padding-right");f(t).removeData("padding-right"),t.style.paddingRight=i||""});var t=[].slice.call(document.querySelectorAll(""+ne));f(t).each(function(e,t){var i=f(t).data("margin-right");"undefined"!=typeof i&&f(t).css("margin-right",i).removeData("margin-right")});var i=f(document.body).data("padding-right");f(document.body).removeData("padding-right"),document.body.style.paddingRight=i||""},e._getScrollbarWidth=function(){var e=document.createElement("div");e.className=Y,document.body.appendChild(e);var t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t},a._jQueryInterface=function(i,n){return this.each(function(){var e=f(this).data(z),t=r({},W,f(this).data(),"object"==typeof i&&i?i:{});if(e||(e=new a(this,t),f(this).data(z,e)),"string"==typeof i){if("undefined"==typeof e[i])throw new TypeError('No method named "'+i+'"');e[i](n)}else t.show&&e.show(n)})},s(a,null,[{key:"VERSION",get:function(){return"0.0.1"}},{key:"Default",get:function(){return W}}]),a}();f(document).on(B.CLICK_DATA_API,ee,function(e){var t,i=this,n=l.getSelectorFromElement(this);n&&(t=document.querySelector(n));var a=f(t).data(z)?"toggle":r({},f(t).data(),f(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||e.preventDefault();var s=f(t).one(B.SHOW,function(e){e.isDefaultPrevented()||s.one(B.HIDDEN,function(){f(i).is(":visible")&&i.focus()})});ae._jQueryInterface.call(f(t),a,this)}),f.fn[R]=ae._jQueryInterface,f.fn[R].Constructor=ae;var se={multiple:!(f.fn[R].noConflict=function(){return f.fn[R]=F,ae._jQueryInterface}),type:"*/*",btnUpload:"Upload",thumbnails:null,search:null,upload:null,selected:null},re=function(){function e(e){this._config=this._getConfig(e),this._el={},this._files=[],this._items=[],this._paths=[],this._query="",this._uploader=0,this._timer=null,this._makeDrawer(),this._addElementsListener(),f(this._el.drawer).drawer("show")}var t=e.prototype;return t._addElementsListener=function(){var s=this;f(this._el.drawer).on("show.bs.drawer",function(e){s._footerHide()}),f(this._el.drawer).on("shown.bs.drawer",function(e){var t,i;s._el.dhSearchInput&&(t=s._el.dhSearchInput.offsetWidth,i=parseFloat(f(s._el.dhSearchInput).css("padding-left")),s._el.dhSearchSpinner.style.left=t-2.5*i+"px",s._spinnerHide(),s._el.dhSearchInput.focus()),s._searchQuery("")}),f(this._el.drawer).on("hide.bs.drawer",function(e){s._uploader&&e.preventDefault()}),f(this._el.drawer).on("hidden.bs.drawer",function(e){f(s._el.drawer).remove()}),this._el.dhSearchInput&&f(this._el.dhSearchInput).on("input",function(e){s._timer&&clearTimeout(s._timer),s._query=s._el.dhSearchInput.value,s._timer=setTimeout(function(e){return s._searchQuery(e)},500,s._query)}),f(this._el.drawerBody).on("click",".filepicker-item-selectable",function(e){var t=e.currentTarget;s._config.multiple||f(s._el.drawerBody).children(".filepicker-item-active").removeClass("filepicker-item-active");var i=f(t).data("filepicker.item").path;t.classList.toggle("filepicker-item-active")?s._paths.push(i):s._paths.splice(s._paths.indexOf(i),1),s._footerUpdate()}),f(this._el.drawerBody).on("click",".filepicker-item-error",function(e){var t=e.currentTarget;t.style.opacity=0,setTimeout(function(e){return f(e).remove()},300,t)}),f(this._el.dfBtnSelect).click(function(e){var i=[];f(s._el.drawerBody).children(".filepicker-item-active").each(function(e,t){return i.push(f(t).data("filepicker.item"))}),s._config.selected&&s._config.selected.call(s,i),f(s._el.drawer).drawer("hide")}),this._el.dhUploadInput&&f(this._el.dhUploadInput).on("change",function(e){var a=s._el.dhUploadInput.files;if(a.length){s._clearResult();for(var t=0;t<a.length;t++)!function(e){var t=a[e],i=s._renderItem(t,!0,null,!1,!1),n=f(i).find(".progress-bar").get(0);s._uploader++,s._footerUpdate(),s._config.upload.call(s,t,n,function(e){var t;s._uploader--,"string"==typeof e?(e=s._hs(e),f(n).parent().replaceWith('<small class="text-danger">'+e+"</small>"),i.classList.add("filepicker-item-error")):(t=s._renderItem(e,!1,i,!1,!0))?t.click():f(i).remove(),s._footerUpdate()})}(t);s._el.dhUploadForm.reset()}})},t._clearResult=function(){f(this._el.drawerBody).find(".filepicker-item-clearable").not(".filepicker-item-active").each(function(e,t){return f(t).remove()}),this._footerUpdate()},t._getConfig=function(e){var t,i={};for(t in se)i[t]="undefined"==typeof e[t]?se[t]:e[t];return i},t._hs=function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")},t._makeDrawer=function(){var e,n=this,t="",i=this._config.multiple?" multiple":"";this._config.search?(e="",this._config.upload&&(e='\n                    <form class="input-group-append" data-el="dh-upload-form">\n                        <label class="btn btn-outline-secondary" data-el="dh-upload-label">\n                            <input type="file" accept="'+this._config.type+'" data-el="dh-upload-input"'+i+">\n                        </label>\n                    </form>"),t='\n                <div class="form-group">\n                    <div class="input-group">\n                        <input type="search" class="form-control" placeholder="Search" aria-label="Search" data-el="dh-search-input">\n                        '+e+'\n                    </div>\n                    <div class="spinner-border spinner-border-sm text-secondary" role="status" data-el="dh-search-spinner"></div>\n                </div>'):this._config.upload&&(t='\n                <form data-el="dh-upload-form">\n                    <label class="btn btn-block btn-outline-primary" data-el="dh-upload-label">\n                        <input type="file" accept="'+this._config.type+'" data-el="dh-upload-input"'+i+">\n                    </label>\n                </form>");var a='\n            <div class="drawer slide drawer-right filepicker-container">\n                <div class="drawer-content drawer-content-scrollable">\n                    <div class="drawer-header">'+t+'</div>\n                    <div class="drawer-body" data-el="drawer-body"></div>\n                    <div class="drawer-footer" data-el="drawer-footer">\n                        <button class="btn btn-primary btn-block" data-el="df-btn-select">\n                            Select\n                        </button>\n                    </div>\n                </div>\n            </div>';this._el.drawer=f(a).appendTo(document.body).get(0),f(this._el.drawer).find("[data-el]").each(function(e,t){var i=t.dataset.el.replace(/\-[a-z]/g,function(e){return e[1].toUpperCase()});n._el[i]=t}),f(this._el.dhUploadLabel).append(this._config.btnUpload)},t._renderItem=function(e,t,i,n,a){if(void 0===t&&(t=!1),void 0===i&&(i=null),void 0===n&&(n=!0),void 0===a&&(a=!0),t||!this._paths.includes(e.path)){var s={name:this._hs(e.name),type:this._hs(e.type),thumb:e.thumb||this._config.thumbnails},r=" filepicker-item",o="";t&&(r+=" filepicker-item-uploader",o='\n                <div class="progress">\n                    <div class="progress-bar progress-bar-striped progress-bar-animated" style="width:0%"></div>\n                </div>'),n&&(r+=" filepicker-item-clearable"),a&&(r+=" filepicker-item-selectable");var l,d,c=f('\n            <div class="media'+r+'" title="'+s.name+'">\n                <img src="'+s.thumb+'" alt="#" width="48" height="48">\n                <div class="media-body">\n                    <h6>'+s.name+'</h6>\n                    <small class="text-muted">'+s.type+"</small>\n                    "+o+"\n                </div>\n            </div>").get(0);return t?(l=f(c).children("img").get(0),/image\//.test(s.type)&&((d=new FileReader).onload=function(e){return l.src=e.target.result},d.readAsDataURL(e))):f(c).data("filepicker.item",e),i?f(i).replaceWith(c):f(this._el.drawerBody).append(c),c}},t._searchQuery=function(t){var i=this;this._clearResult(),this._spinnerShow(),this._config.search&&this._config.search(t,this._config.type,function(e){t==i._query&&(i._spinnerHide(),e&&e.forEach(function(e){return i._renderItem(e)}))})},t._footerHide=function(){this._el.drawerFooter.style.display="none"},t._footerShow=function(){this._el.drawerFooter.style.display="flex"},t._footerUpdate=function(){if(this._uploader)return this._footerHide();f(this._el.drawerBody).children(".filepicker-item-active").length?this._footerShow():this._footerHide()},t._spinnerHide=function(){this._el.dhSearchSpinner&&(this._el.dhSearchSpinner.style.display="none")},t._spinnerShow=function(){this._el.dhSearchSpinner&&(this._el.dhSearchSpinner.style.display="block")},e}();window.FilePicker=re;var oe=function(){function e(e){if(this._queries=e.queries||{},this._fields=e.fields||{},this._files=e.files||{},this._headers=e.headers||{},this._url=e.url,this._response=null,this._xhr=null,this._chunks=null,!Object.keys(this._files).length)throw"No file provided";this._registerEvents(e),this._buildUrl(),this._parseChunkOption(e)}var t=e.prototype;return t.onChankUploaded=function(e,t,i,n){n(!0)},t.onComplete=function(){},t.onError=function(){},t.onProgress=function(){},t.onStart=function(){},t.onSuccess=function(){},t.getResponse=function(){return this._response},t.send=function(){var t=this;if(!this._chunks)return this._sendSingle();this._chunks.options.before(this,function(e){t._sendChunks()})},t.addField=function(e,t){this._fields[e]=t},t.addFile=function(e,t){this._files[e]=t},t.addHeader=function(e,t){this._headers[e]=t},t.addQuery=function(e,t){this._queries[e]=t},t.setUrl=function(e){this._url=e},t.getUrl=function(){return this._url},t.getField=function(e){return this._fields[e]},t.getFields=function(){return this._fields},t.getFile=function(e){return this._files[e]},t.getFiles=function(){return this._files},t.getHeader=function(e){return this._headers[e]},t.getHeaders=function(){return this._headers},t.getQuery=function(e){return this._queries[e]},t.getQueries=function(){return this._queries},t._buildUrl=function(){var e,t=[],i=this._url.includes("?")?"&":"?";for(e in this._queries)t.push(this._qs(e)+"="+this._qs(this._queries[e]));t.length&&(this._url+=i+t)},t._parseChunkOption=function(e){if(e.chunks){var t,i,n=null,a={},s=!1,r={chunkSize:2e5,minSize:5e5,after:function(e,t,i){i(t)},before:function(e,t){t(!0)},test:function(){return!0}};for(t in r)a[t]=e.chunks[t]||r[t];for(i in this._files){if(!((n=this._files[i]).size<a.minSize))if(a.test(this,n,a)){s=!0;break}}if(s&&1<Object.keys(this._files).length)throw"Multiple file is not supported for chunk upload";this._chunks={chunk:0,chunks:Math.ceil(n.size/a.chunkSize),options:a}}},t._qs=function(e){return encodeURIComponent(e)},t._registerEvents=function(t){var i=this;["onChankUploaded","onComplete","onError","onProgress","onSuccess","onStart"].forEach(function(e){t[e]&&(i[e]=t[e])})},t._sendSingle=function(){var i=this;this.onStart(this),this._upload(this._files,this._fields,function(e,t){return i.onProgress(i,100),i.onComplete(i,i._xhr),e?i.onError(i,i._xhr):void i.onSuccess(i,i._xhr,t)})},t._sendChunks=function(){var e,t,i,n=this;for(i in this._files)e=this._files[i],t=i;var a=this._chunks.chunk+1,s=this._chunks,r=s.options;s.chunk&&this.onStart(this);var o=s.chunk*r.chunkSize,l=o+r.chunkSize;l>e.size&&(l=e.size);var d,c=e.slice(o,l);if(!c.size){this.onComplete(this,this._xhr);try{d=JSON.parse(this._response)}catch(e){d=this._response}return this._chunks.options.after(this,d,function(e){n.onSuccess(n,n._xhr,e)})}var u=this._fields;u.chunk=this._chunks.chunk,u.chunks=this._chunks.chunks;var h=Math.round(a/this._chunks.chunks*100),f={};f[t]=c,this._chunks.chunk=a,this._upload(f,u,function(e,t){return n.onProgress(n,h),e?n.onError(n,n._xhr):void n.onChankUploaded(n,n._xhr,t,function(e){return!0===e?setTimeout(function(){return n._sendChunks()},100):n.onError(n,n._xhr)})})},t._upload=function(e,t,i){var n,a,s=this,r=new FormData,o=new XMLHttpRequest;for(n in this._xhr=o,t)r.append(n,t[n]);for(a in e)r.append(a,e[a],e[a].name);o.open("POST",this._url,!0),o.onreadystatechange=function(e){if(4==o.readyState){if(s._response=o.responseText,200!=o.status)return i(o.status,"Invalid server response");var t=null;try{t=JSON.parse(o.responseText)}catch(e){t=o.responseText}i(0,t)}},o.send(r)},e}();window.FileUploader=oe;var le="formerror",de="bs.formerror",ce="."+de,ue=".data-api",he=f.fn[le],fe={},pe={INPUT_DATA_API:"input"+ce+ue,INVALID_DATA_API:"invalid"+ce+ue,SUBMIT_DATA_API:"submit"+ce+ue},me=function(){function t(e,t){this._element=e,this._controls=[].slice.call(e.elements,0),this._wasValidated=!1,this._addControlListener(),this._addFormListener()}var e=t.prototype;return e._addControlListener=function(){var n=this;this._controls.forEach(function(t){var i=f(t),e=i.next(".invalid-feedback").get(0);(e=e||i.closest(".form-group").find(".invalid-feedback").get(0))&&i.data("feedback",e),i.on(pe.INVALID_DATA_API,function(e){n._wasValidated&&t.validationMessage&&i.data("feedback")&&(i.data("feedback").innerText=t.validationMessage)}),i.on(pe.INPUT_DATA_API,function(e){n._wasValidated&&t.validationMessage&&i.data("feedback")&&(i.data("feedback").innerText=t.validationMessage)})})},e._addFormListener=function(){var t=this;this._element.setAttribute("novalidate",""),f(this._element).on(pe.SUBMIT_DATA_API,function(e){t._element.checkValidity()||(e.preventDefault(),e.stopPropagation()),t._controls.forEach(function(e){e.checkValidity()||f(e).data("feedback")&&(f(e).data("feedback").innerText=e.validationMessage)}),t._element.classList.add("was-validated"),t._wasValidated=!0})},t._jQueryInterface=function(){return this.each(function(){var e=f(this).data(de);e||(e=new t(this),f(this).data(de,e))})},s(t,null,[{key:"VERSION",get:function(){return"0.0.1"}},{key:"Default",get:function(){return fe}}]),t}();f.fn[le]=me._jQueryInterface,f.fn[le].Constructor=me,f.fn[le].noConflict=function(){return f.fn[le]=he,me._jQueryInterface};var ge="formfiles",ve="bs.formfiles",we="."+ve,be=f.fn[ge],ye={filePicker:null,transform:function(e){return e}},_e={filePicker:"(function|string)",transform:"(function|string)"},ke={ADD:"add"+we,ADDED:"added"+we,CHANGE:"change"+we,DELETE:"delete"+we,DELETED:"deleted"+we,TRUNCATE:"truncate"+we,CHANGE_DATA_API:"change"+we,CLICK_DATA_API:"click"+we},Ce="hide",Ie={ITEMS:"."+"formfiles-items",ADDER:"."+"formfiles-btn-add",REMOVER:"."+"formfiles-item-remove"},De=function(){function n(e,t){this._config=this._getConfig(t),this._element=e,this._model=document.querySelector(this._element.dataset.model),this._items=f(e).children(Ie.ITEMS).get(0),this._isTransitioning=!1,this._updateValue(),this._addElementListener(),this._addModelListener(),this._drawItems()}var e=n.prototype;return e.addItem=function(e){f(this._element).trigger(ke.ADD,e),this._value.push(e),this._model.value=JSON.stringify(this._value),this._drawItem(e),f(this._element).trigger(ke.ADDED,e),f(this._element).trigger(ke.CHANGE)},e.removeItem=function(e){var t,i,n=this,a=this._value[e];a&&(this._isTransitioning||(this._isTransitioning=!0,f(this._element).trigger(ke.DELETE,a),this._value.splice(e,1),this._model.value=this._value.length?JSON.stringify(this._value):"",(t=f(this._items).children()[e]).classList.add(Ce),i=l.getTransitionDurationFromElement(t),f(t).one(l.TRANSITION_END,function(e){f(t).remove(),n._isTransitioning=!1,f(n._element).trigger(ke.DELETED,a),f(n._element).trigger(ke.CHANGE)}).emulateTransitionEnd(i)))},e.truncate=function(){this._model.value="[]",this._value=[],this._items.innerHTML="",f(this._element).trigger(ke.TRUNCATE),f(this._element).trigger(ke.CHANGE)},e._addElementListener=function(){var n=this;f(this._element).on(ke.CLICK_DATA_API,Ie.ADDER,function(e){n._config.filePicker&&n._config.filePicker(function(e){e&&n.addItem(e)},n)}),f(this._element).on(ke.CLICK_DATA_API,Ie.REMOVER,function(e,t){var i=f(e.currentTarget.parentNode).index();n.removeItem(i)})},e._addModelListener=function(){var t=this;f(this._model).on(ke.CHANGE_DATA_API,function(e){t._updateValue(),t._drawItems(),f(t._element).trigger(ke.CHANGE)})},e._drawItem=function(e){var t=(e=this._config.transform(e)).icon||'<i class="fa fa-file-text-o" aria-hidden="true"></i>',i='\n            <li class="slide-up">\n                <a href="'+e.url+'" class="formfiles-item" target="_blank">\n                    <div class="formfiles-item-icon">'+t+'</div>\n                    <div class="formfiles-item-title">'+e.name+'</div>\n                    <div class="formfiles-item-meta">'+e.meta+'</div>\n                </a>\n                <button type="button" class="close formfiles-item-remove" aria-label="Close">\n                    <span aria-hidden="true">&times;</span>\n                </button>\n            </li>';f(i).appendTo(this._items)},e._drawItems=function(){var i=this;this._items.innerHTML="",this._value.forEach(function(e,t){return i._drawItem(e,t)})},e._getConfig=function(e){return e=r({},ye,e),l.typeCheckConfig(ge,e,_e),e},e._updateValue=function(){var e=this._model.value.trim();if(this._value=[],e){try{this._value=JSON.parse(e)}catch(e){console.error("The model value is not valid JSON",this._model)}Array.isArray(this._value)||(console.error("The model value is not valid JSON Array",this._model),this._value=[])}},n._jQueryInterface=function(i){return this.each(function(){var e=f(this).data(ve),t=r({},ye,f(this).data(),"object"==typeof i&&i?i:{});e||(e=new n(this,t),f(this).data(ve,e))})},s(n,null,[{key:"VERSION",get:function(){return"0.0.3"}},{key:"Default",get:function(){return ye}}]),n}();f.fn[ge]=De._jQueryInterface,f.fn[ge].Constructor=De,f.fn[ge].noConflict=function(){return f.fn[ge]=be,De._jQueryInterface};var xe="formgallery",Ee="bs.formgallery",Te="."+Ee,Se=f.fn[xe],Ae={imagePicker:function(e){return e(prompt("Image URL"))},imagePreviewer:!0},Oe={imagePicker:"(function|string)",imagePreviewer:"(function|string|boolean)"},Ne={ADD:"add"+Te,ADDED:"added"+Te,CHANGE:"change"+Te,CLEAR:"clear"+Te,CLEARED:"cleared"+Te,DELETE:"delete"+Te,DELETED:"deleted"+Te,CHANGE_DATA_API:"change"+Te,CLICK_DATA_API:"click"+Te},Le={ACTION:"formgallery-action",CONTAINER:"formgallery",IMAGE:"formgallery-image",LIST:"formgallery-list",REMOVER:"formgallery-remove"},Pe={ADDER:"."+Le.ACTION,CONTAINER:"."+Le.CONTAINER,IMAGE:"."+Le.IMAGE,LIST:"."+Le.LIST,REMOVER:"."+Le.REMOVER},Me=function(){function a(e,t){this._config=this._getConfig(t),this._element=e,this._list=f(e).children(Pe.LIST).get(0),this._model=document.querySelector(this._element.dataset.model),this._updateValue(),"string"==typeof this._config.imagePicker&&(this._config.imagePicker=window[this._config.imagePicker]),this._addModelListener()}var e=a.prototype;return e.addImage=function(e){f(this._element).trigger(Ne.ADD,e),this._value.push(e),this._model.value=JSON.stringify(this._value),this._drawItem(e),f(this._element).trigger(Ne.ADDED,e),f(this._element).trigger(Ne.CHANGE)},e.clear=function(){f(this._element).trigger(Ne.CLEAR),this._model.value="",this._value=[],this._list.innerHTML="",f(this._element).trigger(Ne.CLEARED),f(this._element).trigger(Ne.CHANGE)},e.preview=function(e){"boolean"!=typeof this._config.imagePreviewer&&this._config.imagePreviewer(this._value,e)},e.pick=function(){var t=this;this._config.imagePicker&&this._config.imagePicker(function(e){e&&t.addImage(e)},this)},e.remove=function(e){var t,i=this._value[e];i&&(f(this._element).trigger(Ne.DELETE,i),this._value.splice(e,1),this._model.value=this._value.length?JSON.stringify(this._value):"",(t=f(this._list).children()[e]).classList.add(Le.HIDE),f(t).remove(),f(this._element).trigger(Ne.DELETED,i),f(this._element).trigger(Ne.CHANGE))},e._addModelListener=function(){var t=this;f(this._model).on(Ne.CHANGE_DATA_API,function(e){t._updateValue(),t._drawItems(),f(t._element).trigger(Ne.CHANGE)})},e._drawItem=function(e){f('\n            <div class="formgallery-item">\n                <button type="button" class="close formgallery-remove" aria-label="Close" title="Remove">\n                    <span aria-hidden="true">×</span>\n                </button>\n                <a href="#" class="formgallery-image" style="background-image: url(\''+e+"')\"></a>\n            </div>").appendTo(this._list)},e._drawItems=function(){var t=this;this._list.innerHTML="",this._value.forEach(function(e){return t._drawItem(e)})},e._getConfig=function(e){return e=r({},Ae,e),l.typeCheckConfig(xe,e,Oe),e},e._updateValue=function(){var e=this._model.value.trim();if(this._value=[],e){try{this._value=JSON.parse(e)}catch(e){console.error("The model value is not valid JSON",this._model)}Array.isArray(this._value)||(console.error("The model value is not valid JSON Array",this._model),this._value=[])}},a._jQueryInterface=function(i,n){return this.each(function(){var e=f(this).data(Ee),t=r({},Ae,f(this).data(),"object"==typeof i&&i?i:{});if(e||(e=new a(this,t),f(this).data(Ee,e)),"string"==typeof i){if("undefined"==typeof e[i])throw new TypeError('No method named "'+i+'"');e[i](n)}})},s(a,null,[{key:"VERSION",get:function(){return"0.0.2"}},{key:"Default",get:function(){return Ae}}]),a}();f(document).on(Ne.CLICK_DATA_API,Pe.REMOVER,function(e){var t=this.parentNode;"A"!==this.tagName&&"AREA"!==this.tagName||e.preventDefault(),Me._jQueryInterface.call(f(t.parentNode.parentNode),"remove",f(t).index())}),f(document).on(Ne.CLICK_DATA_API,Pe.IMAGE,function(e){var t=this.parentNode;"A"!==this.tagName&&"AREA"!==this.tagName||e.preventDefault(),Me._jQueryInterface.call(f(t.parentNode.parentNode),"preview",f(t).index())}),f(document).on(Ne.CLICK_DATA_API,Pe.ADDER,function(e){var t=this.parentNode;"A"!==this.tagName&&"AREA"!==this.tagName||e.preventDefault(),Me._jQueryInterface.call(f(t),"pick",t)}),f.fn[xe]=Me._jQueryInterface,f.fn[xe].Constructor=Me,f.fn[xe].noConflict=function(){return f.fn[xe]=Se,Me._jQueryInterface};var He="formimage",Re="bs.formimage",ze="."+Re,$e=f.fn[He],je={imagePicker:function(e){return e(prompt("Image URL"))},imagePreviewer:!0},Fe={imagePicker:"(function|string)",imagePreviewer:"(function|string|boolean)"},We={UPDATE:"update"+ze,UPDATED:"updated"+ze,CHANGE:"change"+ze,CLEAR:"clear"+ze,CLEARED:"cleared"+ze,CHANGE_DATA_API:"change"+ze,CLICK_DATA_API:"click"+ze},Ue="empty",Be={CONTAINER:"."+"formimage",PREVIEW:"."+"formimage-preview",REMOVER:"."+"formimage-clear"},qe=function(){function a(e,t){this._config=this._getConfig(t),this._element=e,this._preview=f(e).children(Be.PREVIEW).get(0),this._model=document.querySelector(this._element.dataset.model),this._value=this._model.value,"string"==typeof this._config.imagePicker&&(this._config.imagePicker=window[this._config.imagePicker]),this._addModelListener()}var e=a.prototype;return e.clear=function(){this.setImage("")},e.pick=function(){var t=this;this._config.imagePicker(function(e){t.setImage(e)},this)},e.pickOrPreview=function(){this._value?this.preview():this.pick()},e.preview=function(){"boolean"!=typeof this._config.imagePreviewer&&this._config.imagePreviewer(this._value)},e.setImage=function(e){null!==e&&this._value!==e&&((this._model.value=this._value=e)?this._updateImage():this._clearImage())},e._addModelListener=function(){var t=this;f(this._model).on("change",function(e){t._value!=e.target.value&&t._setImage(e.target.value)})},e._clearImage=function(){f(this._element).trigger(We.CLEAR),this._preview.removeAttribute("style"),this._element.classList.add(Ue),f(this._element).trigger(We.CLEARED),f(this._element).trigger(We.CHANGE)},e._getConfig=function(e){return e=r({},je,e),l.typeCheckConfig(He,e,Fe),e},e._updateImage=function(){f(this._element).trigger(We.UPDATE),this._element.classList.remove(Ue),this._preview.style.backgroundImage="url("+this._value+")",this._preview.href=this._value,f(this._element).trigger(We.UPDATED),f(this._element).trigger(We.CHANGE)},a._jQueryInterface=function(i,n){return this.each(function(){var e=f(this).data(Re),t=r({},je,f(this).data(),"object"==typeof i&&i?i:{});if(e||(e=new a(this,t),f(this).data(Re,e)),"string"==typeof i){if("undefined"==typeof e[i])throw new TypeError('No method named "'+i+'"');e[i](n)}else t.preview&&e.preview(n)})},s(a,null,[{key:"VERSION",get:function(){return"0.0.1"}},{key:"Default",get:function(){return je}}]),a}();f(document).on(We.CLICK_DATA_API,Be.REMOVER,function(e){var t=this.parentNode;"A"!==this.tagName&&"AREA"!==this.tagName||e.preventDefault(),qe._jQueryInterface.call(f(t),"clear",t)}),f(document).on(We.CLICK_DATA_API,Be.PREVIEW,function(e){var t=this.parentNode;"A"!==this.tagName&&"AREA"!==this.tagName||e.preventDefault(),qe._jQueryInterface.call(f(t),"pickOrPreview",t)}),f.fn[He]=qe._jQueryInterface,f.fn[He].Constructor=qe,f.fn[He].noConflict=function(){return f.fn[He]=$e,qe._jQueryInterface};var Ye="fileurl",Ve="bs.fileurl",Ke="."+Ve,Qe=f.fn[Ye],Ge={filePicker:function(e){e(prompt("File URL"))}},Xe={filePicker:"(string|function)"},Ze={CLICK_DATA_API:"click"+Ke+".data-api"},Je=function(){function n(e,t){this._config=this._getConfig(t),this._element=e,this._model=null,this._filePicker=this._config.filePicker,"string"==typeof this._filePicker&&(this._filePicker=window[this._filePicker]);var i=l.getSelectorFromElement(e);i&&(this._model=document.querySelector(i)),this._addElementListener()}var e=n.prototype;return e.dispose=function(){f(this._element).off(Ke),f.removeData(this._element,Ve),this._config=null,this._element=null,this._model=null},e._addElementListener=function(){var t=this;f(this._element).on(Ze.CLICK_DATA_API,function(e){t._filePicker(function(e){return f(t._model).val(e)},t._element,t._model)})},e._getConfig=function(e){return e=r({},Ge,e),l.typeCheckConfig(Ye,e,Xe),e},n._jQueryInterface=function(i){return this.each(function(){var e=f(this).data(Ve),t=r({},Ge,f(this).data(),"object"==typeof i&&i?i:{});e||(e=new n(this,t),f(this).data(Ve,e))})},s(n,null,[{key:"VERSION",get:function(){return"0.0.1"}},{key:"Default",get:function(){return Ge}}]),n}();f(document).on(Ze.CLICK_DATA_API,'[data-toggle="fileurl"]',function(e){var t;f(this).data(Ve)||(t=f(this).data(),Je._jQueryInterface.call(f(this),t,this))}),f.fn[Ye]=Je._jQueryInterface,f.fn[Ye].Constructor=Je,f.fn[Ye].noConflict=function(){return f.fn[Ye]=Qe,Je._jQueryInterface};var et="linkfilter",tt="bs.linkfilter",it="."+tt,nt=".data-api",at=f.fn[et],st=["-","[","]","/","{","}","(",")","*","+","?",".","\\","^","$","|"].join("\\"),rt=RegExp("["+st+"]","g"),ot={active:"active",delay:300,input:null,empty:!1},lt={active:"string",delay:"number",input:"(element|string)",empty:"boolean"},dt={FINDING:"finding"+it+nt,FOUND:"found"+it+nt,EMPTY:"empty"+it+nt,KEYDOWN:"keydown"+it+nt},ct="linkfilter-not-match",ut=function(){function n(e,t){this._config=this._getConfig(t),this._element=e,this._input=t.input,this._timer=null,this._lastQuery=null,"string"==typeof t.input&&(this._input=document.querySelector(t.input)),this._addElementListener(),this._findItem(this._input)}var e=n.prototype;return e.dispose=function(){[this._input].forEach(function(e){return f(e).off(it)}),f.removeData(this._element,tt),this._config=null,this._element=null,this._timer=null,this._input=null},e._addElementListener=function(){var t=this;f(this._input).on(dt.KEYDOWN,function(e){return 13===e.keyCode?t._clickActive(e):40===e.keyCode?t._focusNextItem(e):38===e.keyCode?t._focusPrevItem(e):(t._timer&&clearTimeout(t._timer),void(t._timer=setTimeout(function(e){return t._findItem(e)},t._config.delay,t._input)))})},e._clickActive=function(e){var t=this._element.querySelector("."+this._config.active);t&&("A"!=t.tagName&&(t=t.querySelector("a")),t&&t.click(),e.preventDefault())},e._focusNextItem=function(e){for(var t,i,n=this._element.children.length-1;0<=n;n--){var a=this._element.children[n];if(!a.classList.contains(ct))if(a.classList.contains(this._config.active)){if(i=a,t)break}else t=a}t&&(i&&i.classList.remove(this._config.active),t.classList.add(this._config.active)),e.preventDefault()},e._focusPrevItem=function(e){for(var t,i,n=0;n<this._element.children.length;n++){var a=this._element.children[n];if(!a.classList.contains(ct))if(a.classList.contains(this._config.active)){if(i=a,t)break}else t=a}t&&(i&&i.classList.remove(this._config.active),t.classList.add(this._config.active)),e.preventDefault()},e._findItem=function(e){var a=this,t=f.Event(dt.FINDING,{relatedTarget:e});f(this._element).trigger(t);var s,r,i,o=this._input.value.trim().replace(rt,"\\$&"),l=new RegExp(o,"i"),d=0;o!==this._lastQuery&&(this._lastQuery=o,f(this._element).children().each(function(e,t){var i=t.innerText;"text"in t.dataset&&(i=t.dataset.text);var n=!1;o?l.test(i)&&(n=!0):n=!a._config.empty,n?(d++,s=s||t,t.classList.remove(ct),t.style.removeProperty("display"),t.classList.contains(a._config.active)&&(r=!0)):(t.style.display="none",t.classList.add(ct),t.classList.contains(a._config.active)&&t.classList.remove(a._config.active))}),i=d?(r||1!==d||s.classList.add(this._config.active),f.Event(dt.FOUND,{relatedTarget:e})):f.Event(dt.EMPTY,{relatedTarget:e}),f(this._element).trigger(i))},e._getConfig=function(e){return e=r({},ot,e),l.typeCheckConfig(et,e,lt),e},n._jQueryInterface=function(i){return this.each(function(){var e=f(this).data(tt),t=r({},ot,f(this).data(),"object"==typeof i&&i?i:{});e||(e=new n(this,t),f(this).data(tt,e))})},s(n,null,[{key:"VERSION",get:function(){return"0.0.1"}},{key:"Default",get:function(){return ot}}]),n}();f.fn[et]=ut._jQueryInterface,f.fn[et].Constructor=ut,f.fn[et].noConflict=function(){return f.fn[et]=at,ut._jQueryInterface};var ht={editor:null,list:null,model:null,items:{title:"title",info:[],action:[]}},ft=function(){function e(e){this._config=this._getConfig(e),this._value="[]",this._el={editor:document.querySelector(this._config.editor),list:document.querySelector(this._config.list),model:document.querySelector(this._config.model)},this._activeIndex=null,this._addElementsListener(),this._redrawItems()}var t=e.prototype;return t._addElementsListener=function(){var r=this;this._el.model.addEventListener("change",function(e){return r._redrawItems()}),this._el.editor.addEventListener("submit",function(e){e.preventDefault();for(var t={},i=null,n=0;n<r._el.editor.elements.length;n++){var a=r._el.editor.elements[n];"BUTTON"!==a.nodeName&&a.name&&(t[a.name]=a.value,a.value="",i=i||a)}r._activeIndex?(r._value[r._activeIndex]=t,r._el.model.value=JSON.stringify(r._value),r._redrawItems()):(r._drawItem(t,r._value.length),r._updateModel()),r._activeIndex=null,i&&i.focus()}),f(this._el.list).on("click",".btn-remove",function(e){e.preventDefault();var t=e.target.closest(".list-editor-item");f(t).slideUp(function(e){f(t).remove(),r._updateModel()})}).on("click",".btn-edit",function(e){e.preventDefault();var t=e.target.closest(".list-editor-item"),i=JSON.parse(t.dataset.object);r._activeIndex=t.dataset.index;for(var n=null,a=0;a<r._el.editor.elements.length;a++){var s=r._el.editor.elements[a];"button"!==s.type&&(s.value=i[s.name]||"",n=n||s)}n.select(),f("html, body").animate({scrollTop:f(r._el.editor).offset().top})})},t._drawItem=function(a,e){var s=this,t=this._hs(JSON.stringify(a)),i=a[this._config.items.title],r=[];this._config.items.info.forEach(function(e){var t,i,n;a[e.field]&&(t=s._hs(e.title),i=s._hs(a[e.field]),n='\n                <span title="'+t+'">\n                    '+(e.icon||"")+"\n                    "+i+"\n                </span>",r.push(n))}),r=r.join("&middot;");var n,o=[];for(n in this._config.items.action){var l=this._config.items.action[n],d="btn-"+n,c=l.icon||"",u='\n                <a href="#0" class="btn btn-secondary '+d+'" title="'+this._hs(l.title||"")+'">\n                    '+c+"\n                </a>";o.push(u)}var h='\n            <li class="list-group-item list-editor-item" data-object="'+t+'" data-index="'+e+'">\n                <div class="d-flex w-100 justify-content-between">\n                    <h5 class="mb-1">'+i+'</h5>\n                    <div>\n                        <div class="btn-group btn-group-sm" role="group" aria-label="Action">\n                            '+(o=o.join(""))+"\n                        </div>\n                    </div>\n                </div>\n                <small>"+r+"</small>\n            </li>";f(this._el.list).append(h)},t._getConfig=function(e){var t,i={};for(t in ht)if("items"===t){if(i[t]={},e[t])for(var n in e[t])i[t][n]="undefined"==typeof e[t][n]?ht[t][n]:e[t][n]}else i[t]="undefined"==typeof e[t]?ht[t]:e[t];return i},t._hs=function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")},t._redrawItems=function(){var i=this;this._value=this._el.model.value;try{this._value=JSON.parse(this._value)}catch(e){this._value=[]}this._el.list.innerHTML="",this._value.forEach(function(e,t){return i._drawItem(e,t)})},t._updateModel=function(){for(var e=[],t=0;t<this._el.list.children.length;t++){var i=this._el.list.children[t];e.push(JSON.parse(i.dataset.object))}this._value=e,this._el.model.value=JSON.stringify(e)},e}();window.ListEditor=ft;var pt="pwdstr",mt="bs.pwdstr",gt="."+mt,vt=".data-api",wt=f.fn[pt],bt={progress:null,tester:function(e,t){var i=0;if(!t)return e(i);for(var n=new Object,a=0;a<t.length;a++)n[t[a]]=(n[t[a]]||0)+1,i+=5/n[t[a]];var s,r={digits:/\d/.test(t),lower:/[a-z]/.test(t),upper:/[A-Z]/.test(t),nonWords:/\W/.test(t)},o=0;for(s in r)o+=1==r[s]?1:0;i+=10*(o-1),e(parseInt(i))}},yt={progress:"(string|element)",tester:"(string|function)"},_t={INPUT_DATA_API:"input"+gt+vt,CHANGE_DATA_API:"change"+gt+vt,UPDATE_DATA_API:"update"+gt+vt},kt=function(){function n(e,t){this._config=this._getConfig(t),this._element=e,this._progress=this._config.progress,this._progress_bar=null,this._tester=this._config.tester,this._value=0,"string"==typeof this._progress&&(this._progress=document.querySelector(this._progress)),this._progress&&(this._progress_bar=f(this._progress).children(".progress-bar").get(0)),"string"==typeof this._tester&&(this._tester=window[this._tester]),this._addElementListener()}var e=n.prototype;return e.dispose=function(){f(this._element).off(gt),f.removeData(this._element,mt),this._config=null,this._element=null,this._progress=null,this._progress_bar=null,this._tester=null,this._value=0},e._addElementListener=function(){var t=this;f(this._element).on(_t.INPUT_DATA_API,function(e){t._calculateStrength(e)}),f(this._element).on(_t.CHANGE_DATA_API,function(e){t._calculateStrength(e)})},e._calculateStrength=function(){var t=this;this._tester(function(e){t._updateProgress(e)},this._element.value,this._element)},e._updateProgress=function(e){var t;this._progress_bar&&this._value!=e&&(100<(this._value=e)&&(e=100),t="progress-bar",t+=e<25?" bg-danger":e<50?" bg-warning":e<75?" bg-info":" bg-success",this._progress_bar.setAttribute("aria-valuenow",e),this._progress_bar.setAttribute("class",t),this._progress_bar.style.width=e+"%",f(this._element).trigger(_t.CHANGE_DATA_API,e))},e._getConfig=function(e){return e=r({},bt,e),l.typeCheckConfig(pt,e,yt),e},n._jQueryInterface=function(i){return this.each(function(){var e=f(this).data(mt),t=r({},bt,f(this).data(),"object"==typeof i&&i?i:{});e||(e=new n(this,t),f(this).data(mt,e))})},s(n,null,[{key:"VERSION",get:function(){return"0.0.1"}},{key:"Default",get:function(){return bt}}]),n}();f.fn[pt]=kt._jQueryInterface,f.fn[pt].Constructor=kt,f.fn[pt].noConflict=function(){return f.fn[pt]=wt,kt._jQueryInterface};var Ct="pickercolor",It="bs.pickercolor",Dt=f.fn[Ct],xt={input:null},Et={input:"(element|string)"},Tt={CHANGE:"change.bs.pickercolor.data-api"},St="^#[a-fA-F0-9]{6}",At=new RegExp(St),Ot=function(){function n(e,t){this._config=this._getConfig(t),this._element=e,this._input=t.input,"string"==typeof t.input&&(this._input=document.querySelector(t.input)),this._modifyElement(),this._addElementListener(),this._input.value=this._element.value}var e=n.prototype;return e._getConfig=function(e){return e=r({},xt,e),l.typeCheckConfig(Ct,e,Et),e},e._addElementListener=function(){var t=this;f(this._element).on(Tt.CHANGE,function(e){t._input.value=e.target.value.toUpperCase(),t._inputChanges()}),f(this._input).on(Tt.CHANGE,function(e){return t._inputChanges()})},e._inputChanges=function(){var e=this._input.value;At.test(e)?(this._input.setCustomValidity(""),this._element.value=this._input.value):this._input.setCustomValidity("Please enter valid HEX color")},e._modifyElement=function(){this._input.getAttribute("pattern")||this._input.setAttribute("pattern",St)},n._jQueryInterface=function(i){return this.each(function(){var e=f(this).data(It),t=r({},xt,f(this).data(),"object"==typeof i&&i?i:{});e||(e=new n(this,t),f(this).data(It,e))})},s(n,null,[{key:"VERSION",get:function(){return"0.0.2"}},{key:"Default",get:function(){return xt}}]),n}();f.fn[Ct]=Ot._jQueryInterface,f.fn[Ct].Constructor=Ot,f.fn[Ct].noConflict=function(){return f.fn[Ct]=Dt,Ot._jQueryInterface};var Nt="rangetips",Lt="bs.rangetips",Pt="."+Lt,Mt=f.fn[Nt],Ht={template:"string"},Rt={template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>'},zt="show",$t={FOCUSIN:"focusin"+Pt,FOCUSOUT:"focusout"+Pt,INPUT:"input"+Pt,MOUSEENTER:"mouseenter"+Pt,MOUSELEAVE:"mouseleave"+Pt},jt=function(){function n(e,t){this._config=this._getConfig(t),this._element=e,this._parent=e.parentNode,this._tooltips=this._makeTooltips(),this._tooltipsInner=this._tooltips.querySelector(".tooltip-inner"),this._tooltipsArrow=this._tooltips.querySelector(".arrow"),this._isShown=!1,this._handleParent(),this._addElementListener()}var e=n.prototype;return e._addElementListener=function(){var t=this;f(this._element).on($t.MOUSEENTER+" "+$t.FOCUSIN,function(e){t._show()}).on($t.MOUSELEAVE,function(e){document.activeElement!==t._element&&t._hide()}).on($t.FOCUSOUT,function(e){f(t._element).is(":hover")||t._hide()}),f(this._element).on($t.INPUT,function(e){t._updateLabel(),t._updatePosition()})},e._getConfig=function(e){return e=r({},Rt,e),l.typeCheckConfig(Nt,e,Ht),e},e._handleParent=function(){this._parent.style.position="relative"},e._hide=function(){this._isShown&&(this._isShown=!1,this._tooltips.classList.remove(zt))},e._makeTooltips=function(){var e=f(this._config.template).get(0);return e.classList.add("bs-tooltip-top"),this._parent.appendChild(e),e},e._show=function(){var e;this._isShown||(this._isShown=!0,this._updateLabel(),this._tooltipsInner.innerText=this._element.value,e=this._element.offsetTop-this._tooltips.offsetHeight,this._tooltips.style.top=e+"px",this._tooltips.classList.add(zt),this._updatePosition())},e._updatePosition=function(){var e=this._element.value,t=this._element.max||100,i=this._element.min||0,n=this._element.offsetWidth-16,a=this._tooltips.offsetWidth,s=e/(t-i)*n-a/2+8;i&&(s-=i/(t-i)*n),this._tooltips.style.left=s+"px";var r=a/2-6.4;this._tooltipsArrow.style.left=r+"px"},e._updateLabel=function(){this._tooltipsInner.innerText=this._element.value},n._jQueryInterface=function(i){return this.each(function(){var e=f(this).data(Lt),t=r({},Rt,f(this).data(),"object"==typeof i&&i?i:{});e||(e=new n(this,t),f(this).data(Lt,e))})},s(n,null,[{key:"VERSION",get:function(){return"0.0.1"}},{key:"Default",get:function(){return Rt}}]),n}();f.fn[Nt]=jt._jQueryInterface,f.fn[Nt].Constructor=jt,f.fn[Nt].noConflict=function(){return f.fn[Nt]=Mt,jt._jQueryInterface};var Ft="slugify",Wt="bs.slugify",Ut="."+Wt,Bt=".data-api",qt=f.fn[Ft],Yt={},Vt={INPUT_DATA_API:"input"+Ut+Bt,FOCUS_DATA_API:"focus"+Ut+Bt},Kt=function(){function n(e,t){this._element=e,this._source=document.querySelector(t.source),this._element.value||(this._addElementListener(),this._addSourceListener())}var e=n.prototype;return e._addElementListener=function(){var t=this;f(this._element).on(Vt.FOCUS_DATA_API,function(e){f(t._source).off(Vt.INPUT_DATA_API)})},e._addSourceListener=function(){var t=this;f(this._source).on(Vt.INPUT_DATA_API,function(e){t._element.value=t._source.value.toLowerCase().replace(/[^\w\-]/g,"-").replace(/\-+/g,"-").replace(/^\-|\-$/g,"")})},n._jQueryInterface=function(i){return this.each(function(){var e=f(this).data(Wt),t=r({},Yt,f(this).data(),"object"==typeof i&&i?i:{});e||(e=new n(this,t),f(this).data(Wt,e))})},s(n,null,[{key:"VERSION",get:function(){return"0.0.1"}},{key:"Default",get:function(){return Yt}}]),n}();f.fn[Ft]=Kt._jQueryInterface,f.fn[Ft].Constructor=Kt,f.fn[Ft].noConflict=function(){return f.fn[Ft]=qt,Kt._jQueryInterface};var Qt="taginput",Gt="bs.taginput",Xt="."+Gt,Zt=f.fn[Qt],Jt={},ei={},ti={CLICK_ITEM_DISMISS:"click.dismiss"+Xt,FILTER_KEYDOWN:"keydown.filter"+Xt},ii={FILTER:"."+"tag-input-filter",ITEMS:"."+"tag-input-items",VALUE:"."+"tag-input-value",DISMISS_ITEM:".close"},ni=function(){function n(e,t){this._config=this._getConfig(t),this._element=e,this._parent=e.parentNode,this._items=this._parent.querySelector(ii.ITEMS),this._input=this._parent.querySelector(ii.VALUE),this._setInputListener(),this._setFilterListener(),this._setItemsListener(),this._renderValue()}var e=n.prototype;return e._getConfig=function(e){return e=r({},Jt,e),l.typeCheckConfig(Qt,e,ei),e},e._addItem=function(e){this._values.includes(e)||(this._values.length,this._values.push(e),this._input.value=JSON.stringify(this._values),this._addListItem(e))},e._addListItem=function(e){var t=document.createElement("li");t.innerText=e;var i=document.createElement("button");i.setAttribute("type","button"),i.setAttribute("aria-label","Delete"),i.setAttribute("data-dismiss","tag-item"),i.classList.add("close");var n=document.createElement("span");n.setAttribute("aria-hidden","true"),n.innerHTML="&times;",i.appendChild(n),t.appendChild(i),this._items.appendChild(t)},e._removeItem=function(e){this._values.splice(e,1),this._input.value=this._values.length?JSON.stringify(this._values):"",this._removeListItem(e)},e._removeListItem=function(e){var t=this._items.querySelector("li:nth-child("+(e+1)+")");this._items.removeChild(t)},e._setFilterListener=function(){var i=this;f(this._element).on(ti.FILTER_KEYDOWN,function(e){if(13===e.keyCode||","===e.key){e.preventDefault();var t=i._element.value.trim();return t&&(i._addItem(t),i._element.value=""),!1}})},e._setInputListener=function(){var e=this;f(this._input).on("change",function(){e._renderValue()})},e._setItemsListener=function(){var i=this;f(this._items).on(ti.CLICK_ITEM_DISMISS,ii.DISMISS_ITEM,function(e){var t=f(i._items).children("li").index(e.currentTarget.parentNode);i._removeItem(t)})},e._renderValue=function(){f(this._items).html("");try{this._values=JSON.parse(this._input.value)}catch(e){this._values=[]}Array.isArray(this._values)||(this._values=[]);for(var e=0;e<this._values.length;e++)this._addListItem(this._values[e])},n._jQueryInterface=function(i){return this.each(function(){var e=f(this).data(Gt),t=r({},Jt,f(this).data(),"object"==typeof i&&i?i:{});e||(e=new n(this,t),f(this).data(Gt,e))})},s(n,null,[{key:"VERSION",get:function(){return"0.0.3"}},{key:"Default",get:function(){return Jt}}]),n}();f.fn[Qt]=ni._jQueryInterface,f.fn[Qt].Constructor=ni,f.fn[Qt].noConflict=function(){return f.fn[Qt]=Zt,ni._jQueryInterface};var ai,si={title:!1,content:"<em>No content</em>",delay:3e3,position:"top right"},ri={text:"",icon:null,image:null,close:!0,info:!1},oi={},li=function(){function i(e,t){null!==e&&(ai=ai||new i(null))._open(e,t)}var e=i.prototype;return e._getContainer=function(e){var t=(e.position||"top right").split(" "),i=t[0]||"top",n=t[1]||"right";if(["top","bottom"].includes(i)||(i="top"),["left","center","right"].includes(n)||(n="right"),oi[t=i+" "+n])return oi[t];var a=this._makeContainer(i,n);return oi[t]=f(a).appendTo("body"),oi[t]},e._makeBody=function(e){return'<div class="toast-body">'+e.content+"</div>"},e._makeContainer=function(e,t){var i="position:fixed;width:320px;"+e+":20px;z-index:1060;";return'<div aria-live="polite" aria-atomic="true" style="'+(i+="center"===t?"left:50%;margin-left:-160px":t+":20px")+'"></div>'},e._makeHeader=function(e){if(!e.title)return"";"string"==typeof e.title&&(e.title={text:e.title});var t=r({},ri,e.title),i="";return t.image?i='<img src="'+t.image+'" class="rounded mr-2" alt="#">':t.icon&&(i='<i class="'+t.icon+' mr-2"></i>'),'\n            <div class="toast-header">\n                '+i+"\n                "+(t.text?'<strong class="mr-auto">'+t.text+"</strong>":"")+"\n                "+(t.info?"<small>"+t.info+"</small>":"")+"\n                "+(t.close?' <button type="button" class="ml-2 mb-1 close" data-dismiss="toast" aria-label="Close">\n                    <span aria-hidden="true">&times;</span>\n                </button>':"")+"\n            </div>\n        "},e._makeHtml=function(e){return'\n            <div class="toast" role="alert" aria-live="assertive" aria-atomic="true">\n                '+this._makeHeader(e)+" "+this._makeBody(e)+"\n            </div>"},e._open=function(e,t){"object"!=typeof e&&(e={content:e},void 0!==t&&(e.title=t));var i=r({},si,e),n=this._makeHtml(i);f(n).appendTo(this._getContainer(i)).toast({animation:!0,autohide:!0,delay:i.delay}).toast("show").on("hidden.bs.toast",function(){f(this).remove()})},i.setDefault=function(e){for(var t in e)si[t]=e[t]},s(i,null,[{key:"VERSION",get:function(){return"0.0.1"}},{key:"Default",get:function(){return si}}]),i}();f.toaster=li;var di="vertmenu",ci="bs.vertmenu",ui="."+ci,hi=".data-api",fi=f.fn[di],pi={toggle:!1},mi={toggle:"boolean"},gi={SHOW:"show"+ui,SHOWN:"shown"+ui,HIDE:"hide"+ui,HIDDEN:"hidden"+ui,CLICK_DATA_API:"click"+ui+hi,KEYDOWN_DATA_API:"keydown"+ui+hi},vi="collapse",wi="collapsing",bi="vertical-menu",yi="vertical-menu-parent",_i="show",ki={DATA_TOGGLE:'[data-toggle="vertical-menu"]',MENU:"."+bi},Ci=function(){function a(e,t){this._isTransitioning=!1,this._element=e,this._config=this._getConfig(t),this._parent=e.parentNode,this._config.toggle&&this.toggle()}var e=a.prototype;return e.toggle=function(){f(this._parent).hasClass(_i)?this.hide():this.show()},e.show=function(){var e,t,i,n,a=this;this._isTransitioning||f(this._element).hasClass(_i)||(e=f.Event(gi.SHOW),f(this._element).trigger(e),e.isDefaultPrevented()||(t="height",f(this._element).removeClass(vi).addClass(wi),this._element.style[t]=0,f(this._parent).addClass(_i),this._isTransitioning=!0,i="scroll"+(t[0].toUpperCase()+t.slice(1)),n=l.getTransitionDurationFromElement(this._element),f(this._element).one(l.TRANSITION_END,function(){f(a._element).removeClass(wi).addClass(vi),a._element.style[t]="",a._isTransitioning=!1,f(a._element).trigger(gi.SHOWN)}).emulateTransitionEnd(n),this._element.style[t]=this._element[i]+"px"))},e.hide=function(){var e,t,i,n=this;!this._isTransitioning&&f(this._parent).hasClass(_i)&&(e=f.Event(gi.HIDE),f(this._element).trigger(e),e.isDefaultPrevented()||(t="height",this._element.style[t]=this._element.getBoundingClientRect()[t]+"px",l.reflow(this._element),f(this._element).addClass(wi).removeClass(vi),this._isTransitioning=!0,this._element.style[t]="",i=l.getTransitionDurationFromElement(this._element),f(this._element).one(l.TRANSITION_END,function(){n._isTransitioning=!1,f(n._parent).removeClass(_i),f(n._element).trigger(gi.HIDDEN)}).emulateTransitionEnd(i)))},e.dispose=function(){f.removeData(this._element,ci),this._config=null,this._parent=null,this._element=null,this._isTransitioning=null},e._getConfig=function(e){return(e=r({},pi,e)).toggle=Boolean(e.toggle),l.typeCheckConfig(di,e,mi),e},a._handleDownKey=function(e){var t,i=e.target,n=i.parentNode,a=i.nextElementSibling,s=n.classList.contains(_i);if(a&&s&&(t=f(n).find("> ul >li:first-child > a").get(0)),!t)for(var r=i;;){var o=r.parentNode,l=o.nextElementSibling;if(l){t=f(l).children("a").get(0);break}var d=o.parentNode.parentNode;if("LI"!=d.tagName||d.classList.contains(bi))break;if(!(r=f(d).children("a").get(0)))break}return t&&t.focus(),!0},a._handleLeftKey=function(e){var t,i=e.target,n=i.parentNode,a=i.nextElementSibling,s=n.classList.contains(_i);return a&&s?i.click():(t=n.parentNode.parentNode).classList.contains(yi)&&f(t).children("a").focus(),!0},a._handleRightKey=function(e){var t=e.target,i=t.parentNode,n=t.nextElementSibling,a=i.classList.contains(_i);return n&&!a&&t.click(),!0},a._handleUpKey=function(e){var t,i=e.target.parentNode,n=i.previousElementSibling;if(n){var a=n.classList.contains(yi),s=n.classList.contains(_i);if(a&&s)for(var r=n;;){var o=f(r).children("ul").get(0).lastElementChild;if(!o)break;var l=o.classList.contains(yi),d=o.classList.contains(_i);if(!l||!d){t=f(o).children("a").get(0);break}r=o}else t=f(n).children("a").get(0)}else{var c=i.parentNode.parentNode;"LI"!==c.tagName||c.classList.contains(bi)||(t=f(c).children("a"))}return t&&t.focus(),!0},a._dataApiKeydownHandler=function(e){var t=!1;switch(e.keyCode){case 40:t=a._handleDownKey(e);break;case 37:t=a._handleLeftKey(e);break;case 39:t=a._handleRightKey(e);break;case 38:t=a._handleUpKey(e)}t&&(e.preventDefault(),e.stopPropagation())},a._jQueryInterface=function(n){return this.each(function(){var e=f(this),t=e.data(ci),i=r({},pi,e.data(),"object"==typeof n&&n?n:{});if(i.toggle&&"vertical-menu"===i.toggle&&(i.toggle=!1),!t&&i.toggle&&/show|hide/.test(n)&&(i.toggle=!1),t||(t=new a(this,i),e.data(ci,t)),"string"==typeof n){if("undefined"==typeof t[n])throw new TypeError('No method named "'+n+'"');t[n]()}})},s(a,null,[{key:"VERSION",get:function(){return"0.0.3"}},{key:"Default",get:function(){return pi}}]),a}();
/*!
   * Viewer.js v1.3.4
   * https://fengyuanchen.github.io/viewerjs
   *
   * Copyright 2015-present Chen Fengyuan
   * Released under the MIT license
   *
   * Date: 2019-06-01T03:32:35.881Z
   */
function Ii(e){return(Ii="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Di(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}f(document).on(gi.CLICK_DATA_API,ki.DATA_TOGGLE,function(e){"A"===e.currentTarget.tagName&&e.preventDefault();var t=f(this).next("ul");Ci._jQueryInterface.call(t,"toggle")}),f(document).on(gi.KEYDOWN_DATA_API,ki.MENU,Ci._dataApiKeydownHandler),f.fn[di]=Ci._jQueryInterface,f.fn[di].Constructor=Ci;var xi={backdrop:!0,button:!0,navbar:!0,title:!0,toolbar:!0,className:"",container:"body",filter:null,fullscreen:!0,initialViewIndex:0,inline:!(f.fn[di].noConflict=function(){return f.fn[di]=fi,Ci._jQueryInterface}),interval:5e3,keyboard:!0,loading:!0,loop:!0,minWidth:200,minHeight:100,movable:!0,zoomable:!0,rotatable:!0,scalable:!0,toggleOnDblclick:!0,tooltip:!0,transition:!0,zIndex:2015,zIndexInline:0,zoomRatio:.1,minZoomRatio:.01,maxZoomRatio:100,url:"src",ready:null,show:null,shown:null,hide:null,hidden:null,view:null,viewed:null,zoom:null,zoomed:null},Ei="undefined"!=typeof window,Ti=Ei?window:{},Si=Ei&&"ontouchstart"in Ti.document.documentElement,Ai=Ei&&"PointerEvent"in Ti,Oi="viewer",Ni="move",Li="zoom",Pi="".concat(Oi,"-active"),Mi="".concat(Oi,"-close"),Hi="".concat(Oi,"-fade"),Ri="".concat(Oi,"-fixed"),zi="".concat(Oi,"-fullscreen"),$i="".concat(Oi,"-fullscreen-exit"),ji="".concat(Oi,"-hide"),Fi="".concat(Oi,"-hide-md-down"),Wi="".concat(Oi,"-hide-sm-down"),Ui="".concat(Oi,"-hide-xs-down"),Bi="".concat(Oi,"-in"),qi="".concat(Oi,"-invisible"),Yi="".concat(Oi,"-loading"),Vi="".concat(Oi,"-move"),Ki="".concat(Oi,"-open"),Qi="".concat(Oi,"-show"),Gi="".concat(Oi,"-transition"),Xi="click",Zi="dblclick",Ji="dragstart",en="keydown",tn="load",nn=Ai?"pointerdown":Si?"touchstart":"mousedown",an=Ai?"pointermove":Si?"touchmove":"mousemove",sn=Ai?"pointerup pointercancel":Si?"touchend touchcancel":"mouseup",rn="transitionend",on="viewed",ln="".concat(Oi,"Action"),dn=/\s\s*/,cn=["zoom-in","zoom-out","one-to-one","reset","prev","play","next","rotate-left","rotate-right","flip-horizontal","flip-vertical"];function un(e){return"string"==typeof e}var hn=Number.isNaN||Ti.isNaN;function fn(e){return"number"==typeof e&&!hn(e)}function pn(e){return"undefined"==typeof e}function mn(e){return"object"===Ii(e)&&null!==e}var gn=Object.prototype.hasOwnProperty;function vn(e){if(!mn(e))return!1;try{var t=e.constructor,i=t.prototype;return t&&i&&gn.call(i,"isPrototypeOf")}catch(e){return!1}}function wn(e){return"function"==typeof e}function bn(t,i){if(t&&wn(i))if(Array.isArray(t)||fn(t.length))for(var e=t.length,n=0;n<e&&!1!==i.call(t,t[n],n,t);n+=1);else mn(t)&&Object.keys(t).forEach(function(e){i.call(t,t[e],e,t)});return t}var yn=Object.assign||function(i){for(var e=arguments.length,t=new Array(1<e?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];return mn(i)&&0<t.length&&t.forEach(function(t){mn(t)&&Object.keys(t).forEach(function(e){i[e]=t[e]})}),i},_n=/^(?:width|height|left|top|marginLeft|marginTop)$/;function kn(e,t){var i=e.style;bn(t,function(e,t){_n.test(t)&&fn(e)&&(e+="px"),i[t]=e})}function Cn(e){return un(e)?e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):e}function In(e,t){return e.classList?e.classList.contains(t):-1<e.className.indexOf(t)}function Dn(e,t){var i;t&&(fn(e.length)?bn(e,function(e){Dn(e,t)}):e.classList?e.classList.add(t):(i=e.className.trim())?i.indexOf(t)<0&&(e.className="".concat(i," ").concat(t)):e.className=t)}function xn(e,t){t&&(fn(e.length)?bn(e,function(e){xn(e,t)}):e.classList?e.classList.remove(t):0<=e.className.indexOf(t)&&(e.className=e.className.replace(t,"")))}function En(e,t,i){t&&(fn(e.length)?bn(e,function(e){En(e,t,i)}):(i?Dn:xn)(e,t))}var Tn=/([a-z\d])([A-Z])/g;function Sn(e){return e.replace(Tn,"$1-$2").toLowerCase()}function An(e,t){return mn(e[t])?e[t]:e.dataset?e.dataset[t]:e.getAttribute("data-".concat(Sn(t)))}function On(e,t,i){mn(i)?e[t]=i:e.dataset?e.dataset[t]=i:e.setAttribute("data-".concat(Sn(t)),i)}var Nn,Ln,Pn,Mn,Hn=(Mn=!1,Ei&&(Nn=!1,Ln=function(){},Pn=Object.defineProperty({},"once",{get:function(){return Mn=!0,Nn},set:function(e){Nn=e}}),Ti.addEventListener("test",Ln,Pn),Ti.removeEventListener("test",Ln,Pn)),Mn);function Rn(i,e,n,t){var a=3<arguments.length&&void 0!==t?t:{},s=n;e.trim().split(dn).forEach(function(e){var t;Hn||(t=i.listeners)&&t[e]&&t[e][n]&&(s=t[e][n],delete t[e][n],0===Object.keys(t[e]).length&&delete t[e],0===Object.keys(t).length&&delete i.listeners),i.removeEventListener(e,s,a)})}function zn(s,e,r,t){var o=3<arguments.length&&void 0!==t?t:{},l=r;e.trim().split(dn).forEach(function(n){var e,a;o.once&&!Hn&&(e=s.listeners,l=function(){delete a[n][r],s.removeEventListener(n,l,o);for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];r.apply(s,t)},(a=void 0===e?{}:e)[n]||(a[n]={}),a[n][r]&&s.removeEventListener(n,a[n][r],o),a[n][r]=l,s.listeners=a),s.addEventListener(n,l,o)})}function $n(e,t,i){var n;return wn(Event)&&wn(CustomEvent)?n=new CustomEvent(t,{detail:i,bubbles:!0,cancelable:!0}):(n=document.createEvent("CustomEvent")).initCustomEvent(t,!0,!0,i),e.dispatchEvent(n)}function jn(e){var t=e.rotate,i=e.scaleX,n=e.scaleY,a=e.translateX,s=e.translateY,r=[];fn(a)&&0!==a&&r.push("translateX(".concat(a,"px)")),fn(s)&&0!==s&&r.push("translateY(".concat(s,"px)")),fn(t)&&0!==t&&r.push("rotate(".concat(t,"deg)")),fn(i)&&1!==i&&r.push("scaleX(".concat(i,")")),fn(n)&&1!==n&&r.push("scaleY(".concat(n,")"));var o=r.length?r.join(" "):"none";return{WebkitTransform:o,msTransform:o,transform:o}}var Fn=Ti.navigator&&/(Macintosh|iPhone|iPod|iPad).*AppleWebKit/i.test(Ti.navigator.userAgent);function Wn(e,t){var i=document.createElement("img");if(e.naturalWidth&&!Fn)return t(e.naturalWidth,e.naturalHeight),i;var n=document.body||document.documentElement;return i.onload=function(){t(i.width,i.height),Fn||n.removeChild(i)},i.src=e.src,Fn||(i.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",n.appendChild(i)),i}function Un(e){switch(e){case 2:return Ui;case 3:return Wi;case 4:return Fi;default:return""}}function Bn(e,t){var i=e.pageX,n=e.pageY,a={endX:i,endY:n};return t?a:yn({timeStamp:Date.now(),startX:i,startY:n},a)}var qn={render:function(){this.initContainer(),this.initViewer(),this.initList(),this.renderViewer()},initContainer:function(){this.containerData={width:window.innerWidth,height:window.innerHeight}},initViewer:function(){var e,t=this.options,i=this.parent;t.inline&&(e={width:Math.max(i.offsetWidth,t.minWidth),height:Math.max(i.offsetHeight,t.minHeight)},this.parentData=e),!this.fulled&&e||(e=this.containerData),this.viewerData=yn({},e)},renderViewer:function(){this.options.inline&&!this.fulled&&kn(this.viewer,this.viewerData)},initList:function(){var r=this,e=this.element,o=this.options,t=this.list,l=[];bn(this.images,function(e,t){var i,n=Cn(e.src),a=Cn(e.alt||(un(i=n)?decodeURIComponent(i.replace(/^.*\//,"").replace(/[?&#].*$/,"")):"")),s=o.url;un(s)?s=Cn(e.getAttribute(s)):wn(s)&&(s=Cn(s.call(r,e))),(n||s)&&l.push("<li><img"+' src="'.concat(n||s,'"')+' role="button" data-viewer-action="view"'+' data-index="'.concat(t,'"')+' data-original-url="'.concat(s||n,'"')+' alt="'.concat(a,'"')+"></li>")}),t.innerHTML=l.join(""),this.items=t.getElementsByTagName("li"),bn(this.items,function(t){var e=t.firstElementChild;On(e,"filled",!0),o.loading&&Dn(t,Yi),zn(e,tn,function(e){o.loading&&xn(t,Yi),r.loadImage(e)},{once:!0})}),o.transition&&zn(e,on,function(){Dn(t,Gi)},{once:!0})},renderList:function(e){var t=e||this.index,i=this.items[t].offsetWidth||30,n=i+1;kn(this.list,yn({width:n*this.length},jn({translateX:(this.viewerData.width-i)/2-n*t})))},resetList:function(){var e=this.list;e.innerHTML="",xn(e,Gi),kn(e,jn({translateX:0}))},initImage:function(o){var e,l=this,d=this.options,t=this.image,i=this.viewerData,n=this.footer.offsetHeight,c=i.width,u=Math.max(i.height-n,n),h=this.imageData||{};this.imageInitializing={abort:function(){e.onload=null}},e=Wn(t,function(e,t){var i=e/t,n=c,a=u;l.imageInitializing=!1,c<u*i?a=c/i:n=u*i;var s={naturalWidth:e,naturalHeight:t,aspectRatio:i,ratio:(n=Math.min(.9*n,e))/e,width:n,height:a=Math.min(.9*a,t),left:(c-n)/2,top:(u-a)/2},r=yn({},s);d.rotatable&&(s.rotate=h.rotate||0,r.rotate=0),d.scalable&&(s.scaleX=h.scaleX||1,s.scaleY=h.scaleY||1,r.scaleX=1,r.scaleY=1),l.imageData=s,l.initialImageData=r,o&&o()})},renderImage:function(e){var t,i=this,n=this.image,a=this.imageData;kn(n,yn({width:a.width,height:a.height,marginLeft:a.left,marginTop:a.top},jn(a))),e&&((this.viewing||this.zooming)&&this.options.transition?(t=function(){i.imageRendering=!1,e()},this.imageRendering={abort:function(){Rn(n,rn,t)}},zn(n,rn,t,{once:!0})):e())},resetImage:function(){var e;(this.viewing||this.viewed)&&(e=this.image,this.viewing&&this.viewing.abort(),e.parentNode.removeChild(e),this.image=null)}},Yn={bind:function(){var e=this.options,t=this.viewer,i=this.canvas,n=this.element.ownerDocument;zn(t,Xi,this.onClick=this.click.bind(this)),zn(t,"wheel",this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),zn(t,Ji,this.onDragStart=this.dragstart.bind(this)),zn(i,nn,this.onPointerDown=this.pointerdown.bind(this)),zn(n,an,this.onPointerMove=this.pointermove.bind(this)),zn(n,sn,this.onPointerUp=this.pointerup.bind(this)),zn(n,en,this.onKeyDown=this.keydown.bind(this)),zn(window,"resize",this.onResize=this.resize.bind(this)),e.toggleOnDblclick&&zn(i,Zi,this.onDblclick=this.dblclick.bind(this))},unbind:function(){var e=this.options,t=this.viewer,i=this.canvas,n=this.element.ownerDocument;Rn(t,Xi,this.onClick),Rn(t,"wheel",this.onWheel,{passive:!1,capture:!0}),Rn(t,Ji,this.onDragStart),Rn(i,nn,this.onPointerDown),Rn(n,an,this.onPointerMove),Rn(n,sn,this.onPointerUp),Rn(n,en,this.onKeyDown),Rn(window,"resize",this.onResize),e.toggleOnDblclick&&Rn(i,Zi,this.onDblclick)}},Vn={click:function(e){var t=e.target,i=this.options,n=this.imageData,a=An(t,ln);switch(Si&&e.isTrusted&&t===this.canvas&&clearTimeout(this.clickCanvasTimeout),a){case"mix":this.played?this.stop():i.inline?this.fulled?this.exit():this.full():this.hide();break;case"hide":this.hide();break;case"view":this.view(An(t,"index"));break;case"zoom-in":this.zoom(.1,!0);break;case"zoom-out":this.zoom(-.1,!0);break;case"one-to-one":this.toggle();break;case"reset":this.reset();break;case"prev":this.prev(i.loop);break;case"play":this.play(i.fullscreen);break;case"next":this.next(i.loop);break;case"rotate-left":this.rotate(-90);break;case"rotate-right":this.rotate(90);break;case"flip-horizontal":this.scaleX(-n.scaleX||-1);break;case"flip-vertical":this.scaleY(-n.scaleY||-1);break;default:this.played&&this.stop()}},dblclick:function(e){e.preventDefault(),this.viewed&&e.target===this.image&&(Si&&e.isTrusted&&clearTimeout(this.doubleClickImageTimeout),this.toggle())},load:function(){var e=this;this.timeout&&(clearTimeout(this.timeout),this.timeout=!1);var t=this.element,i=this.options,n=this.image,a=this.index,s=this.viewerData;xn(n,qi),i.loading&&xn(this.canvas,Yi),n.style.cssText="height:0;"+"margin-left:".concat(s.width/2,"px;")+"margin-top:".concat(s.height/2,"px;")+"max-width:none!important;position:absolute;width:0;",this.initImage(function(){En(n,Vi,i.movable),En(n,Gi,i.transition),e.renderImage(function(){e.viewed=!0,e.viewing=!1,wn(i.viewed)&&zn(t,on,i.viewed,{once:!0}),$n(t,on,{originalImage:e.images[a],index:a,image:n})})})},loadImage:function(e){var s=e.target,t=s.parentNode,r=t.offsetWidth||30,o=t.offsetHeight||50,l=!!An(s,"filled");Wn(s,function(e,t){var i=e/t,n=r,a=o;r<o*i?l?n=o*i:a=r/i:l?a=r/i:n=o*i,kn(s,yn({width:n,height:a},jn({translateX:(r-n)/2,translateY:(o-a)/2})))})},keydown:function(e){var t=this.options;if(this.fulled&&t.keyboard)switch(e.keyCode||e.which||e.charCode){case 27:this.played?this.stop():t.inline?this.fulled&&this.exit():this.hide();break;case 32:this.played&&this.stop();break;case 37:this.prev(t.loop);break;case 38:e.preventDefault(),this.zoom(t.zoomRatio,!0);break;case 39:this.next(t.loop);break;case 40:e.preventDefault(),this.zoom(-t.zoomRatio,!0);break;case 48:case 49:e.ctrlKey&&(e.preventDefault(),this.toggle())}},dragstart:function(e){"img"===e.target.tagName.toLowerCase()&&e.preventDefault()},pointerdown:function(e){var t,i=this.options,n=this.pointers,a=e.buttons,s=e.button;!this.viewed||this.showing||this.viewing||this.hiding||fn(a)&&1!==a||fn(s)&&0!==s||e.ctrlKey||(e.preventDefault(),e.changedTouches?bn(e.changedTouches,function(e){n[e.identifier]=Bn(e)}):n[e.pointerId||0]=Bn(e),t=!!i.movable&&Ni,1<Object.keys(n).length?t=Li:"touch"!==e.pointerType&&"touchstart"!==e.type||!this.isSwitchable()||(t="switch"),!i.transition||t!==Ni&&t!==Li||xn(this.image,Gi),this.action=t)},pointermove:function(e){var t=this.pointers,i=this.action;this.viewed&&i&&(e.preventDefault(),e.changedTouches?bn(e.changedTouches,function(e){yn(t[e.identifier]||{},Bn(e,!0))}):yn(t[e.pointerId||0]||{},Bn(e,!0)),this.change(e))},pointerup:function(e){var t,i=this,n=this.options,a=this.action,s=this.pointers;e.changedTouches?bn(e.changedTouches,function(e){t=s[e.identifier],delete s[e.identifier]}):(t=s[e.pointerId||0],delete s[e.pointerId||0]),a&&(e.preventDefault(),!n.transition||a!==Ni&&a!==Li||Dn(this.image,Gi),this.action=!1,Si&&a!==Li&&t&&Date.now()-t.timeStamp<500&&(clearTimeout(this.clickCanvasTimeout),clearTimeout(this.doubleClickImageTimeout),n.toggleOnDblclick&&this.viewed&&e.target===this.image?this.imageClicked?(this.imageClicked=!1,this.doubleClickImageTimeout=setTimeout(function(){$n(i.image,Zi)},50)):(this.imageClicked=!0,this.doubleClickImageTimeout=setTimeout(function(){i.imageClicked=!1},500)):(this.imageClicked=!1,n.backdrop&&"static"!==n.backdrop&&e.target===this.canvas&&(this.clickCanvasTimeout=setTimeout(function(){$n(i.canvas,Xi)},50)))))},resize:function(){var t=this;if(this.isShown&&!this.hiding&&(this.initContainer(),this.initViewer(),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){t.renderImage()}),this.played)){if(this.options.fullscreen&&this.fulled&&!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement))return void this.stop();bn(this.player.getElementsByTagName("img"),function(e){zn(e,tn,t.loadImage.bind(t),{once:!0}),$n(e,tn)})}},wheel:function(e){var t,i,n=this;this.viewed&&(e.preventDefault(),this.wheeling||(this.wheeling=!0,setTimeout(function(){n.wheeling=!1},50),t=Number(this.options.zoomRatio)||.1,i=1,e.deltaY?i=0<e.deltaY?1:-1:e.wheelDelta?i=-e.wheelDelta/120:e.detail&&(i=0<e.detail?1:-1),this.zoom(-i*t,!0,e)))}},Kn={show:function(e){var t=0<arguments.length&&void 0!==e&&e,i=this.element,n=this.options;if(n.inline||this.showing||this.isShown||this.showing)return this;if(!this.ready)return this.build(),this.ready&&this.show(t),this;if(wn(n.show)&&zn(i,"show",n.show,{once:!0}),!1===$n(i,"show")||!this.ready)return this;this.hiding&&this.transitioning.abort(),this.showing=!0,this.open();var a,s=this.viewer;return xn(s,ji),n.transition&&!t?(a=this.shown.bind(this),this.transitioning={abort:function(){Rn(s,rn,a),xn(s,Bi)}},Dn(s,Gi),s.offsetWidth,zn(s,rn,a,{once:!0}),Dn(s,Bi)):(Dn(s,Bi),this.shown()),this},hide:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=this.element,i=this.options;if(i.inline||this.hiding||!this.isShown&&!this.showing)return this;if(wn(i.hide)&&zn(t,"hide",i.hide,{once:!0}),!1===$n(t,"hide"))return this;this.showing&&this.transitioning.abort(),this.hiding=!0,this.played?this.stop():this.viewing&&this.viewing.abort();var n,a,s=this.viewer;return i.transition&&!e?(n=this.hidden.bind(this),a=function(){setTimeout(function(){zn(s,rn,n,{once:!0}),xn(s,Bi)},0)},this.transitioning={abort:function(){this.viewed?Rn(this.image,rn,a):Rn(s,rn,n)}},this.viewed&&In(this.image,Gi)?(zn(this.image,rn,a,{once:!0}),this.zoomTo(0,!1,!1,!0)):a()):(xn(s,Bi),this.hidden()),this},view:function(e){var i=this,t=0<arguments.length&&void 0!==e?e:this.options.initialViewIndex,t=Number(t)||0;if(!this.isShown)return this.index=t,this.show();if(this.hiding||this.played||t<0||t>=this.length||this.viewed&&t===this.index)return this;this.viewing&&this.viewing.abort();var n=this.element,a=this.options,s=this.title,r=this.canvas,o=this.items[t],l=o.querySelector("img"),d=Cn(An(l,"originalUrl")),c=Cn(l.getAttribute("alt")),u=document.createElement("img");if(u.src=d,u.alt=c,wn(a.view)&&zn(n,"view",a.view,{once:!0}),!1===$n(n,"view",{originalImage:this.images[t],index:t,image:u})||!this.isShown||this.hiding||this.played)return this;this.image=u,xn(this.items[this.index],Pi),Dn(o,Pi),this.viewed=!1,this.index=t,this.imageData={},Dn(u,qi),a.loading&&Dn(r,Yi),r.innerHTML="",r.appendChild(u),this.renderList(),s.innerHTML="";function h(){var e=i.imageData,t=Array.isArray(a.title)?a.title[1]:a.title;s.innerHTML=Cn(wn(t)?t.call(i,u,e):"".concat(c," (").concat(e.naturalWidth," × ").concat(e.naturalHeight,")"))}var f;return zn(n,on,h,{once:!0}),this.viewing={abort:function(){Rn(n,on,h),u.complete?this.imageRendering?this.imageRendering.abort():this.imageInitializing&&this.imageInitializing.abort():(u.src="",Rn(u,tn,f),this.timeout&&clearTimeout(this.timeout))}},u.complete?this.load():(zn(u,tn,f=this.load.bind(this),{once:!0}),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){xn(u,qi),i.timeout=!1},1e3)),this},prev:function(e){var t=0<arguments.length&&void 0!==e&&e,i=this.index-1;return i<0&&(i=t?this.length-1:0),this.view(i),this},next:function(e){var t=0<arguments.length&&void 0!==e&&e,i=this.length-1,n=this.index+1;return i<n&&(n=t?0:i),this.view(n),this},move:function(e,t){var i=this.imageData;return this.moveTo(pn(e)?e:i.left+Number(e),pn(t)?t:i.top+Number(t)),this},moveTo:function(e,t){var i,n=1<arguments.length&&void 0!==t?t:e,a=this.imageData;return e=Number(e),n=Number(n),this.viewed&&!this.played&&this.options.movable&&(i=!1,fn(e)&&(a.left=e,i=!0),fn(n)&&(a.top=n,i=!0),i&&this.renderImage()),this},zoom:function(e,t,i){var n=1<arguments.length&&void 0!==t&&t,a=2<arguments.length&&void 0!==i?i:null,s=this.imageData;return e=(e=Number(e))<0?1/(1-e):1+e,this.zoomTo(s.width*e/s.naturalWidth,n,a),this},zoomTo:function(e,t,i,n){var a,s,r,o,l,d,c,u=this,h=1<arguments.length&&void 0!==t&&t,f=2<arguments.length&&void 0!==i?i:null,p=3<arguments.length&&void 0!==n&&n,m=this.element,g=this.options,v=this.pointers,w=this.imageData,b=w.width,y=w.height,_=w.left,k=w.top,C=w.naturalWidth,I=w.naturalHeight;if(fn(e=Math.max(0,e))&&this.viewed&&!this.played&&(p||g.zoomable)){p||(a=Math.max(.01,g.minZoomRatio),s=Math.min(100,g.maxZoomRatio),e=Math.min(Math.max(e,a),s)),f&&.95<e&&e<1.05&&(e=1);var D,x,E=C*e,T=I*e,S=E-b,A=T-y,O=b/C;if(wn(g.zoom)&&zn(m,"zoom",g.zoom,{once:!0}),!1===$n(m,"zoom",{ratio:e,oldRatio:O,originalEvent:f}))return this;this.zooming=!0,f?(d=this.viewer,D={left:(c=d.getBoundingClientRect()).left+(window.pageXOffset-document.documentElement.clientLeft),top:c.top+(window.pageYOffset-document.documentElement.clientTop)},x=v&&Object.keys(v).length?(l=o=r=0,bn(v,function(e){var t=e.startX,i=e.startY;r+=t,o+=i,l+=1}),{pageX:r/=l,pageY:o/=l}):{pageX:f.pageX,pageY:f.pageY},w.left-=(x.pageX-D.left-_)/b*S,w.top-=(x.pageY-D.top-k)/y*A):(w.left-=S/2,w.top-=A/2),w.width=E,w.height=T,w.ratio=e,this.renderImage(function(){u.zooming=!1,wn(g.zoomed)&&zn(m,"zoomed",g.zoomed,{once:!0}),$n(m,"zoomed",{ratio:e,oldRatio:O,originalEvent:f})}),h&&this.tooltip()}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e)),this},rotateTo:function(e){var t=this.imageData;return fn(e=Number(e))&&this.viewed&&!this.played&&this.options.rotatable&&(t.rotate=e,this.renderImage()),this},scaleX:function(e){return this.scale(e,this.imageData.scaleY),this},scaleY:function(e){return this.scale(this.imageData.scaleX,e),this},scale:function(e,t){var i,n=1<arguments.length&&void 0!==t?t:e,a=this.imageData;return e=Number(e),n=Number(n),this.viewed&&!this.played&&this.options.scalable&&(i=!1,fn(e)&&(a.scaleX=e,i=!0),fn(n)&&(a.scaleY=n,i=!0),i&&this.renderImage()),this},play:function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];if(!this.isShown||this.played)return this;var i,a=this.options,s=this.player,r=this.loadImage.bind(this),o=[],l=0,d=0;return this.played=!0,this.onLoadWhenPlay=r,e&&this.requestFullscreen(),Dn(s,Qi),bn(this.items,function(e,t){var i=e.querySelector("img"),n=document.createElement("img");n.src=Cn(An(i,"originalUrl")),n.alt=Cn(i.getAttribute("alt")),l+=1,Dn(n,Hi),En(n,Gi,a.transition),In(e,Pi)&&(Dn(n,Bi),d=t),o.push(n),zn(n,tn,r,{once:!0}),s.appendChild(n)}),fn(a.interval)&&0<a.interval&&(i=function e(){t.playing=setTimeout(function(){xn(o[d],Bi),Dn(o[d=(d+=1)<l?d:0],Bi),e()},a.interval)},1<l&&i()),this},stop:function(){var t=this;if(!this.played)return this;var e=this.player;return this.played=!1,clearTimeout(this.playing),bn(e.getElementsByTagName("img"),function(e){Rn(e,tn,t.onLoadWhenPlay)}),xn(e,Qi),e.innerHTML="",this.exitFullscreen(),this},full:function(){var e=this,t=this.options,i=this.viewer,n=this.image,a=this.list;return!this.isShown||this.played||this.fulled||!t.inline||(this.fulled=!0,this.open(),Dn(this.button,$i),t.transition&&(xn(a,Gi),this.viewed&&xn(n,Gi)),Dn(i,Ri),i.setAttribute("style",""),kn(i,{zIndex:t.zIndex}),this.initContainer(),this.viewerData=yn({},this.containerData),this.renderList(),this.viewed&&this.initImage(function(){e.renderImage(function(){t.transition&&setTimeout(function(){Dn(n,Gi),Dn(a,Gi)},0)})})),this},exit:function(){var e=this,t=this.options,i=this.viewer,n=this.image,a=this.list;return this.isShown&&!this.played&&this.fulled&&t.inline&&(this.fulled=!1,this.close(),xn(this.button,$i),t.transition&&(xn(a,Gi),this.viewed&&xn(n,Gi)),xn(i,Ri),kn(i,{zIndex:t.zIndexInline}),this.viewerData=yn({},this.parentData),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){e.renderImage(function(){t.transition&&setTimeout(function(){Dn(n,Gi),Dn(a,Gi)},0)})})),this},tooltip:function(){var e=this,t=this.options,i=this.tooltipBox,n=this.imageData;return this.viewed&&!this.played&&t.tooltip&&(i.textContent="".concat(Math.round(100*n.ratio),"%"),this.tooltipping?clearTimeout(this.tooltipping):t.transition?(this.fading&&$n(i,rn),Dn(i,Qi),Dn(i,Hi),Dn(i,Gi),i.offsetWidth,Dn(i,Bi)):Dn(i,Qi),this.tooltipping=setTimeout(function(){t.transition?(zn(i,rn,function(){xn(i,Qi),xn(i,Hi),xn(i,Gi),e.fading=!1},{once:!0}),xn(i,Bi),e.fading=!0):xn(i,Qi),e.tooltipping=!1},1e3)),this},toggle:function(){return 1===this.imageData.ratio?this.zoomTo(this.initialImageData.ratio,!0):this.zoomTo(1,!0),this},reset:function(){return this.viewed&&!this.played&&(this.imageData=yn({},this.initialImageData),this.renderImage()),this},update:function(){var e=this.element,t=this.options,i=this.isImg;if(i&&!e.parentNode)return this.destroy();var a,n,s=[];return bn(i?[e]:e.querySelectorAll("img"),function(e){(!t.filter||t.filter(e))&&s.push(e)}),s.length&&(this.images=s,this.length=s.length,this.ready?(a=[],bn(this.items,function(e,t){var i=e.querySelector("img"),n=s[t];n&&n.src===i.src||a.push(t)}),kn(this.list,{width:"auto"}),this.initList(),this.isShown&&(this.length?this.viewed&&(0<=(n=a.indexOf(this.index))?(this.viewed=!1,this.view(Math.max(this.index-(n+1),0))):Dn(this.items[this.index],Pi)):(this.image=null,this.viewed=!1,this.index=0,this.imageData={},this.canvas.innerHTML="",this.title.innerHTML=""))):this.build()),this},destroy:function(){var e=this.element,t=this.options;return e[Oi]&&(this.destroyed=!0,this.ready?(this.played&&this.stop(),t.inline?(this.fulled&&this.exit(),this.unbind()):this.isShown?(this.viewing&&(this.imageRendering?this.imageRendering.abort():this.imageInitializing&&this.imageInitializing.abort()),this.hiding&&this.transitioning.abort(),this.hidden()):this.showing&&(this.transitioning.abort(),this.hidden()),this.ready=!1,this.viewer.parentNode.removeChild(this.viewer)):t.inline&&(this.delaying?this.delaying.abort():this.initializing&&this.initializing.abort()),t.inline||Rn(e,Xi,this.onStart),e[Oi]=void 0),this}},Qn={open:function(){var e=this.body;Dn(e,Ki),e.style.paddingRight="".concat(this.scrollbarWidth+(parseFloat(this.initialBodyPaddingRight)||0),"px")},close:function(){var e=this.body;xn(e,Ki),e.style.paddingRight=this.initialBodyPaddingRight},shown:function(){var e=this.element,t=this.options;this.fulled=!0,this.isShown=!0,this.render(),this.bind(),this.showing=!1,wn(t.shown)&&zn(e,"shown",t.shown,{once:!0}),!1!==$n(e,"shown")&&this.ready&&this.isShown&&!this.hiding&&this.view(this.index)},hidden:function(){var e=this.element,t=this.options;this.fulled=!1,this.viewed=!1,this.isShown=!1,this.close(),this.unbind(),Dn(this.viewer,ji),this.resetList(),this.resetImage(),this.hiding=!1,this.destroyed||(wn(t.hidden)&&zn(e,"hidden",t.hidden,{once:!0}),$n(e,"hidden"))},requestFullscreen:function(){var e,t=this.element.ownerDocument;this.fulled&&!(t.fullscreenElement||t.webkitFullscreenElement||t.mozFullScreenElement||t.msFullscreenElement)&&((e=t.documentElement).requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen&&e.msRequestFullscreen())},exitFullscreen:function(){var e=this.element.ownerDocument;this.fulled&&(e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement)&&(e.exitFullscreen?e.exitFullscreen():e.webkitExitFullscreen?e.webkitExitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.msExitFullscreen&&e.msExitFullscreen())},change:function(e){var t,i,l,n=this.options,a=this.pointers,s=a[Object.keys(a)[0]],r=s.endX-s.startX,o=s.endY-s.startY;switch(this.action){case Ni:this.move(r,o);break;case Li:this.zoom((i=yn({},t=a),l=[],bn(t,function(o,e){delete i[e],bn(i,function(e){var t=Math.abs(o.startX-e.startX),i=Math.abs(o.startY-e.startY),n=Math.abs(o.endX-e.endX),a=Math.abs(o.endY-e.endY),s=Math.sqrt(t*t+i*i),r=(Math.sqrt(n*n+a*a)-s)/s;l.push(r)})}),l.sort(function(e,t){return Math.abs(e)<Math.abs(t)}),l[0]),!1,e);break;case"switch":this.action="switched";var d=Math.abs(r);1<d&&d>Math.abs(o)&&(this.pointers={},1<r?this.prev(n.loop):r<-1&&this.next(n.loop))}bn(a,function(e){e.startX=e.endX,e.startY=e.endY})},isSwitchable:function(){var e=this.imageData,t=this.viewerData;return 1<this.length&&0<=e.left&&0<=e.top&&e.width<=t.width&&e.height<=t.height}},Gn=Ti.Viewer,Xn=function(){function i(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),!e||1!==e.nodeType)throw new Error("The first argument is required and must be an element.");this.element=e,this.options=yn({},xi,vn(t)&&t),this.action=!1,this.fading=!1,this.fulled=!1,this.hiding=!1,this.imageClicked=!1,this.imageData={},this.index=this.options.initialViewIndex,this.isImg=!1,this.isShown=!1,this.length=0,this.played=!1,this.playing=!1,this.pointers={},this.ready=!1,this.showing=!1,this.timeout=!1,this.tooltipping=!1,this.viewed=!1,this.viewing=!1,this.wheeling=!1,this.zooming=!1,this.init()}var e,t,n;return e=i,n=[{key:"noConflict",value:function(){return window.Viewer=Gn,i}},{key:"setDefaults",value:function(e){yn(xi,vn(e)&&e)}}],(t=[{key:"init",value:function(){var e,t,i,n,a,s,r=this,o=this.element,l=this.options;o[Oi]||(o[Oi]=this,e="img"===o.tagName.toLowerCase(),t=[],bn(e?[o]:o.querySelectorAll("img"),function(e){(!wn(l.filter)||l.filter.call(r,e))&&t.push(e)}),this.isImg=e,this.length=t.length,this.images=t,n=(i=o.ownerDocument).body||i.documentElement,this.body=n,this.scrollbarWidth=window.innerWidth-i.documentElement.clientWidth,this.initialBodyPaddingRight=window.getComputedStyle(n).paddingRight,pn(document.createElement(Oi).style.transition)&&(l.transition=!1),l.inline?(a=0,s=function(){var e;(a+=1)===r.length&&(r.initializing=!1,r.delaying={abort:function(){clearTimeout(e)}},e=setTimeout(function(){r.delaying=!1,r.build()},0))},this.initializing={abort:function(){bn(t,function(e){e.complete||Rn(e,tn,s)})}},bn(t,function(e){e.complete?s():zn(e,tn,s,{once:!0})})):zn(o,Xi,this.onStart=function(e){var t=e.target;"img"!==t.tagName.toLowerCase()||wn(l.filter)&&!l.filter.call(r,t)||r.view(r.images.indexOf(t))}))}},{key:"build",value:function(){var e,l,t,i,n,a,s,r,o,d,c,u,h,f,p,m,g;this.ready||(e=this.element,l=this.options,t=e.parentNode,(i=document.createElement("div")).innerHTML='<div class="viewer-container" touch-action="none"><div class="viewer-canvas"></div><div class="viewer-footer"><div class="viewer-title"></div><div class="viewer-toolbar"></div><div class="viewer-navbar"><ul class="viewer-list"></ul></div></div><div class="viewer-tooltip"></div><div role="button" class="viewer-button" data-viewer-action="mix"></div><div class="viewer-player"></div></div>',a=(n=i.querySelector(".".concat(Oi,"-container"))).querySelector(".".concat(Oi,"-title")),s=n.querySelector(".".concat(Oi,"-toolbar")),r=n.querySelector(".".concat(Oi,"-navbar")),o=n.querySelector(".".concat(Oi,"-button")),d=n.querySelector(".".concat(Oi,"-canvas")),this.parent=t,this.viewer=n,this.title=a,this.toolbar=s,this.navbar=r,this.button=o,this.canvas=d,this.footer=n.querySelector(".".concat(Oi,"-footer")),this.tooltipBox=n.querySelector(".".concat(Oi,"-tooltip")),this.player=n.querySelector(".".concat(Oi,"-player")),this.list=n.querySelector(".".concat(Oi,"-list")),Dn(a,l.title?Un(Array.isArray(l.title)?l.title[0]:l.title):ji),Dn(r,l.navbar?Un(l.navbar):ji),En(o,ji,!l.button),l.backdrop&&(Dn(n,"".concat(Oi,"-backdrop")),l.inline||"static"===l.backdrop||On(d,ln,"hide")),un(l.className)&&l.className&&l.className.split(dn).forEach(function(e){Dn(n,e)}),l.toolbar?(c=document.createElement("ul"),u=vn(l.toolbar),h=cn.slice(0,3),f=cn.slice(7,9),p=cn.slice(9),u||Dn(s,Un(l.toolbar)),bn(u?l.toolbar:cn,function(e,t){var i,n,a,s=u&&vn(e),r=u?Sn(t):e,o=s&&!pn(e.show)?e.show:e;!o||!l.zoomable&&-1!==h.indexOf(r)||!l.rotatable&&-1!==f.indexOf(r)||!l.scalable&&-1!==p.indexOf(r)||(i=s&&!pn(e.size)?e.size:e,n=s&&!pn(e.click)?e.click:e,(a=document.createElement("li")).setAttribute("role","button"),Dn(a,"".concat(Oi,"-").concat(r)),wn(n)||On(a,ln,r),fn(o)&&Dn(a,Un(o)),-1!==["small","large"].indexOf(i)?Dn(a,"".concat(Oi,"-").concat(i)):"play"===r&&Dn(a,"".concat(Oi,"-large")),wn(n)&&zn(a,Xi,n),c.appendChild(a))}),s.appendChild(c)):Dn(s,ji),l.rotatable||(Dn(m=s.querySelectorAll('li[class*="rotate"]'),qi),bn(m,function(e){s.appendChild(e)})),l.inline?(Dn(o,zi),kn(n,{zIndex:l.zIndexInline}),"static"===window.getComputedStyle(t).position&&kn(t,{position:"relative"}),t.insertBefore(n,e.nextSibling)):(Dn(o,Mi),Dn(n,Ri),Dn(n,Hi),Dn(n,ji),kn(n,{zIndex:l.zIndex}),un(g=l.container)&&(g=e.ownerDocument.querySelector(g)),(g=g||this.body).appendChild(n)),l.inline&&(this.render(),this.bind(),this.isShown=!0),this.ready=!0,wn(l.ready)&&zn(e,"ready",l.ready,{once:!0}),!1!==$n(e,"ready")?this.ready&&l.inline&&this.view(this.index):this.ready=!1)}}])&&Di(e.prototype,t),n&&Di(e,n),i}();yn(Xn.prototype,qn,Yn,Vn,Kn,Qn);function Zn(e){if(422==e.error)for(var t in e.data)e.message=e.data[t].text;return e.message||(e.message="Unable to parse server response"),e}var Jn=function(){function e(t,e){var i={multiple:e.multiple||!1,type:e.accept||"*/*",btnUpload:'<i class="fas fa-upload"></i>',selected:function(e){t(e)}};window.AConf&&window.AConf.libUpload&&window.AConf.libUpload.thumbs&&(i.thumbnails=window.AConf.libUpload.thumbs),i=this._defineFileSearch(i),i=this._defineFileUpload(i,e),new FilePicker(i)}var t=e.prototype;return t._defineFileSearch=function(e){return window.AConf&&window.AConf.libUpload&&(e.search=function(e,t,i){var n={query:e,type:t},a=window.AConf.libUpload.search;$.get(a,n,function(e){if(e.error)return i([]);var t=[];e.data.forEach(function(e){/image/.test(e.type)&&!e.thumb&&(e.thumb=e.url),t.push(e)}),i(t)}).fail(function(e){$.dialog.alert("Whoops!","Failed to fetch data from server"),i([])})}),e},t._defineFileUpload=function(e,a){var s=this;return window.AConf&&window.AConf.libUpload&&window.AConf.libUpload.upload&&(e.upload=function(t,i,n){i.style.width="5%",s._findByHash(t,i,function(e){return!e.error&&e.data.length?s._formatResult(e.data[0],n):void s._uploadFile(t,a,i,function(e){return e.error?void n(e.message):s._formatResult(e.data,n)})})}),e},t._formatResult=function(e,t){/image/.test(e.type)&&!e.thumb&&(e.thumb=e.url),t(e)},t._findByHash=function(i,n,a){n.style.width="10%";var e=new FileReader;e.onerror=function(){return a({error:1})},e.onload=function(e){if(i.size!=e.target.result.length)return a({error:1});n.style.width="15%";var t=SparkMD5.hashBinary(e.target.result);n.style.width="20%",$.get(window.AConf.libUpload.search,{hash:t},a)},e.readAsBinaryString(i)},t._uploadFile=function(t,i,n,a){var s=this;n.style.width="25%",this._validateFile(t,i,n,function(e){return e.error?a(e):(n.style.width="30%",t.size<5e5?s._uploadFileSingle(t,i,n,a):void s._uploadFileChunks(t,i,n,e.data.token,a))})},t._uploadFileChunks=function(t,i,n,a,s){new FileUploader({url:window.AConf.libUpload.chunk,files:{file:t},fields:{form:i.form,token:a},chunks:{minSize:1,after:function(){var e={form:i.form,token:a,name:t.name};$.ajax({type:"POST",url:window.AConf.libUpload.finalize,data:JSON.stringify(e),contentType:"application/json",dataType:"json",success:function(e){e.error&&(e=Zn(e)),s(e)},error:function(){s({error:1,messag:"Unable to reach server"})}})}},onChankUploaded:function(e,t,i,n){if(i.error)return n((i=Zn(i)).message);n(!0)},onProgress:function(e,t){n.style.width=30+t/100*60+"%"},onSuccess:function(e,t,i){if("object"!=typeof i)return s({error:1,message:"Unable to parse server response"});i.error&&(i=Zn(i)),n.style.width="100%",s(i)},onError:function(){s({error:1,message:"Failed on uploading the file"})}}).send()},t._uploadFileSingle=function(e,t,n,a){new FileUploader({url:window.AConf.libUpload.upload,files:{file:e},fields:{form:t.form},onSuccess:function(e,t,i){if(n.style.width="100%","object"!=typeof i)return a({error:1,message:"Unable to parse server response"});i.error&&(i=Zn(i)),a(i)},onError:function(){a({error:1,message:"Failed on uploading the file"})}}).send()},t._validateFile=function(e,t,i,n){function a(){$.ajax({type:"POST",url:window.AConf.libUpload.validate,data:JSON.stringify(r),contentType:"application/json",dataType:"json",success:function(e){e.error&&(e=Zn(e)),n(e)},error:function(){n({error:1,messag:"Unable to reach server"})}})}var s,r={form:t.form,file:{size:e.size,type:e.type,name:e.name,width:null,height:null}};/image\//.test(e.type)?((s=new Image).src=window.URL.createObjectURL(e),s.onload=function(){r.file.width=s.width,r.file.height=s.height,a()}):a()},e}(),ea="bs.admin",ta="."+ea,ia=".data-api",na=(f.fn.admin,{CLICK_DATA_API:"click"+ta+ia,DRAWER_SHOWN:"shown.bs.drawer",LOAD_DATA_API:"load"+ta+ia}),aa={DRAWER_MAIN:[!1,"#"+"drawer-main"],DRAWER_MAIN_FILTER:[!1,"#"+"drawer-main-filter"],DRAWER_MAIN_MENU:[!1,"#"+"drawer-main-menu"],DRAWER_MAIN_SEARCH:[!1,"#"+"drawer-main-search"]},sa=function(){function e(){this._populateElements(),this._drawerState="menu",this._drawerMainAddListener(),this._navbarMainAddListener(),this._imageViewer(),this._inputDatetimepicker(),this._inputFormCodeMirror(),this._inputFormFiles(),this._inputFormGallery(),this._inputFormFileURL(),this._inputFormImage(),this._inputPasswordStrength(),this._inputSummernote(),f(".form-autocomplete").autocomplete({preProcess:function(e){if(e.error)return[];var t=[];return e.data.forEach(function(e){return t.push(e.label)}),t}}),f(".selectpicker").selectpickerAjax({ajaxPreProcess:function(e){if(e.error)return{};var t={};return e.data.forEach(function(e){return t[e.id]=e.label}),t}}),f(".form-confirm").confirm(),f(".needs-validation").formerror(),f(".picker-color").pickercolor(),f(".custom-range").rangetips(),f(".tag-input-filter").taginput(),f(".slugify").slugify(),f(".linkfilter").linkfilter(),this._formMainAutofocus()}var t=e.prototype;return t._drawerMainAddListener=function(){var i=this;this._el.DRAWER_MAIN&&(f(this._el.DRAWER_MAIN).on(na.DRAWER_SHOWN,function(e){return i._el.DRAWER_MAIN_FILTER.focus()}),f(this._el.DRAWER_MAIN_SEARCH).linkfilter({input:this._el.DRAWER_MAIN_FILTER,empty:!0}),f(this._el.DRAWER_MAIN_FILTER).on("input paste change search",function(e){var t=i._el.DRAWER_MAIN_FILTER.value.trim()?"search":"menu";t!==i._drawerState&&("menu"===i._drawerState?(i._el.DRAWER_MAIN_MENU.style.display="none",i._el.DRAWER_MAIN_SEARCH.style.removeProperty("display")):(i._el.DRAWER_MAIN_MENU.style.removeProperty("display"),i._el.DRAWER_MAIN_SEARCH.style.display="none"),i._drawerState=t)}),f(this._el.DRAWER_MAIN_FILTER).on("keyup.admin-ui",function(e){40===e.keyCode&&(i._el.DRAWER_MAIN_FILTER.value.trim()||f(i._el.DRAWER_MAIN_MENU).find("> ul > li:first-child > a").focus())}))},t._formMainAutofocus=function(){var e=document.querySelector("form.main");if(e){for(var t=null,i=0;i<e.elements.length;i++){var n=e.elements[i];if(n.classList.contains("form-control")){t=t||n;var a=f(n).closest(".form-group");if(a&&a.hasClass("is-invalid")){t=n;break}}}t&&t.focus()}},t._getViewerOption=function(e,t){var i={button:!1,navbar:!1,loop:!1,movable:!1,zoomable:!1,scalable:!1};return e?(i.navbar=!0,i.initialViewIndex=t||0):i.toolbar={reset:!0,rotateLeft:!0,rotateRight:!0,prev:!1,next:!1},i},t._imageViewer=function(){var t=this._getViewerOption(!1);document.querySelectorAll(".img-viewer").forEach(function(e){f(e).data("viwerjs.admin-ui",new Xn(e,t))}),t=this._getViewerOption(!0),document.querySelectorAll(".gallery-viewer").forEach(function(e){f(e).data("viwerjs.admin-ui",new Xn(e,t))})},t._inputDatetimepicker=function(){var i={date:"YYYY-MM-DD","datetime-local":"YYYY-MM-DDTHH:mm:ss",month:"YYYY-MM",time:"HH:mm:ss"};document.querySelectorAll(".datetimepicker").forEach(function(e){var t=f(e).children("input.form-control").get(0).getAttribute("type");i[t]&&f(e).datetimepicker({format:i[t]})})},t._inputFormCodeMirror=function(){document.querySelectorAll(".form-codemirror").forEach(function(e){var t,i={theme:"default",indentUnit:4,smartIndent:!0,tabSize:4,indentWithTabs:!1,lineNumbers:!0,mode:e.dataset.mode},n=window.CodeMirror.fromTextArea(e,i);f(e).data("codemirror.bs.admin",n),!e.id||(t=document.querySelector('[for="'+e.id+'"'))&&(f(t).data("codemirror",e),f(t).on("click",function(e){var t=f(e.target).data("codemirror");t&&f(t).data("codemirror.bs.admin").focus()}))})},t._inputFormFiles=function(){var n=this;document.querySelectorAll(".formfiles").forEach(function(e){var t,i;e.dataset.form?(t=function(e){return{url:e.url,name:e.name,meta:e.type||e.mime,icon:'<i class="fas fa-file-alt"></i>'}},i=function(t,e){var i={accept:e._element.dataset.accept,multiple:!0,maxSize:e._element.dataset.maxsize,form:e._element.dataset.form};n.pickFile(function(e){return e.forEach(function(e){return t(e)})},i)}):e.dataset.object&&(t=function(e){return{value:e.value,url:"#0",name:e.name,meta:e.type,icon:e.icon||null}},i=function(t,e){var i={icon:'<i class="'+e._element.dataset.icon+'"></i>',type:e._element.dataset.object};n.pickObject(function(e){return e.forEach(function(e){return t(e)})},i)}),f(e).formfiles({filePicker:i,transform:t})})},t._inputFormFileURL=function(){var n=this;f(".fileurl-picker").fileurl({filePicker:function(t,e){var i={accept:e.dataset.accept||"*/*",multiple:!1,form:e.dataset.form||""};n.pickFile(function(e){return e.forEach(function(e){return t(e.url)})},i)}})},t._inputFormGallery=function(){var n=this;f(".formgallery").formgallery({imagePicker:function(t,e){var i={accept:"image/*",multiple:!0,form:e._element.dataset.form};n.pickFile(function(e){return e.forEach(function(e){return t(e.url)})},i)},imagePreviewer:function(e,t){n.viewImage(e,t)}})},t._inputFormImage=function(){var n=this;f(".formimage").formimage({imagePicker:function(t,e){var i={accept:"image/*",multiple:!1,form:e._element.dataset.form};n.pickFile(function(e){return t(e[0].url)},i)},imagePreviewer:function(e){n.viewImage(e)}})},t._inputPasswordStrength=function(){document.querySelectorAll(".password-strength").forEach(function(e){var t=e.parentNode,i=f(t).children(".progress").get(0);t.classList.add("form-group-password-meter"),f(e).pwdstr({progress:i})})},t._inputSummernote=function(){document.querySelectorAll(".form-summernote").forEach(function(t){var e=[];t.classList.contains("minimal")?e=[["font",["bold","italic","clear"]],["para",["ul","ol"]],["insert",["link"]],["view",["fullscreen"]]]:(e=[["style",["style"]],["font",["bold","italic","clear"]],["para",["ul","ol"]],["table",["table"]],["insert",["link","video"]],["view",["fullscreen","codeview"]]],t.dataset.form&&(e[4]=["insert",["link","picture","video"]])),f(t).summernote({disableResizeEditor:!0,placeholder:t.getAttribute("placeholder"),tabsize:2,height:328,toolbar:e,callbacks:{onFocus:function(e){f(e.currentTarget).parent().parent().addClass("note-editor-focus")},onBlur:function(e){f(e.currentTarget).parent().parent().removeClass("note-editor-focus")}}});var i=t.id;f("label[for="+i+"]").click(function(e){f(t).summernote("focus")})})},t._navbarMainAddListener=function(){var t=this;this._navbar_main=document.querySelector("#navbar-main"),this._navbar_main&&(f(window).on("scroll"+ta+ia,function(e){window.pageYOffset?t._navbar_main.classList.add("navbar-shadow"):t._navbar_main.classList.remove("navbar-shadow")}),f(window).scroll())},t._populateElements=function(){for(var e in this._el={},aa){var t=aa[e][0],i=aa[e][1],n=t?"querySelectorAll":"querySelector";this._el[e]=document[n](i)}},t.pickFile=function(e,t){new Jn(e,t)},t.pickObject=function(t,s){var e={multiple:!0,type:s.type,selected:function(e){t(e)}};window.AConf&&window.AConf.objFilter&&(window.AConf.libUpload&&window.AConf.libUpload.thumbs&&(e.thumbnails=window.AConf.libUpload.thumbs),window.AConf.objFilter.search&&(e.search=function(e,t,i){var n={query:e,type:t},a=window.AConf.objFilter.search;f.get(a,n,function(e){if(e.error)return i([]);var t=[];e.data.forEach(function(e){t.push({name:e.label,path:"#0",type:e.info,thumb:e.thumb||null,icon:e.icon||s.icon||null,value:e.id})}),i(t)}).fail(function(e){f.dialog.alert("Whoops!","Failed to fetch data from server"),i([])})})),new FilePicker(e)},t.viewImage=function(e,t){var i,n=document.createElement("div"),a=n,s=this._getViewerOption(Array.isArray(e),t);Array.isArray(e)?e.forEach(function(e){var t=document.createElement("img");t.src=e,n.appendChild(t)}):((i=document.createElement("img")).src=e,n.appendChild(i),a=i),s.hidden=function(e){return r.destroy()};var r=new Xn(a,s);r.show()},e}();f(window).on(na.LOAD_DATA_API,function(){f(document.body).data(ea)||f(document.body).data(ea,new sa)}),f(document).on(na.CLICK_DATA_API,"a",function(e){"#0"===this.getAttribute("href")&&e.preventDefault()}),e.Admin=sa,e.Autocomplete=y,e.BootstrapSelect="BootstrapSelect",e.BootstrapSelectAjax="BootstrapSelectAjax",e.Confirm=L,e.DateTimePicker=P,e.Dialog=H,e.Drawer=ae,e.FilePicker=re,e.FileUploader=oe,e.FormError=me,e.FormFiles=De,e.FormGallery=Me,e.FormImage=qe,e.LinkFilter=ut,e.ListEditor=ft,e.PasswordStrength=kt,e.PickerColor=Ot,e.RangeTips=jt,e.Slugify=Kt,e.TagInput=ni,e.Toaster=li,e.VerticalMenu=Ci,e.Viewer=Xn,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=bootstrap-plugins.min.js.map